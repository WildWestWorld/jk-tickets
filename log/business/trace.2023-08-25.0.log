2023-08-25 19:52:37.923 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 19:52:37.947 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-08-25 19:52:38.165 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 19:52:38.223 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-08-25 19:52:38.637 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 19:52:38.641 INFO  com.alibaba.nacos.client.utils.ParamUtil          :87   [32m                  [0;39m [settings] [req-serv] nacos-server port:8848
2023-08-25 19:52:38.642 INFO  com.alibaba.nacos.client.utils.ParamUtil          :98   [32m                  [0;39m [settings] [http-client] connect timeout:1000
2023-08-25 19:52:38.644 INFO  com.alibaba.nacos.client.utils.ParamUtil          :105  [32m                  [0;39m PER_TASK_CONFIG_SIZE: 3000.0
2023-08-25 19:52:38.711 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 19:52:38.711 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 19:52:38.718 INFO  c.a.n.client.auth.ram.identify.CredentialWatcher  :165  [32m                  [0;39m null No credential found
2023-08-25 19:52:39.532 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 19:52:39.561 INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor :63   [32m                  [0;39m LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2023-08-25 19:52:39.570 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of d907948f-fa08-43c3-a920-531d832a2b0f_config-0
2023-08-25 19:52:39.610 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f79830
2023-08-25 19:52:39.610 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f79c50
2023-08-25 19:52:39.611 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-25 19:52:39.612 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-25 19:52:39.630 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-25 19:52:39.696 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 19:52:41.440 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692964361205_127.0.0.1_54242
2023-08-25 19:52:41.441 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] Notify connected event to listeners.
2023-08-25 19:52:41.441 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] Connected,notify listen context...
2023-08-25 19:52:41.441 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 19:52:41.442 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [d907948f-fa08-43c3-a920-531d832a2b0f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de788
2023-08-25 19:52:41.554 INFO  com.alibaba.nacos.client.config.impl.Limiter      :62   [32m                  [0;39m limitTime:5.0
2023-08-25 19:52:41.578 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service] & group[DEFAULT_GROUP]
2023-08-25 19:52:41.588 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service.properties] & group[DEFAULT_GROUP]
2023-08-25 19:52:41.596 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service-dev.properties] & group[DEFAULT_GROUP]
2023-08-25 19:52:41.598 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :108  [32m                  [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-business-service-dev.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-business-service.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-business-service,DEFAULT_GROUP'}]
2023-08-25 19:52:41.642 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 19:52:41.644 INFO  com.jktickets.BusinessApplication                 :636  [32m                  [0;39m The following 1 profile is active: "dev"
2023-08-25 19:52:47.713 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2023-08-25 19:52:47.718 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :138  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-08-25 19:52:47.849 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :208  [32m                  [0;39m Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2023-08-25 19:52:48.613 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=441ce18f-08e3-39af-82b0-ac9f7d045ab5
2023-08-25 19:52:48.755 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'com.jktickets.feign.MemberFeign' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.768 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.769 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.770 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.839 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.845 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.847 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.848 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$749/0x000000080126e1f8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.849 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.854 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.858 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 19:52:48.864 INFO  i.s.s.boot.autoconfigure.SeataAutoConfiguration   :63   [32m                  [0;39m Automatically configure Seata
2023-08-25 19:52:48.936 INFO  io.seata.config.ConfigurationFactory              :64   [32m                  [0;39m load Configuration from :Spring Configuration
2023-08-25 19:52:48.943 INFO  io.seata.config.nacos.NacosConfiguration          :233  [32m                  [0;39m Nacos check auth with userName/password.
2023-08-25 19:52:48.954 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 19:52:48.954 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 19:52:49.089 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0
2023-08-25 19:52:49.089 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f79830
2023-08-25 19:52:49.090 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f79c50
2023-08-25 19:52:49.090 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-25 19:52:49.090 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-25 19:52:49.091 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-25 19:52:49.091 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 19:52:49.223 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692964369100_127.0.0.1_54259
2023-08-25 19:52:49.223 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 19:52:49.223 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] Notify connected event to listeners.
2023-08-25 19:52:49.224 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] Connected,notify listen context...
2023-08-25 19:52:49.224 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1bedd27-d0c6-450b-87b7-848803e5be3b_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de788
2023-08-25 19:52:49.240 INFO  com.alibaba.nacos.client.config.utils.JvmUtil     :54   [32m                  [0;39m isMultiInstance:false
2023-08-25 19:52:49.249 INFO  com.alibaba.nacos.client.config.impl.CacheData    :67   [32m                  [0;39m nacos.cache.data.init.snapshot = true 
2023-08-25 19:52:49.250 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] seataServer.properties+SEATA_GROUP+train
2023-08-25 19:52:49.261 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=seataServer.properties, group=SEATA_GROUP, cnt=1
2023-08-25 19:52:49.278 INFO  i.seata.spring.annotation.GlobalTransactionScanner:211  [32m                  [0;39m Initializing Global Transaction Clients ... 
2023-08-25 19:52:49.465 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] transport.enableTmClientBatchSendRequest+SEATA_GROUP+train
2023-08-25 19:52:49.466 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableTmClientBatchSendRequest, group=SEATA_GROUP, cnt=1
2023-08-25 19:52:49.467 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableTmClientBatchSendRequest, group=SEATA_GROUP, cnt=2
2023-08-25 19:52:49.492 INFO  io.seata.core.rpc.netty.NettyClientBootstrap      :147  [32m                  [0;39m NettyClientBootstrap has started
2023-08-25 19:52:49.493 INFO  io.seata.discovery.registry.RegistryFactory       :50   [32m                  [0;39m use registry center type: nacos
2023-08-25 19:52:49.509 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] service.vgroupMapping.train-group+SEATA_GROUP+train
2023-08-25 19:52:49.510 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.vgroupMapping.train-group, group=SEATA_GROUP, cnt=1
2023-08-25 19:52:49.517 INFO  com.alibaba.nacos.client.naming                   :73   [32m                  [0;39m initializer namespace from namespace attribute :null
2023-08-25 19:52:49.533 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 19:52:49.534 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 19:52:49.637 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 49eaa09f-fa2e-4825-b604-64e1875f0dbc
2023-08-25 19:52:49.639 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-08-25 19:52:49.639 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-08-25 19:52:49.640 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-08-25 19:52:49.641 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-25 19:52:49.641 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 19:52:49.763 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692964369650_127.0.0.1_54262
2023-08-25 19:52:49.763 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] Notify connected event to listeners.
2023-08-25 19:52:49.763 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 19:52:49.764 INFO  com.alibaba.nacos.client.naming                   :78   [32m                  [0;39m Grpc connection connect
2023-08-25 19:52:49.764 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de788
2023-08-25 19:52:49.766 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:seata-server, group:SEATA_GROUP, clusters:default 
2023-08-25 19:52:49.788 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: SEATA_GROUP@@seata-server@@default -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceIdGenerator":"simple","instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2023-08-25 19:52:49.791 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server@@default -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceIdGenerator":"simple","instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2023-08-25 19:52:49.798 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:seata-server, group:SEATA_GROUP, clusters:default 
2023-08-25 19:52:49.801 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-25 19:52:49.953 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:TMROLE,address:192.168.0.102:8091,msg:< RegisterTMRequest{version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='ak=null
digest=train-group,192.168.0.102,1692964369951
timestamp=1692964369951
authVersion=V4
vgroup=train-group
ip=192.168.0.102
'} >
2023-08-25 19:52:50.243 WARN  i.s.c.l.EnhancedServiceLoader$InnerEnhancedServiceLoader:545  [32m                  [0;39m Load [io.seata.serializer.hessian.HessianSerializer] class fail: com/caucho/hessian/io/AbstractHessianOutput
2023-08-25 19:52:50.275 INFO  io.seata.core.rpc.netty.TmNettyRemotingClient     :224  [32m                  [0;39m register TM success. client version:1.7.0, server version:1.6.1,channel:[id: 0x74b52f12, L:/192.168.0.102:54268 - R:/192.168.0.102:8091]
2023-08-25 19:52:50.281 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :81   [32m                  [0;39m register success, cost 77 ms, version:1.6.1,role:TMROLE,channel:[id: 0x74b52f12, L:/192.168.0.102:54268 - R:/192.168.0.102:8091]
2023-08-25 19:52:50.282 INFO  i.seata.spring.annotation.GlobalTransactionScanner:225  [32m                  [0;39m Transaction Manager Client is initialized. applicationId[business-service] txServiceGroup[train-group]
2023-08-25 19:52:50.294 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] transport.enableRmClientBatchSendRequest+SEATA_GROUP+train
2023-08-25 19:52:50.295 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableRmClientBatchSendRequest, group=SEATA_GROUP, cnt=1
2023-08-25 19:52:50.295 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableRmClientBatchSendRequest, group=SEATA_GROUP, cnt=2
2023-08-25 19:52:50.318 INFO  io.seata.rm.datasource.AsyncWorker                :73   [32m                  [0;39m Async Commit Buffer Limit: 10000
2023-08-25 19:52:50.319 INFO  io.seata.rm.datasource.xa.ResourceManagerXA       :59   [32m                  [0;39m ResourceManagerXA init ...
2023-08-25 19:52:50.326 INFO  io.seata.core.rpc.netty.NettyClientBootstrap      :147  [32m                  [0;39m NettyClientBootstrap has started
2023-08-25 19:52:50.326 INFO  i.seata.spring.annotation.GlobalTransactionScanner:230  [32m                  [0;39m Resource Manager is initialized. applicationId[business-service] txServiceGroup[train-group]
2023-08-25 19:52:50.326 INFO  i.seata.spring.annotation.GlobalTransactionScanner:234  [32m                  [0;39m Global Transaction Clients are initialized. 
2023-08-25 19:52:50.384 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] Receive server push request, request = NotifySubscriberRequest, requestId = 2
2023-08-25 19:52:50.385 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceIdGenerator":"simple","instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2023-08-25 19:52:50.385 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceIdGenerator":"simple","instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2023-08-25 19:52:50.387 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [49eaa09f-fa2e-4825-b604-64e1875f0dbc] Ack server push request, request = NotifySubscriberRequest, requestId = 2
2023-08-25 19:52:53.201 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :114  [32m                  [0;39m Tomcat initialized with port(s): 8002 (http)
2023-08-25 19:52:53.216 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8002"]
2023-08-25 19:52:53.217 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-08-25 19:52:53.217 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-08-25 19:52:53.306 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-08-25 19:52:53.306 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :291  [32m                  [0;39m Root WebApplicationContext: initialization completed in 11603 ms
2023-08-25 19:52:53.999 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2023-08-25 19:52:54.362 INFO  com.zaxxer.hikari.pool.HikariPool                 :565  [32m                  [0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4510a19a
2023-08-25 19:52:54.364 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2023-08-25 19:52:54.490 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-25 19:52:54.491 INFO  io.seata.core.rpc.netty.RmNettyRemotingClient     :276  [32m                  [0;39m RM will register :jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business
2023-08-25 19:52:54.492 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:RMROLE,address:192.168.0.102:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='null'} >
2023-08-25 19:52:54.502 INFO  io.seata.core.rpc.netty.RmNettyRemotingClient     :177  [32m                  [0;39m register RM success. client version:1.7.0, server version:1.6.1,channel:[id: 0xfc13a3dc, L:/192.168.0.102:54280 - R:/192.168.0.102:8091]
2023-08-25 19:52:54.502 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :81   [32m                  [0;39m register success, cost 8 ms, version:1.6.1,role:RMROLE,channel:[id: 0xfc13a3dc, L:/192.168.0.102:54280 - R:/192.168.0.102:8091]
2023-08-25 19:52:54.518 INFO  i.s.s.a.datasource.SeataAutoDataSourceProxyCreator:101  [32m                  [0;39m Auto proxy data source 'dataSource' by 'AT' mode.
2023-08-25 19:52:55.597 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :62   [32m                  [0;39m Unable to start LiveReload server
2023-08-25 19:52:55.654 INFO  o.s.cloud.openfeign.FeignClientFactoryBean        :437  [32m                  [0;39m For 'member-service' URL not provided. Will try picking an instance via load-balancing.
2023-08-25 19:52:55.991 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] client.tm.degradeCheck+SEATA_GROUP+train
2023-08-25 19:52:55.992 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.tm.degradeCheck, group=SEATA_GROUP, cnt=1
2023-08-25 19:52:55.993 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.tm.degradeCheck, group=SEATA_GROUP, cnt=2
2023-08-25 19:52:56.005 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] service.disableGlobalTransaction+SEATA_GROUP+train
2023-08-25 19:52:56.005 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.disableGlobalTransaction, group=SEATA_GROUP, cnt=1
2023-08-25 19:52:56.006 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.disableGlobalTransaction, group=SEATA_GROUP, cnt=2
2023-08-25 19:52:56.006 INFO  i.seata.spring.annotation.GlobalTransactionScanner:308  [32m                  [0;39m Bean [com.jktickets.service.impl.AfterConfirmOrderServiceImpl] with name [afterConfirmOrderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
2023-08-25 19:52:56.363 INFO  org.redisson.Version                              :41   [32m                  [0;39m Redisson 3.21.0
2023-08-25 19:52:57.397 INFO  o.r.connection.pool.MasterPubSubConnectionPool    :158  [32m                  [0;39m 1 connections initialized for r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com/47.110.123.191:6379
2023-08-25 19:52:58.138 INFO  org.redisson.connection.pool.MasterConnectionPool :158  [32m                  [0;39m 24 connections initialized for r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com/47.110.123.191:6379
2023-08-25 19:52:58.251 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.redisson.spring.starter.RedissonAutoConfiguration
2023-08-25 19:53:00.866 INFO  c.alibaba.cloud.sentinel.SentinelWebMvcConfigurer :52   [32m                  [0;39m [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
2023-08-25 19:53:01.891 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.github.pagehelper.autoconfigure.PageHelperStandardProperties
2023-08-25 19:53:03.686 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 1 endpoint(s) beneath base path '/actuator'
2023-08-25 19:53:03.775 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 19:53:03.775 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 19:53:03.779 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-localhost_8848] [subscribe] sentinel-business-flow+DEFAULT_GROUP+train
2023-08-25 19:53:03.779 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-localhost_8848] [add-listener] ok, tenant=train, dataId=sentinel-business-flow, group=DEFAULT_GROUP, cnt=1
2023-08-25 19:53:03.779 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of cfb42b67-0721-4bf8-8b07-c041503ad391_config-0
2023-08-25 19:53:03.779 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f79830
2023-08-25 19:53:03.779 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f79c50
2023-08-25 19:53:03.779 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-25 19:53:03.780 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-25 19:53:03.780 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2023-08-25 19:53:03.780 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 19:53:03.893 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1692964383786_127.0.0.1_54325
2023-08-25 19:53:03.894 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 19:53:03.894 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] Notify connected event to listeners.
2023-08-25 19:53:03.894 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de788
2023-08-25 19:53:03.894 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [cfb42b67-0721-4bf8-8b07-c041503ad391_config-0] Connected,notify listen context...
2023-08-25 19:53:04.086 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8002"]
2023-08-25 19:53:04.103 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :226  [32m                  [0;39m Tomcat started on port(s): 8002 (http) with context path '/business'
2023-08-25 19:53:04.106 INFO  com.alibaba.nacos.client.naming                   :62   [32m                  [0;39m initializer namespace from ans.namespace attribute : null
2023-08-25 19:53:04.106 INFO  com.alibaba.nacos.client.naming                   :66   [32m                  [0;39m initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2023-08-25 19:53:04.107 INFO  com.alibaba.nacos.client.naming                   :73   [32m                  [0;39m initializer namespace from namespace attribute :null
2023-08-25 19:53:04.107 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 19:53:04.108 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 19:53:04.109 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of ebf65552-4844-42bd-9ec2-28b55a5bdd80
2023-08-25 19:53:04.109 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [ebf65552-4844-42bd-9ec2-28b55a5bdd80] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-08-25 19:53:04.110 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [ebf65552-4844-42bd-9ec2-28b55a5bdd80] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-08-25 19:53:04.110 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [ebf65552-4844-42bd-9ec2-28b55a5bdd80] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-08-25 19:53:04.110 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [ebf65552-4844-42bd-9ec2-28b55a5bdd80] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-25 19:53:04.111 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 19:53:04.224 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [ebf65552-4844-42bd-9ec2-28b55a5bdd80] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692964384117_127.0.0.1_54326
2023-08-25 19:53:04.224 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [ebf65552-4844-42bd-9ec2-28b55a5bdd80] Notify connected event to listeners.
2023-08-25 19:53:04.224 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [ebf65552-4844-42bd-9ec2-28b55a5bdd80] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 19:53:04.224 INFO  com.alibaba.nacos.client.naming                   :78   [32m                  [0;39m Grpc connection connect
2023-08-25 19:53:04.224 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [ebf65552-4844-42bd-9ec2-28b55a5bdd80] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de788
2023-08-25 19:53:04.225 INFO  com.alibaba.nacos.client.naming                   :121  [32m                  [0;39m [REGISTER-SERVICE] train registering service business-service with instance Instance{instanceId='null', ip='192.168.0.102', port=8002, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2023-08-25 19:53:04.233 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :76   [32m                  [0;39m nacos registry, DEFAULT_GROUP business-service 192.168.0.102:8002 register finished
2023-08-25 19:53:04.614 INFO  com.jktickets.BusinessApplication                 :57   [32m                  [0;39m Started BusinessApplication in 28.639 seconds (process running for 30.222)
2023-08-25 19:53:04.622 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service+DEFAULT_GROUP+train
2023-08-25 19:53:04.623 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service, group=DEFAULT_GROUP, cnt=1
2023-08-25 19:53:04.623 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service, group=DEFAULT_GROUP
2023-08-25 19:53:04.623 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service.properties+DEFAULT_GROUP+train
2023-08-25 19:53:04.624 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service.properties, group=DEFAULT_GROUP, cnt=1
2023-08-25 19:53:04.624 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service.properties, group=DEFAULT_GROUP
2023-08-25 19:53:04.625 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service-dev.properties+DEFAULT_GROUP+train
2023-08-25 19:53:04.625 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service-dev.properties, group=DEFAULT_GROUP, cnt=1
2023-08-25 19:53:04.625 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service-dev.properties, group=DEFAULT_GROUP
2023-08-25 19:53:04.627 INFO  com.jktickets.BusinessApplication                 :36   [32m                  [0;39m 启动成功！！
2023-08-25 19:53:04.628 INFO  com.jktickets.BusinessApplication                 :38   [32m                  [0;39m 测试地址: 	http://127.0.0.1:8002/business/hello
2023-08-25 19:53:04.886 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-25 19:53:04.887 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-08-25 19:53:04.891 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 4 ms
2023-08-25 19:54:08.349 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 20:03:20.428 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 20:09:13.528 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965353518w4i  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:13.848 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965353518w4i  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:13.851 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965353518w4i  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:14.005 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965353518w4i  [0;39m ------------- 开始 -------------
2023-08-25 20:09:14.006 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965353518w4i  [0;39m 请求地址: http://192.168.0.102:8002/business/station/queryAll GET
2023-08-25 20:09:14.006 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965353518w4i  [0;39m 类名方法: com.jktickets.controller.StationController.queryAllStationList
2023-08-25 20:09:14.007 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965353518w4i  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:14.070 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965353518w4i  [0;39m 请求参数: []
2023-08-25 20:09:14.071 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965353518w4i  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-08-25 20:09:14.072 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965353518w4i  [0;39m 参数值: com.jktickets.domain.StationExample@415a5175
2023-08-25 20:09:14.155 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692965353518w4i  [0;39m ==>  Preparing: select id, `name`, name_pinyin, name_py, create_time, update_time from station order by name_pinyin asc
2023-08-25 20:09:14.205 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692965353518w4i  [0;39m ==> Parameters: 
2023-08-25 20:09:14.263 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692965353518w4i  [0;39m <==    Columns: id, name, name_pinyin, name_py, create_time, update_time
2023-08-25 20:09:14.303 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692965353518w4i  [0;39m <==        Row: 1680219843401486336, 杭州, hangzhou, hz, 2023-07-15 22:16:42.268, 2023-07-15 22:16:42.268
2023-08-25 20:09:14.306 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692965353518w4i  [0;39m <==        Row: 1680205919650189312, 上海, shanghai, sh, 2023-07-15 21:21:22.591, 2023-07-15 21:21:22.591
2023-08-25 20:09:14.307 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692965353518w4i  [0;39m <==        Row: 1680205862385356800, 温州, wenzhou, wz, 2023-07-15 21:21:08.871, 2023-07-15 21:21:08.871
2023-08-25 20:09:14.308 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692965353518w4i  [0;39m <==      Total: 3
2023-08-25 20:09:14.309 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965353518w4i  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-08-25 20:09:14.361 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965353518w4i  [0;39m 返回结果: {"code":0,"message":"","result":[{"createTime":1689430602268,"id":1680219843401486336,"name":"杭州","namePinyin":"hangzhou","namePy":"hz","updateTime":1689430602268},{"createTime":1689427282591,"id":1680205919650189312,"name":"上海","namePinyin":"shanghai","namePy":"sh","updateTime":1689427282591},{"createTime":1689427268871,"id":1680205862385356800,"name":"温州","namePinyin":"wenzhou","namePy":"wz","updateTime":1689427268871}],"success":true}
2023-08-25 20:09:14.362 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965353518w4i  [0;39m ------------- 结束 耗时：358 ms -------------
2023-08-25 20:09:14.416 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965354416u5v  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:14.417 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965354416u5v  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:14.417 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965354416u5v  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:14.418 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965354416u5v  [0;39m ------------- 开始 -------------
2023-08-25 20:09:14.418 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965354416u5v  [0;39m 请求地址: http://192.168.0.102:8002/business/station/queryAll GET
2023-08-25 20:09:14.419 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965354416u5v  [0;39m 类名方法: com.jktickets.controller.StationController.queryAllStationList
2023-08-25 20:09:14.419 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965354416u5v  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:14.419 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965354416u5v  [0;39m 请求参数: []
2023-08-25 20:09:14.420 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965354416u5v  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-08-25 20:09:14.420 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965354416u5v  [0;39m 参数值: com.jktickets.domain.StationExample@17c908f7
2023-08-25 20:09:14.421 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692965354416u5v  [0;39m ==>  Preparing: select id, `name`, name_pinyin, name_py, create_time, update_time from station order by name_pinyin asc
2023-08-25 20:09:14.422 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692965354416u5v  [0;39m ==> Parameters: 
2023-08-25 20:09:14.436 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692965354416u5v  [0;39m <==    Columns: id, name, name_pinyin, name_py, create_time, update_time
2023-08-25 20:09:14.437 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692965354416u5v  [0;39m <==        Row: 1680219843401486336, 杭州, hangzhou, hz, 2023-07-15 22:16:42.268, 2023-07-15 22:16:42.268
2023-08-25 20:09:14.438 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692965354416u5v  [0;39m <==        Row: 1680205919650189312, 上海, shanghai, sh, 2023-07-15 21:21:22.591, 2023-07-15 21:21:22.591
2023-08-25 20:09:14.439 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692965354416u5v  [0;39m <==        Row: 1680205862385356800, 温州, wenzhou, wz, 2023-07-15 21:21:08.871, 2023-07-15 21:21:08.871
2023-08-25 20:09:14.440 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692965354416u5v  [0;39m <==      Total: 3
2023-08-25 20:09:14.440 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965354416u5v  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-08-25 20:09:14.442 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965354416u5v  [0;39m 返回结果: {"code":0,"message":"","result":[{"createTime":1689430602268,"id":1680219843401486336,"name":"杭州","namePinyin":"hangzhou","namePy":"hz","updateTime":1689430602268},{"createTime":1689427282591,"id":1680205919650189312,"name":"上海","namePinyin":"shanghai","namePy":"sh","updateTime":1689427282591},{"createTime":1689427268871,"id":1680205862385356800,"name":"温州","namePinyin":"wenzhou","namePy":"wz","updateTime":1689427268871}],"success":true}
2023-08-25 20:09:14.443 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965354416u5v  [0;39m ------------- 结束 耗时：25 ms -------------
2023-08-25 20:09:21.806 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965361806ew1  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:21.807 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965361806ew1  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:21.807 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965361806ew1  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:21.966 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965361806ew1  [0;39m ------------- 开始 -------------
2023-08-25 20:09:21.966 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965361806ew1  [0;39m 请求地址: http://192.168.0.102:8002/business/dailyTrainTicket/queryList GET
2023-08-25 20:09:21.966 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965361806ew1  [0;39m 类名方法: com.jktickets.controller.DailyTrainTicketController.queryDailyTrainTicketList
2023-08-25 20:09:21.966 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965361806ew1  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:21.970 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965361806ew1  [0;39m 请求参数: [{"date":1692720000000,"end":"温州","page":1,"size":10,"start":"上海"}]
2023-08-25 20:09:22.035 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965361806ew1  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:22.035 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965361806ew1  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6f24bcc3
2023-08-25 20:09:22.190 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965361806ew1  [0;39m ==>  Preparing: SELECT count(0) FROM daily_train_ticket WHERE (`date` = ? AND `start` = ? AND `end` = ?)
2023-08-25 20:09:22.191 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965361806ew1  [0;39m ==> Parameters: 2023-08-23(Date), 上海(String), 温州(String)
2023-08-25 20:09:22.206 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692965361806ew1  [0;39m <==    Columns: count(0)
2023-08-25 20:09:22.207 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692965361806ew1  [0;39m <==        Row: 0
2023-08-25 20:09:22.208 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965361806ew1  [0;39m <==      Total: 1
2023-08-25 20:09:22.209 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965361806ew1  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:22.211 INFO  com.jktickets.service.DailyTrainTicketService     :133  [32m1692965361806ew1  [0;39m 总行数：0
2023-08-25 20:09:22.211 INFO  com.jktickets.service.DailyTrainTicketService     :134  [32m1692965361806ew1  [0;39m 总页数：0
2023-08-25 20:09:22.229 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965361806ew1  [0;39m 返回结果: {"code":0,"message":"","result":{"list":[],"total":0},"success":true}
2023-08-25 20:09:22.230 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965361806ew1  [0;39m ------------- 结束 耗时：264 ms -------------
2023-08-25 20:09:24.802 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965364802d4o  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:24.803 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965364802d4o  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:24.803 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965364802d4o  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:24.804 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965364802d4o  [0;39m ------------- 开始 -------------
2023-08-25 20:09:24.804 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965364802d4o  [0;39m 请求地址: http://192.168.0.102:8002/business/dailyTrainTicket/queryList GET
2023-08-25 20:09:24.805 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965364802d4o  [0;39m 类名方法: com.jktickets.controller.DailyTrainTicketController.queryDailyTrainTicketList
2023-08-25 20:09:24.805 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965364802d4o  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:24.805 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965364802d4o  [0;39m 请求参数: [{"date":1692633600000,"end":"温州","page":1,"size":10,"start":"上海"}]
2023-08-25 20:09:24.816 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965364802d4o  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:24.816 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965364802d4o  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4ad0316e
2023-08-25 20:09:24.838 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965364802d4o  [0;39m ==>  Preparing: SELECT count(0) FROM daily_train_ticket WHERE (`date` = ? AND `start` = ? AND `end` = ?)
2023-08-25 20:09:24.839 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965364802d4o  [0;39m ==> Parameters: 2023-08-22(Date), 上海(String), 温州(String)
2023-08-25 20:09:24.859 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692965364802d4o  [0;39m <==    Columns: count(0)
2023-08-25 20:09:24.859 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692965364802d4o  [0;39m <==        Row: 0
2023-08-25 20:09:24.860 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965364802d4o  [0;39m <==      Total: 1
2023-08-25 20:09:24.860 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965364802d4o  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:24.861 INFO  com.jktickets.service.DailyTrainTicketService     :133  [32m1692965364802d4o  [0;39m 总行数：0
2023-08-25 20:09:24.861 INFO  com.jktickets.service.DailyTrainTicketService     :134  [32m1692965364802d4o  [0;39m 总页数：0
2023-08-25 20:09:24.875 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965364802d4o  [0;39m 返回结果: {"code":0,"message":"","result":{"list":[],"total":0},"success":true}
2023-08-25 20:09:24.876 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965364802d4o  [0;39m ------------- 结束 耗时：72 ms -------------
2023-08-25 20:09:32.563 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965372563wzw  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:32.563 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965372563wzw  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:32.564 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965372563wzw  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:32.565 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965372563wzw  [0;39m ------------- 开始 -------------
2023-08-25 20:09:32.565 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965372563wzw  [0;39m 请求地址: http://192.168.0.102:8002/business/dailyTrainTicket/queryList GET
2023-08-25 20:09:32.565 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965372563wzw  [0;39m 类名方法: com.jktickets.controller.DailyTrainTicketController.queryDailyTrainTicketList
2023-08-25 20:09:32.565 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965372563wzw  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:32.565 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965372563wzw  [0;39m 请求参数: [{"date":1692806400000,"end":"温州","page":1,"size":10,"start":"上海"}]
2023-08-25 20:09:32.576 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965372563wzw  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:32.576 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965372563wzw  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@440f865b
2023-08-25 20:09:32.594 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965372563wzw  [0;39m ==>  Preparing: SELECT count(0) FROM daily_train_ticket WHERE (`date` = ? AND `start` = ? AND `end` = ?)
2023-08-25 20:09:32.594 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965372563wzw  [0;39m ==> Parameters: 2023-08-24(Date), 上海(String), 温州(String)
2023-08-25 20:09:32.608 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692965372563wzw  [0;39m <==    Columns: count(0)
2023-08-25 20:09:32.608 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692965372563wzw  [0;39m <==        Row: 0
2023-08-25 20:09:32.609 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965372563wzw  [0;39m <==      Total: 1
2023-08-25 20:09:32.609 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965372563wzw  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:32.610 INFO  com.jktickets.service.DailyTrainTicketService     :133  [32m1692965372563wzw  [0;39m 总行数：0
2023-08-25 20:09:32.610 INFO  com.jktickets.service.DailyTrainTicketService     :134  [32m1692965372563wzw  [0;39m 总页数：0
2023-08-25 20:09:32.620 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965372563wzw  [0;39m 返回结果: {"code":0,"message":"","result":{"list":[],"total":0},"success":true}
2023-08-25 20:09:32.621 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965372563wzw  [0;39m ------------- 结束 耗时：56 ms -------------
2023-08-25 20:09:35.951 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965375951e9z  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:35.952 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965375951e9z  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:35.952 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965375951e9z  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:35.953 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965375951e9z  [0;39m ------------- 开始 -------------
2023-08-25 20:09:35.953 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965375951e9z  [0;39m 请求地址: http://192.168.0.102:8002/business/dailyTrainTicket/queryList GET
2023-08-25 20:09:35.953 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965375951e9z  [0;39m 类名方法: com.jktickets.controller.DailyTrainTicketController.queryDailyTrainTicketList
2023-08-25 20:09:35.953 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965375951e9z  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:35.953 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965375951e9z  [0;39m 请求参数: [{"date":1692547200000,"end":"温州","page":1,"size":10,"start":"上海"}]
2023-08-25 20:09:35.964 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965375951e9z  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:35.964 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965375951e9z  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4ca539b3
2023-08-25 20:09:35.984 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965375951e9z  [0;39m ==>  Preparing: SELECT count(0) FROM daily_train_ticket WHERE (`date` = ? AND `start` = ? AND `end` = ?)
2023-08-25 20:09:35.984 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965375951e9z  [0;39m ==> Parameters: 2023-08-21(Date), 上海(String), 温州(String)
2023-08-25 20:09:36.001 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692965375951e9z  [0;39m <==    Columns: count(0)
2023-08-25 20:09:36.002 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692965375951e9z  [0;39m <==        Row: 1
2023-08-25 20:09:36.002 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692965375951e9z  [0;39m <==      Total: 1
2023-08-25 20:09:36.003 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965375951e9z  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and `start` = ? and `end` = ? ) order by id desc LIMIT ?
2023-08-25 20:09:36.004 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965375951e9z  [0;39m ==> Parameters: 2023-08-21(Date), 上海(String), 温州(String), 10(Integer)
2023-08-25 20:09:36.021 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965375951e9z  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:36.022 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965375951e9z  [0;39m <==        Row: 1693625240992747520, 2023-08-21, 01, 上海, shanghai, 00:02:00, 0, 温州, wenzhou, 22:14:58, 1, 26, 0.48, 25, 0.36, -1, 0.72, -1, 0.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:36.024 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965375951e9z  [0;39m <==      Total: 1
2023-08-25 20:09:36.024 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965375951e9z  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:36.025 INFO  com.jktickets.service.DailyTrainTicketService     :133  [32m1692965375951e9z  [0;39m 总行数：1
2023-08-25 20:09:36.025 INFO  com.jktickets.service.DailyTrainTicketService     :134  [32m1692965375951e9z  [0;39m 总页数：1
2023-08-25 20:09:36.095 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965375951e9z  [0;39m 返回结果: {"code":0,"message":"","result":{"list":[{"createTime":1692626698145,"date":1692547200000,"edz":25,"edzPrice":0.36,"end":"温州","endIndex":1,"endPinyin":"wenzhou","endTime":51298000,"id":1693625240992747520,"rw":-1,"rwPrice":0.72,"start":"上海","startIndex":0,"startPinyin":"shanghai","startTime":-28680000,"trainCode":"01","updateTime":1692626698145,"ydz":26,"ydzPrice":0.48,"yw":-1,"ywPrice":0.60}],"total":1},"success":true}
2023-08-25 20:09:36.095 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965375951e9z  [0;39m ------------- 结束 耗时：142 ms -------------
2023-08-25 20:09:51.615 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965391613px2  [0;39m ------------- 开始 -------------
2023-08-25 20:09:51.616 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965391613px2  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/TAUJicRU GET
2023-08-25 20:09:51.616 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965391613px2  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-25 20:09:51.616 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965391613px2  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:51.617 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965391613px2  [0;39m 请求参数: ["TAUJicRU",null]
2023-08-25 20:09:53.028 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965391613px2  [0;39m 返回结果: null
2023-08-25 20:09:53.028 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965391613px2  [0;39m ------------- 结束 耗时：1413 ms -------------
2023-08-25 20:09:56.334 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965396334w65  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:56.334 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965396334w65  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:56.335 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965396334w65  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:56.359 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965396334w65  [0;39m ------------- 开始 -------------
2023-08-25 20:09:56.359 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965396334w65  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/doConfirm POST
2023-08-25 20:09:56.359 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965396334w65  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-08-25 20:09:56.359 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965396334w65  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:56.368 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965396334w65  [0;39m 请求参数: [{"dailyTrainTicketId":1693625240992747520,"date":1692547200000,"end":"温州","imageCode":"f","imageCodeToken":"TAUJicRU","start":"上海","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}],"trainCode":"01"}]
2023-08-25 20:09:56.478 INFO  com.jktickets.service.SkTokenService              :168  [32m1692965396334w65  [0;39m 会员[1680932902797447168] 获取日期[2023-08-21] 车次[01] 的令牌开始
2023-08-25 20:09:56.496 INFO  com.jktickets.service.SkTokenService              :232  [32m1692965396334w65  [0;39m 缓存中没有该车次令牌大闸的key：SK_TOKEN_COUNT-2023-08-21-01-1680932902797447168
2023-08-25 20:09:56.499 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.SkTokenMapper.selectByExample(SkTokenExample))
2023-08-25 20:09:56.499 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.SkTokenExample@5e6caa4b
2023-08-25 20:09:56.514 DEBUG c.jktickets.mapper.SkTokenMapper.selectByExample  :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `count`, create_time, update_time from sk_token WHERE ( `date` = ? and train_code = ? )
2023-08-25 20:09:56.515 DEBUG c.jktickets.mapper.SkTokenMapper.selectByExample  :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String)
2023-08-25 20:09:56.530 TRACE c.jktickets.mapper.SkTokenMapper.selectByExample  :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, count, create_time, update_time
2023-08-25 20:09:56.531 TRACE c.jktickets.mapper.SkTokenMapper.selectByExample  :143  [32m1692965396334w65  [0;39m <==        Row: 1693625242460753920, 2023-08-21, 01, 9983166, 2023-08-21 22:04:58, 2023-08-23 21:25:43.439
2023-08-25 20:09:56.532 DEBUG c.jktickets.mapper.SkTokenMapper.selectByExample  :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:56.532 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.SkTokenMapper.selectByExample(SkTokenExample))
2023-08-25 20:09:56.533 INFO  com.jktickets.service.SkTokenService              :252  [32m1692965396334w65  [0;39m 将该车次令牌放入缓存中,key:SK_TOKEN_COUNT-2023-08-21-01-1680932902797447168,count:9983165
2023-08-25 20:09:56.546 INFO  com.jktickets.service.BeforeConfirmOrderService   :74   [32m1692965396334w65  [0;39m 令牌校验通过
2023-08-25 20:09:56.571 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-25 20:09:56.571 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1431140041, id=1695045845151518720, memberId=1680932902797447168, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=上海, end=温州, dailyTrainTicketId=1693625240992747520, status=I, createTime=2023-08-25 20:09:56, updateTime=2023-08-25 20:09:56, tickets=[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}]]
2023-08-25 20:09:56.572 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m1692965396334w65  [0;39m ==>  Preparing: insert into confirm_order (id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time, tickets) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2023-08-25 20:09:56.573 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m1692965396334w65  [0;39m ==> Parameters: 1695045845151518720(Long), 1680932902797447168(Long), 2023-08-21(Date), 01(String), 上海(String), 温州(String), 1693625240992747520(Long), I(String), 2023-08-25 20:09:56.547(Timestamp), 2023-08-25 20:09:56.547(Timestamp), [{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}](String)
2023-08-25 20:09:56.604 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:56.604 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-25 20:09:56.610 INFO  com.jktickets.service.BeforeConfirmOrderService   :195  [32m1692965396334w65  [0;39m 购票流程结束，释放锁
2023-08-25 20:09:56.610 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965396334w65  [0;39m 返回结果: {"code":0,"message":"","result":"1695045845151518720","success":true}
2023-08-25 20:09:56.611 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965396334w65  [0;39m ------------- 结束 耗时：252 ms -------------
2023-08-25 20:09:56.612 INFO  com.jktickets.service.ConfirmOrderService         :160  [32m1692965396334w65  [0;39m 异步出票开始:ConfirmOrderMQDto{logId=1692965396334w65, date=Mon Aug 21 00:00:00 CST 2023, trainCode='01'}
2023-08-25 20:09:56.666 INFO  com.jktickets.service.ConfirmOrderService         :214  [32m1692965396334w65  [0;39m 恭喜，抢到锁了
2023-08-25 20:09:56.669 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:09:56.669 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3aa943e9
2023-08-25 20:09:56.675 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:09:56.676 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:09:56.718 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:09:56.719 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13992
2023-08-25 20:09:56.719 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:56.719 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:09:56.720 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:09:56.744 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:09:56.744 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919565549568, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.632, 2023-08-23 21:32:47.632, <<BLOB>>
2023-08-25 20:09:56.746 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919573938176, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.634, 2023-08-23 21:32:47.634, <<BLOB>>
2023-08-25 20:09:56.747 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919586521088, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.637, 2023-08-23 21:32:47.637, <<BLOB>>
2023-08-25 20:09:56.747 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919729127424, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.671, 2023-08-23 21:32:47.671, <<BLOB>>
2023-08-25 20:09:56.748 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919729127425, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.671, 2023-08-23 21:32:47.671, <<BLOB>>
2023-08-25 20:09:56.749 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:09:56.749 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:09:56.749 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:09:56.975 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919565549568
2023-08-25 20:09:56.975 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:56.975 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 234861110, id=1694341919565549568, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:56 CST 2023, tickets=null]
2023-08-25 20:09:56.977 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:56.978 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:56.975(Timestamp), 1694341919565549568(Long)
2023-08-25 20:09:57.008 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:57.008 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.009 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:57.009 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@36666a72
2023-08-25 20:09:57.011 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:57.011 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:57.043 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:57.044 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:57.045 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:57.045 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:57.045 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1639636216, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:57.050 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:57.050 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.050 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2047998188, id=1694341919565549568, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:57 CST 2023, tickets=null]
2023-08-25 20:09:57.050 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:57.051 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:57.05(Timestamp), 1694341919565549568(Long)
2023-08-25 20:09:57.102 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:57.102 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.148 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965397148elb  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:57.149 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965397148elb  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:57.149 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965397148elb  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:57.150 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965397148elb  [0;39m ------------- 开始 -------------
2023-08-25 20:09:57.150 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965397148elb  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:09:57.150 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965397148elb  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:09:57.150 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965397148elb  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:57.151 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965397148elb  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:09:57.151 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965397148elb  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:57.151 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965397148elb  [0;39m 参数值: 1695045845151518720
2023-08-25 20:09:57.152 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965397148elb  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:09:57.152 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965397148elb  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:09:57.167 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965397148elb  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:09:57.168 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965397148elb  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:09:57.169 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965397148elb  [0;39m <==      Total: 1
2023-08-25 20:09:57.170 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965397148elb  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:57.170 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965397148elb  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:57.171 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965397148elb  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6e44ff52
2023-08-25 20:09:57.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965397148elb  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:09:57.175 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965397148elb  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:09:57.220 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965397148elb  [0;39m <==    Columns: count(*)
2023-08-25 20:09:57.221 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965397148elb  [0;39m <==        Row: 13990
2023-08-25 20:09:57.221 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965397148elb  [0;39m <==      Total: 1
2023-08-25 20:09:57.222 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965397148elb  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:57.223 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965397148elb  [0;39m 返回结果: {"code":0,"message":"","result":13990,"success":true}
2023-08-25 20:09:57.223 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965397148elb  [0;39m ------------- 结束 耗时：73 ms -------------
2023-08-25 20:09:57.304 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919573938176
2023-08-25 20:09:57.304 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.304 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1852396692, id=1694341919573938176, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:57 CST 2023, tickets=null]
2023-08-25 20:09:57.305 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:57.306 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:57.304(Timestamp), 1694341919573938176(Long)
2023-08-25 20:09:57.345 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:57.346 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.346 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:57.347 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3c53ac44
2023-08-25 20:09:57.348 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:57.349 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:57.376 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:57.377 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:57.378 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:57.380 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:57.380 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1128420975, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:57.380 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:57.380 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.381 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1307774409, id=1694341919573938176, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:57 CST 2023, tickets=null]
2023-08-25 20:09:57.381 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:57.382 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:57.38(Timestamp), 1694341919573938176(Long)
2023-08-25 20:09:57.423 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:57.423 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.624 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919586521088
2023-08-25 20:09:57.624 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.625 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 710436855, id=1694341919586521088, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:57 CST 2023, tickets=null]
2023-08-25 20:09:57.625 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:57.627 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:57.624(Timestamp), 1694341919586521088(Long)
2023-08-25 20:09:57.659 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:57.660 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.660 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:57.660 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2e306a0e
2023-08-25 20:09:57.662 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:57.662 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:57.679 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:57.680 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:57.681 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:57.682 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:57.682 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1568908517, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:57.682 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:57.682 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.682 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 926581603, id=1694341919586521088, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:57 CST 2023, tickets=null]
2023-08-25 20:09:57.683 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:57.683 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:57.682(Timestamp), 1694341919586521088(Long)
2023-08-25 20:09:57.711 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:57.711 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.914 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919729127424
2023-08-25 20:09:57.914 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.914 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1203242149, id=1694341919729127424, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:57 CST 2023, tickets=null]
2023-08-25 20:09:57.915 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:57.916 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:57.914(Timestamp), 1694341919729127424(Long)
2023-08-25 20:09:57.944 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:57.944 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.945 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:57.945 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@641e8e38
2023-08-25 20:09:57.946 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:57.946 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:57.961 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:57.962 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:57.963 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:57.964 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:57.965 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1793855468, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:57.965 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:57.965 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:57.965 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2056348973, id=1694341919729127424, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:57 CST 2023, tickets=null]
2023-08-25 20:09:57.966 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:57.967 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:57.965(Timestamp), 1694341919729127424(Long)
2023-08-25 20:09:57.995 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:57.996 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.197 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919729127425
2023-08-25 20:09:58.197 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.197 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1569847655, id=1694341919729127425, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:58 CST 2023, tickets=null]
2023-08-25 20:09:58.198 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:58.198 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:58.197(Timestamp), 1694341919729127425(Long)
2023-08-25 20:09:58.228 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:58.228 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.228 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:58.228 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@61b01081
2023-08-25 20:09:58.229 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:58.230 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:58.245 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:58.246 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:58.246 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:58.247 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:58.247 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1793953375, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:58.247 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:58.247 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.248 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1186382208, id=1694341919729127425, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:58 CST 2023, tickets=null]
2023-08-25 20:09:58.248 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:58.248 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:58.247(Timestamp), 1694341919729127425(Long)
2023-08-25 20:09:58.281 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:58.282 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.282 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:09:58.283 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@323d8b5d
2023-08-25 20:09:58.285 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:09:58.286 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:09:58.328 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:09:58.329 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13987
2023-08-25 20:09:58.329 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:58.330 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:09:58.331 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:09:58.354 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:09:58.355 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919737516032, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.672, 2023-08-23 21:32:47.672, <<BLOB>>
2023-08-25 20:09:58.357 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919783653376, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.684, 2023-08-23 21:32:47.684, <<BLOB>>
2023-08-25 20:09:58.358 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919783653377, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.684, 2023-08-23 21:32:47.684, <<BLOB>>
2023-08-25 20:09:58.360 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919783653378, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.684, 2023-08-23 21:32:47.684, <<BLOB>>
2023-08-25 20:09:58.361 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919783653379, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.684, 2023-08-23 21:32:47.684, <<BLOB>>
2023-08-25 20:09:58.362 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:09:58.363 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:09:58.363 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:09:58.564 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919737516032
2023-08-25 20:09:58.564 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.564 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1729807235, id=1694341919737516032, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:58 CST 2023, tickets=null]
2023-08-25 20:09:58.565 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:58.565 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:58.564(Timestamp), 1694341919737516032(Long)
2023-08-25 20:09:58.594 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:58.594 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.595 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:58.595 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7b10a0ac
2023-08-25 20:09:58.596 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:58.596 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:58.612 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:58.668 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:58.668 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:58.669 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:58.669 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1529369037, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:58.669 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:58.669 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.669 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1050434559, id=1694341919737516032, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:58 CST 2023, tickets=null]
2023-08-25 20:09:58.670 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:58.671 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:58.669(Timestamp), 1694341919737516032(Long)
2023-08-25 20:09:58.698 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:58.698 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.900 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919783653376
2023-08-25 20:09:58.900 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.900 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 943711783, id=1694341919783653376, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:58 CST 2023, tickets=null]
2023-08-25 20:09:58.901 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:58.902 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:58.9(Timestamp), 1694341919783653376(Long)
2023-08-25 20:09:58.930 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:58.930 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.931 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:58.931 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1bce7398
2023-08-25 20:09:58.932 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:58.933 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:58.947 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:58.947 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:58.948 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:58.948 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:58.949 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2037272470, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:58.949 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:58.949 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:58.949 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 235111502, id=1694341919783653376, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:58 CST 2023, tickets=null]
2023-08-25 20:09:58.950 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:58.950 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:58.949(Timestamp), 1694341919783653376(Long)
2023-08-25 20:09:58.995 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:58.996 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.196 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919783653377
2023-08-25 20:09:59.196 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.196 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1769898252, id=1694341919783653377, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:59 CST 2023, tickets=null]
2023-08-25 20:09:59.198 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:59.199 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:59.196(Timestamp), 1694341919783653377(Long)
2023-08-25 20:09:59.233 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:59.233 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.234 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:59.234 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2e059488
2023-08-25 20:09:59.235 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:59.235 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:59.252 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:59.253 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:59.254 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:59.255 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:59.255 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 326068727, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:59.255 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:59.255 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.255 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2112804976, id=1694341919783653377, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:59 CST 2023, tickets=null]
2023-08-25 20:09:59.257 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:59.257 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:59.255(Timestamp), 1694341919783653377(Long)
2023-08-25 20:09:59.292 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:59.293 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.392 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965399392lo8  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:59.393 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965399392lo8  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:59.393 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965399392lo8  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:59.394 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965399392lo8  [0;39m ------------- 开始 -------------
2023-08-25 20:09:59.394 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965399392lo8  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:09:59.395 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965399392lo8  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:09:59.395 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965399392lo8  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:59.395 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965399392lo8  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:09:59.395 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965399392lo8  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:59.395 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965399392lo8  [0;39m 参数值: 1695045845151518720
2023-08-25 20:09:59.396 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399392lo8  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:09:59.396 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399392lo8  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:09:59.417 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965399392lo8  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:09:59.417 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965399392lo8  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:09:59.418 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399392lo8  [0;39m <==      Total: 1
2023-08-25 20:09:59.418 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965399392lo8  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:59.418 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965399392lo8  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:59.419 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965399392lo8  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@f56c67a
2023-08-25 20:09:59.421 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399392lo8  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:09:59.422 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399392lo8  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:09:59.470 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965399392lo8  [0;39m <==    Columns: count(*)
2023-08-25 20:09:59.470 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965399392lo8  [0;39m <==        Row: 13983
2023-08-25 20:09:59.471 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399392lo8  [0;39m <==      Total: 1
2023-08-25 20:09:59.471 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965399392lo8  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:59.471 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965399392lo8  [0;39m 返回结果: {"code":0,"message":"","result":13983,"success":true}
2023-08-25 20:09:59.471 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965399392lo8  [0;39m ------------- 结束 耗时：77 ms -------------
2023-08-25 20:09:59.485 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965399485plj  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:59.485 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965399485plj  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:59.486 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965399485plj  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:59.486 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965399485plj  [0;39m ------------- 开始 -------------
2023-08-25 20:09:59.487 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965399485plj  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:09:59.487 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965399485plj  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:09:59.487 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965399485plj  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:59.487 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965399485plj  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:09:59.488 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965399485plj  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:59.488 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965399485plj  [0;39m 参数值: 1695045845151518720
2023-08-25 20:09:59.488 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399485plj  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:09:59.489 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399485plj  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:09:59.493 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919783653378
2023-08-25 20:09:59.494 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.494 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1609953882, id=1694341919783653378, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:59 CST 2023, tickets=null]
2023-08-25 20:09:59.505 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965399485plj  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:09:59.505 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965399485plj  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:09:59.506 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399485plj  [0;39m <==      Total: 1
2023-08-25 20:09:59.506 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965399485plj  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:59.507 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965399485plj  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:59.507 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965399485plj  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5de625ba
2023-08-25 20:09:59.509 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399485plj  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:09:59.511 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399485plj  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:09:59.513 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:59.514 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:59.494(Timestamp), 1694341919783653378(Long)
2023-08-25 20:09:59.562 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:59.562 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965399485plj  [0;39m <==    Columns: count(*)
2023-08-25 20:09:59.562 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.563 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:59.563 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965399485plj  [0;39m <==        Row: 13983
2023-08-25 20:09:59.563 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@67abe43c
2023-08-25 20:09:59.563 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399485plj  [0;39m <==      Total: 1
2023-08-25 20:09:59.564 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965399485plj  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:59.564 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965399485plj  [0;39m 返回结果: {"code":0,"message":"","result":13983,"success":true}
2023-08-25 20:09:59.564 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:59.564 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965399485plj  [0;39m ------------- 结束 耗时：78 ms -------------
2023-08-25 20:09:59.565 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:59.574 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965399574a1a  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:59.575 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965399574a1a  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:59.575 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965399574a1a  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:59.576 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965399574a1a  [0;39m ------------- 开始 -------------
2023-08-25 20:09:59.577 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965399574a1a  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:09:59.577 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965399574a1a  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:09:59.578 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965399574a1a  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:59.578 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965399574a1a  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:09:59.578 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965399574a1a  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:59.578 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965399574a1a  [0;39m 参数值: 1695045845151518720
2023-08-25 20:09:59.579 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399574a1a  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:09:59.579 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399574a1a  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:09:59.592 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:59.594 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:59.595 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:59.595 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:59.596 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1654752825, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:59.596 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:59.596 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.596 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1075909986, id=1694341919783653378, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:59 CST 2023, tickets=null]
2023-08-25 20:09:59.597 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:59.597 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:59.596(Timestamp), 1694341919783653378(Long)
2023-08-25 20:09:59.603 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965399574a1a  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:09:59.604 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965399574a1a  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:09:59.604 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399574a1a  [0;39m <==      Total: 1
2023-08-25 20:09:59.604 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965399574a1a  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:59.605 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965399574a1a  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:59.605 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965399574a1a  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2fc9353c
2023-08-25 20:09:59.606 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399574a1a  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:09:59.607 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399574a1a  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:09:59.634 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:59.635 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.654 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965399574a1a  [0;39m <==    Columns: count(*)
2023-08-25 20:09:59.654 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965399574a1a  [0;39m <==        Row: 13983
2023-08-25 20:09:59.654 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399574a1a  [0;39m <==      Total: 1
2023-08-25 20:09:59.654 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965399574a1a  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:59.655 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965399574a1a  [0;39m 返回结果: {"code":0,"message":"","result":13983,"success":true}
2023-08-25 20:09:59.655 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965399574a1a  [0;39m ------------- 结束 耗时：79 ms -------------
2023-08-25 20:09:59.667 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965399667tyr  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:09:59.667 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965399667tyr  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:59.667 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965399667tyr  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:09:59.668 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965399667tyr  [0;39m ------------- 开始 -------------
2023-08-25 20:09:59.668 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965399667tyr  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:09:59.668 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965399667tyr  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:09:59.668 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965399667tyr  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:09:59.669 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965399667tyr  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:09:59.669 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965399667tyr  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:59.669 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965399667tyr  [0;39m 参数值: 1695045845151518720
2023-08-25 20:09:59.669 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399667tyr  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:09:59.670 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399667tyr  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:09:59.684 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965399667tyr  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:09:59.685 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965399667tyr  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:09:59.685 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965399667tyr  [0;39m <==      Total: 1
2023-08-25 20:09:59.686 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965399667tyr  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:09:59.686 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965399667tyr  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:59.686 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965399667tyr  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1988013
2023-08-25 20:09:59.687 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399667tyr  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:09:59.688 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399667tyr  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:09:59.733 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965399667tyr  [0;39m <==    Columns: count(*)
2023-08-25 20:09:59.733 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965399667tyr  [0;39m <==        Row: 13982
2023-08-25 20:09:59.734 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965399667tyr  [0;39m <==      Total: 1
2023-08-25 20:09:59.734 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965399667tyr  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:09:59.734 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965399667tyr  [0;39m 返回结果: {"code":0,"message":"","result":13982,"success":true}
2023-08-25 20:09:59.734 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965399667tyr  [0;39m ------------- 结束 耗时：66 ms -------------
2023-08-25 20:09:59.835 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919783653379
2023-08-25 20:09:59.835 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.835 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1544117170, id=1694341919783653379, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:09:59 CST 2023, tickets=null]
2023-08-25 20:09:59.836 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:59.837 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:09:59.835(Timestamp), 1694341919783653379(Long)
2023-08-25 20:09:59.876 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:59.876 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.877 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:59.877 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7ab5176d
2023-08-25 20:09:59.878 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:09:59.878 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:09:59.897 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:09:59.898 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:09:59.899 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:59.899 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:09:59.899 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 135954100, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:09:59.899 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:09:59.899 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.900 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 101794893, id=1694341919783653379, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:09:59 CST 2023, tickets=null]
2023-08-25 20:09:59.900 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:09:59.900 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:09:59.899(Timestamp), 1694341919783653379(Long)
2023-08-25 20:09:59.943 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:09:59.943 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:09:59.943 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:09:59.943 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@958a540
2023-08-25 20:09:59.947 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:09:59.947 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:09:59.993 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:09:59.994 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13982
2023-08-25 20:09:59.994 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:09:59.999 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:00.000 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:00.069 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:00.070 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919829790720, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.695, 2023-08-23 21:32:47.695, <<BLOB>>
2023-08-25 20:10:00.084 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919829790721, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.695, 2023-08-23 21:32:47.695, <<BLOB>>
2023-08-25 20:10:00.085 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919829790722, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.695, 2023-08-23 21:32:47.695, <<BLOB>>
2023-08-25 20:10:00.085 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919829790723, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.695, 2023-08-23 21:32:47.695, <<BLOB>>
2023-08-25 20:10:00.086 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341919926259712, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.718, 2023-08-23 21:32:47.718, <<BLOB>>
2023-08-25 20:10:00.086 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:00.087 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:00.087 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:00.287 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919829790720
2023-08-25 20:10:00.287 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.288 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 310540241, id=1694341919829790720, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:00 CST 2023, tickets=null]
2023-08-25 20:10:00.289 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:00.291 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:00.287(Timestamp), 1694341919829790720(Long)
2023-08-25 20:10:00.340 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:00.340 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.341 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:00.341 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@388dd412
2023-08-25 20:10:00.344 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:00.345 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:00.363 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:00.364 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:00.365 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:00.366 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:00.367 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1684378419, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:00.367 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:00.368 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.368 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1311056366, id=1694341919829790720, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:00 CST 2023, tickets=null]
2023-08-25 20:10:00.369 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:00.370 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:00.368(Timestamp), 1694341919829790720(Long)
2023-08-25 20:10:00.421 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:00.422 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.622 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919829790721
2023-08-25 20:10:00.622 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.622 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1624134781, id=1694341919829790721, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:00 CST 2023, tickets=null]
2023-08-25 20:10:00.623 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:00.623 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:00.622(Timestamp), 1694341919829790721(Long)
2023-08-25 20:10:00.658 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:00.658 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.658 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:00.658 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4f37d1ec
2023-08-25 20:10:00.660 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:00.660 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:00.678 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:00.679 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:00.679 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:00.680 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:00.680 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 732037214, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:00.680 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:00.680 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.680 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1946304373, id=1694341919829790721, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:00 CST 2023, tickets=null]
2023-08-25 20:10:00.681 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:00.681 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:00.68(Timestamp), 1694341919829790721(Long)
2023-08-25 20:10:00.726 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:00.727 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.928 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919829790722
2023-08-25 20:10:00.928 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.928 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 105653163, id=1694341919829790722, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:00 CST 2023, tickets=null]
2023-08-25 20:10:00.929 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:00.930 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:00.928(Timestamp), 1694341919829790722(Long)
2023-08-25 20:10:00.966 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:00.966 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.966 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:00.967 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@584b0a84
2023-08-25 20:10:00.967 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:00.968 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:00.985 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:00.986 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:00.987 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:00.987 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:00.987 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 47571395, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:00.987 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:00.987 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:00.987 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 68823878, id=1694341919829790722, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:00 CST 2023, tickets=null]
2023-08-25 20:10:00.988 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:00.988 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:00.987(Timestamp), 1694341919829790722(Long)
2023-08-25 20:10:01.024 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:01.025 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.228 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919829790723
2023-08-25 20:10:01.228 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.228 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2141253611, id=1694341919829790723, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:01 CST 2023, tickets=null]
2023-08-25 20:10:01.229 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:01.229 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:01.228(Timestamp), 1694341919829790723(Long)
2023-08-25 20:10:01.269 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:01.270 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.270 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:01.270 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7439332
2023-08-25 20:10:01.271 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:01.272 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:01.291 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:01.292 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:01.293 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:01.294 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:01.294 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1396625096, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:01.294 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:01.294 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.294 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 933067104, id=1694341919829790723, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:01 CST 2023, tickets=null]
2023-08-25 20:10:01.295 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:01.296 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:01.294(Timestamp), 1694341919829790723(Long)
2023-08-25 20:10:01.331 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:01.332 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.533 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341919926259712
2023-08-25 20:10:01.533 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.533 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1245457989, id=1694341919926259712, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:01 CST 2023, tickets=null]
2023-08-25 20:10:01.534 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:01.534 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:01.533(Timestamp), 1694341919926259712(Long)
2023-08-25 20:10:01.589 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:01.590 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.590 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:01.590 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@33dbc3b7
2023-08-25 20:10:01.591 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:01.592 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:01.610 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:01.611 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:01.614 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:01.614 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:01.615 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 164331001, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:01.615 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:01.615 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.615 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1546020089, id=1694341919926259712, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:01 CST 2023, tickets=null]
2023-08-25 20:10:01.615 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:01.616 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:01.615(Timestamp), 1694341919926259712(Long)
2023-08-25 20:10:01.650 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:01.650 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.650 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:01.650 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@727fd352
2023-08-25 20:10:01.653 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:01.654 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:01.700 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:01.700 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13977
2023-08-25 20:10:01.700 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:01.701 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:01.701 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:01.725 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:01.726 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920056283136, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.749, 2023-08-23 21:32:47.749, <<BLOB>>
2023-08-25 20:10:01.726 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920056283137, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.749, 2023-08-23 21:32:47.749, <<BLOB>>
2023-08-25 20:10:01.727 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920056283138, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.749, 2023-08-23 21:32:47.749, <<BLOB>>
2023-08-25 20:10:01.728 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920056283139, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.749, 2023-08-23 21:32:47.749, <<BLOB>>
2023-08-25 20:10:01.729 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920165335040, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.775, 2023-08-23 21:32:47.775, <<BLOB>>
2023-08-25 20:10:01.729 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:01.730 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:01.730 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:01.932 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920056283136
2023-08-25 20:10:01.932 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.932 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 672655612, id=1694341920056283136, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:01 CST 2023, tickets=null]
2023-08-25 20:10:01.933 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:01.933 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:01.932(Timestamp), 1694341920056283136(Long)
2023-08-25 20:10:01.968 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:01.968 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.969 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:01.969 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2652d8a4
2023-08-25 20:10:01.970 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:01.971 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:01.992 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:01.993 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:01.995 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:01.995 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:01.996 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1311618938, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:01.996 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:01.996 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:01.997 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1402343115, id=1694341920056283136, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:01 CST 2023, tickets=null]
2023-08-25 20:10:01.997 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:01.998 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:01.996(Timestamp), 1694341920056283136(Long)
2023-08-25 20:10:02.039 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:02.039 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.241 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920056283137
2023-08-25 20:10:02.241 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.242 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1134914389, id=1694341920056283137, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:02 CST 2023, tickets=null]
2023-08-25 20:10:02.242 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:02.243 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:02.241(Timestamp), 1694341920056283137(Long)
2023-08-25 20:10:02.278 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:02.278 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.278 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:02.278 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@31338b3
2023-08-25 20:10:02.279 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:02.279 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:02.297 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:02.298 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:02.299 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:02.300 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:02.300 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 50508931, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:02.300 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:02.301 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.301 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1734858669, id=1694341920056283137, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:02 CST 2023, tickets=null]
2023-08-25 20:10:02.302 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:02.303 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:02.301(Timestamp), 1694341920056283137(Long)
2023-08-25 20:10:02.340 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:02.340 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.543 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920056283138
2023-08-25 20:10:02.543 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.543 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 986853677, id=1694341920056283138, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:02 CST 2023, tickets=null]
2023-08-25 20:10:02.544 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:02.544 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:02.543(Timestamp), 1694341920056283138(Long)
2023-08-25 20:10:02.583 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:02.584 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.584 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:02.584 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@75e14cd6
2023-08-25 20:10:02.585 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:02.586 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:02.603 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:02.604 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:02.605 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:02.605 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:02.606 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2121283265, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:02.606 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:02.606 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.606 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1137530299, id=1694341920056283138, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:02 CST 2023, tickets=null]
2023-08-25 20:10:02.607 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:02.607 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:02.606(Timestamp), 1694341920056283138(Long)
2023-08-25 20:10:02.643 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:02.644 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.844 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920056283139
2023-08-25 20:10:02.844 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.845 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1745967101, id=1694341920056283139, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:02 CST 2023, tickets=null]
2023-08-25 20:10:02.846 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:02.847 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:02.844(Timestamp), 1694341920056283139(Long)
2023-08-25 20:10:02.881 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:02.882 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.882 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:02.882 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3e615dd3
2023-08-25 20:10:02.883 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:02.884 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:02.902 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:02.903 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:02.904 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:02.904 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:02.905 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1228581549, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:02.905 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:02.905 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:02.905 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 466659640, id=1694341920056283139, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:02 CST 2023, tickets=null]
2023-08-25 20:10:02.906 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:02.907 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:02.905(Timestamp), 1694341920056283139(Long)
2023-08-25 20:10:02.957 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:02.957 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.159 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920165335040
2023-08-25 20:10:03.159 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.159 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 838324510, id=1694341920165335040, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:03 CST 2023, tickets=null]
2023-08-25 20:10:03.160 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:03.160 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:03.159(Timestamp), 1694341920165335040(Long)
2023-08-25 20:10:03.193 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:03.194 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.194 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:03.194 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@33039fbe
2023-08-25 20:10:03.195 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:03.196 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:03.214 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:03.215 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:03.215 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:03.216 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:03.216 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1282074262, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:03.216 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:03.217 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.217 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1110620998, id=1694341920165335040, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:03 CST 2023, tickets=null]
2023-08-25 20:10:03.217 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:03.218 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:03.217(Timestamp), 1694341920165335040(Long)
2023-08-25 20:10:03.258 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:03.258 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.258 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:03.259 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7b69d347
2023-08-25 20:10:03.261 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:03.261 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:03.308 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:03.308 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13972
2023-08-25 20:10:03.308 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:03.309 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:03.309 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:03.374 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:03.375 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920219860992, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.788, 2023-08-23 21:32:47.788, <<BLOB>>
2023-08-25 20:10:03.376 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920219860993, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.788, 2023-08-23 21:32:47.788, <<BLOB>>
2023-08-25 20:10:03.377 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920224055296, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.789, 2023-08-23 21:32:47.789, <<BLOB>>
2023-08-25 20:10:03.378 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920224055297, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.789, 2023-08-23 21:32:47.789, <<BLOB>>
2023-08-25 20:10:03.379 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920224055298, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.789, 2023-08-23 21:32:47.789, <<BLOB>>
2023-08-25 20:10:03.379 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:03.380 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:03.380 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:03.582 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920219860992
2023-08-25 20:10:03.582 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.582 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1985278565, id=1694341920219860992, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:03 CST 2023, tickets=null]
2023-08-25 20:10:03.583 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:03.583 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:03.582(Timestamp), 1694341920219860992(Long)
2023-08-25 20:10:03.616 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:03.617 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.617 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:03.617 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5ab91cd3
2023-08-25 20:10:03.618 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:03.618 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:03.636 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:03.637 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:03.638 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:03.638 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:03.639 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1601971831, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:03.639 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:03.639 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.639 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1677754674, id=1694341920219860992, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:03 CST 2023, tickets=null]
2023-08-25 20:10:03.639 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:03.640 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:03.639(Timestamp), 1694341920219860992(Long)
2023-08-25 20:10:03.676 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:03.677 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.880 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920219860993
2023-08-25 20:10:03.880 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.880 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 698933435, id=1694341920219860993, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:03 CST 2023, tickets=null]
2023-08-25 20:10:03.880 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:03.881 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:03.88(Timestamp), 1694341920219860993(Long)
2023-08-25 20:10:03.917 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:03.917 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.917 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:03.917 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@77b03eaf
2023-08-25 20:10:03.918 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:03.919 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:03.940 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:03.941 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:03.942 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:03.942 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:03.942 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 93666363, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:03.942 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:03.942 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:03.942 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1529989858, id=1694341920219860993, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:03 CST 2023, tickets=null]
2023-08-25 20:10:03.943 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:03.943 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:03.942(Timestamp), 1694341920219860993(Long)
2023-08-25 20:10:03.987 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:03.987 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.190 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920224055296
2023-08-25 20:10:04.190 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.191 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1932301115, id=1694341920224055296, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:04 CST 2023, tickets=null]
2023-08-25 20:10:04.191 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:04.192 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:04.19(Timestamp), 1694341920224055296(Long)
2023-08-25 20:10:04.231 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:04.231 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.232 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:04.232 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@a47aa47
2023-08-25 20:10:04.232 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:04.233 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:04.250 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:04.251 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:04.252 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:04.252 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:04.252 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 651131029, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:04.252 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:04.252 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.253 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1495855560, id=1694341920224055296, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:04 CST 2023, tickets=null]
2023-08-25 20:10:04.253 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:04.253 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:04.252(Timestamp), 1694341920224055296(Long)
2023-08-25 20:10:04.287 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:04.287 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.490 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920224055297
2023-08-25 20:10:04.490 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.490 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 859589601, id=1694341920224055297, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:04 CST 2023, tickets=null]
2023-08-25 20:10:04.491 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:04.492 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:04.49(Timestamp), 1694341920224055297(Long)
2023-08-25 20:10:04.540 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:04.540 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.541 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:04.542 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@70d29c67
2023-08-25 20:10:04.542 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:04.543 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:04.560 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:04.561 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:04.561 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:04.562 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:04.562 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 482239979, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:04.562 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:04.562 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.562 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 643347505, id=1694341920224055297, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:04 CST 2023, tickets=null]
2023-08-25 20:10:04.563 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:04.563 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:04.562(Timestamp), 1694341920224055297(Long)
2023-08-25 20:10:04.600 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:04.601 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.801 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920224055298
2023-08-25 20:10:04.801 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.801 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1841941148, id=1694341920224055298, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:04 CST 2023, tickets=null]
2023-08-25 20:10:04.802 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:04.802 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:04.801(Timestamp), 1694341920224055298(Long)
2023-08-25 20:10:04.850 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:04.851 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.851 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:04.851 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@612dbea8
2023-08-25 20:10:04.852 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:04.852 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:04.870 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:04.871 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:04.871 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:04.871 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:04.871 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1763497403, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:04.872 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:04.872 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.872 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1355629448, id=1694341920224055298, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:04 CST 2023, tickets=null]
2023-08-25 20:10:04.873 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:04.873 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:04.872(Timestamp), 1694341920224055298(Long)
2023-08-25 20:10:04.915 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:04.916 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:04.916 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:04.916 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5383f2e
2023-08-25 20:10:04.919 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:04.919 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:04.966 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654049660cs  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:04.967 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654049660cs  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:04.967 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654049660cs  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:04.968 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654049660cs  [0;39m ------------- 开始 -------------
2023-08-25 20:10:04.968 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654049660cs  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:04.968 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654049660cs  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:04.968 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654049660cs  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:04.968 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654049660cs  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:04.969 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654049660cs  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:04.969 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654049660cs  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:04.980 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:04.980 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13967
2023-08-25 20:10:04.980 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:04.981 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:04.981 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:04.985 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654049660cs  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:04.986 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654049660cs  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:05.000 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654049660cs  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:05.001 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654049660cs  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:05.002 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654049660cs  [0;39m <==      Total: 1
2023-08-25 20:10:05.002 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654049660cs  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.003 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654049660cs  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.003 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654049660cs  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4f127a27
2023-08-25 20:10:05.004 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654049660cs  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:05.005 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:05.005 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654049660cs  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:05.006 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920224055299, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.789, 2023-08-23 21:32:47.789, <<BLOB>>
2023-08-25 20:10:05.007 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920224055300, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.789, 2023-08-23 21:32:47.789, <<BLOB>>
2023-08-25 20:10:05.008 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920257609728, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.797, 2023-08-23 21:32:47.797, <<BLOB>>
2023-08-25 20:10:05.009 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920312135680, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.810, 2023-08-23 21:32:47.810, <<BLOB>>
2023-08-25 20:10:05.010 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920312135681, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.810, 2023-08-23 21:32:47.810, <<BLOB>>
2023-08-25 20:10:05.010 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:05.010 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:05.011 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:05.062 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654049660cs  [0;39m <==    Columns: count(*)
2023-08-25 20:10:05.063 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654049660cs  [0;39m <==        Row: 13966
2023-08-25 20:10:05.063 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654049660cs  [0;39m <==      Total: 1
2023-08-25 20:10:05.063 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654049660cs  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.064 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654049660cs  [0;39m 返回结果: {"code":0,"message":"","result":13966,"success":true}
2023-08-25 20:10:05.064 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654049660cs  [0;39m ------------- 结束 耗时：96 ms -------------
2023-08-25 20:10:05.075 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965405075i8s  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:05.076 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965405075i8s  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.076 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965405075i8s  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.077 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965405075i8s  [0;39m ------------- 开始 -------------
2023-08-25 20:10:05.077 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965405075i8s  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:05.077 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965405075i8s  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:05.078 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965405075i8s  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:05.078 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965405075i8s  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:05.078 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965405075i8s  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.078 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965405075i8s  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:05.079 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965405075i8s  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:05.080 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965405075i8s  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:05.097 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965405075i8s  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:05.098 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965405075i8s  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:05.098 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965405075i8s  [0;39m <==      Total: 1
2023-08-25 20:10:05.099 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965405075i8s  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.099 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965405075i8s  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.100 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965405075i8s  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@656cf272
2023-08-25 20:10:05.101 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965405075i8s  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:05.101 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965405075i8s  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:05.148 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965405075i8s  [0;39m <==    Columns: count(*)
2023-08-25 20:10:05.148 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965405075i8s  [0;39m <==        Row: 13966
2023-08-25 20:10:05.149 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965405075i8s  [0;39m <==      Total: 1
2023-08-25 20:10:05.149 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965405075i8s  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.150 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965405075i8s  [0;39m 返回结果: {"code":0,"message":"","result":13966,"success":true}
2023-08-25 20:10:05.150 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965405075i8s  [0;39m ------------- 结束 耗时：73 ms -------------
2023-08-25 20:10:05.170 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654051701hb  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:05.170 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654051700v6  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:05.171 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654051701hb  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.171 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654051701hb  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.171 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654051700v6  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.171 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654051700v6  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.172 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654051701hb  [0;39m ------------- 开始 -------------
2023-08-25 20:10:05.173 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654051701hb  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:05.173 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965405173sw5  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:05.173 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654051701hb  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:05.173 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965405173p66  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:05.173 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654051701hb  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:05.173 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654051700v6  [0;39m ------------- 开始 -------------
2023-08-25 20:10:05.174 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965405173p66  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.174 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654051701hb  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:05.174 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965405173sw5  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.174 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654051700v6  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:05.174 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965405173p66  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.174 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965405173sw5  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:05.174 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654051700v6  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:05.174 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654051701hb  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.174 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654051700v6  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:05.174 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654051701hb  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:05.174 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965405173sw5  [0;39m ------------- 开始 -------------
2023-08-25 20:10:05.174 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965405173p66  [0;39m ------------- 开始 -------------
2023-08-25 20:10:05.174 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654051700v6  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965405173sw5  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965405173p66  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654051700v6  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965405173sw5  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965405173p66  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654051700v6  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:05.175 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654051701hb  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965405173sw5  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965405173p66  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965405173sw5  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965405173p66  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:05.175 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654051701hb  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965405173p66  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.175 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965405173sw5  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.176 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965405173p66  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:05.176 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654051700v6  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:05.176 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965405173sw5  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:05.176 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654051700v6  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:05.191 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965405173p66  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:05.191 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965405173sw5  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:05.191 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654051701hb  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:05.191 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965405173sw5  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:05.191 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965405173p66  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:05.192 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654051701hb  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:05.192 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654051700v6  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:05.192 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654051701hb  [0;39m <==      Total: 1
2023-08-25 20:10:05.193 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654051701hb  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.193 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654051700v6  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:05.193 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654051701hb  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.194 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654051701hb  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@267f0493
2023-08-25 20:10:05.194 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654051700v6  [0;39m <==      Total: 1
2023-08-25 20:10:05.194 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654051700v6  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.195 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654051700v6  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.195 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654051700v6  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4dd328e2
2023-08-25 20:10:05.195 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654051701hb  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:05.196 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654051701hb  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:05.197 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654051700v6  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:05.198 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654051700v6  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:05.208 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965405173sw5  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:05.208 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965405173p66  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:05.209 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965405173p66  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:05.209 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965405173sw5  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:05.210 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965405173p66  [0;39m <==      Total: 1
2023-08-25 20:10:05.210 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965405173sw5  [0;39m <==      Total: 1
2023-08-25 20:10:05.210 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965405173sw5  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.210 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965405173p66  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:05.211 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920224055299
2023-08-25 20:10:05.211 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965405173p66  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.211 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965405173sw5  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.211 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965405173p66  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7c12e0b8
2023-08-25 20:10:05.211 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:05.211 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965405173sw5  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5075035f
2023-08-25 20:10:05.211 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1265106810, id=1694341920224055299, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:05 CST 2023, tickets=null]
2023-08-25 20:10:05.212 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:05.212 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965405173sw5  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:05.212 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:05.211(Timestamp), 1694341920224055299(Long)
2023-08-25 20:10:05.212 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965405173sw5  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:05.230 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965405173p66  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:05.231 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965405173p66  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:05.256 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:05.257 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:05.258 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:05.258 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6a09d920
2023-08-25 20:10:05.259 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:05.260 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:05.364 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:05.364 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654051700v6  [0;39m <==    Columns: count(*)
2023-08-25 20:10:05.364 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654051701hb  [0;39m <==    Columns: count(*)
2023-08-25 20:10:05.364 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654051700v6  [0;39m <==        Row: 13966
2023-08-25 20:10:05.364 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654051701hb  [0;39m <==        Row: 13966
2023-08-25 20:10:05.365 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654051700v6  [0;39m <==      Total: 1
2023-08-25 20:10:05.365 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654051701hb  [0;39m <==      Total: 1
2023-08-25 20:10:05.365 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:05.365 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654051701hb  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.365 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654051700v6  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.365 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654051700v6  [0;39m 返回结果: {"code":0,"message":"","result":13966,"success":true}
2023-08-25 20:10:05.365 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654051701hb  [0;39m 返回结果: {"code":0,"message":"","result":13966,"success":true}
2023-08-25 20:10:05.365 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:05.366 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654051700v6  [0;39m ------------- 结束 耗时：193 ms -------------
2023-08-25 20:10:05.366 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654051701hb  [0;39m ------------- 结束 耗时：194 ms -------------
2023-08-25 20:10:05.366 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:05.366 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 389529370, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:05.366 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:05.366 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:05.366 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 154352586, id=1694341920224055299, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:05 CST 2023, tickets=null]
2023-08-25 20:10:05.368 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:05.368 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:05.366(Timestamp), 1694341920224055299(Long)
2023-08-25 20:10:05.454 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:05.454 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:05.467 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965405173sw5  [0;39m <==    Columns: count(*)
2023-08-25 20:10:05.468 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965405173sw5  [0;39m <==        Row: 13966
2023-08-25 20:10:05.468 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965405173sw5  [0;39m <==      Total: 1
2023-08-25 20:10:05.469 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965405173sw5  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.469 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965405173sw5  [0;39m 返回结果: {"code":0,"message":"","result":13966,"success":true}
2023-08-25 20:10:05.469 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965405173sw5  [0;39m ------------- 结束 耗时：295 ms -------------
2023-08-25 20:10:05.469 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965405173p66  [0;39m <==    Columns: count(*)
2023-08-25 20:10:05.470 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965405173p66  [0;39m <==        Row: 13966
2023-08-25 20:10:05.470 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965405173p66  [0;39m <==      Total: 1
2023-08-25 20:10:05.471 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965405173p66  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:05.471 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965405173p66  [0;39m 返回结果: {"code":0,"message":"","result":13966,"success":true}
2023-08-25 20:10:05.472 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965405173p66  [0;39m ------------- 结束 耗时：298 ms -------------
2023-08-25 20:10:05.656 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920224055300
2023-08-25 20:10:05.656 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:05.656 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 915560507, id=1694341920224055300, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:05 CST 2023, tickets=null]
2023-08-25 20:10:05.658 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:05.659 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:05.656(Timestamp), 1694341920224055300(Long)
2023-08-25 20:10:05.694 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:05.694 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:05.695 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:05.695 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@c8a6ba3
2023-08-25 20:10:05.696 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:05.697 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:05.714 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:05.715 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:05.716 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:05.717 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:05.717 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1017572877, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:05.717 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:05.718 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:05.718 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 528901131, id=1694341920224055300, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:05 CST 2023, tickets=null]
2023-08-25 20:10:05.718 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:05.719 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:05.718(Timestamp), 1694341920224055300(Long)
2023-08-25 20:10:05.777 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:05.777 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:05.991 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920257609728
2023-08-25 20:10:05.991 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:05.991 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1362862536, id=1694341920257609728, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:05 CST 2023, tickets=null]
2023-08-25 20:10:05.992 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:05.993 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:05.991(Timestamp), 1694341920257609728(Long)
2023-08-25 20:10:06.053 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:06.053 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.054 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:06.054 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@76ec6a0f
2023-08-25 20:10:06.055 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:06.056 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:06.071 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:06.072 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:06.073 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:06.073 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:06.074 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1291068482, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:06.074 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:06.074 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.075 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 564419443, id=1694341920257609728, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:06 CST 2023, tickets=null]
2023-08-25 20:10:06.075 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:06.076 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:06.074(Timestamp), 1694341920257609728(Long)
2023-08-25 20:10:06.128 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:06.128 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.329 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920312135680
2023-08-25 20:10:06.329 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.329 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 455905729, id=1694341920312135680, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:06 CST 2023, tickets=null]
2023-08-25 20:10:06.330 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:06.331 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:06.329(Timestamp), 1694341920312135680(Long)
2023-08-25 20:10:06.372 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:06.372 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.373 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:06.373 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@75ebd2a0
2023-08-25 20:10:06.374 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:06.375 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:06.395 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:06.396 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:06.396 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:06.397 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:06.397 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1365951720, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:06.397 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:06.397 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.398 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 481705959, id=1694341920312135680, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:06 CST 2023, tickets=null]
2023-08-25 20:10:06.398 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:06.398 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:06.397(Timestamp), 1694341920312135680(Long)
2023-08-25 20:10:06.438 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:06.438 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.643 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920312135681
2023-08-25 20:10:06.643 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.643 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 638986451, id=1694341920312135681, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:06 CST 2023, tickets=null]
2023-08-25 20:10:06.644 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:06.644 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:06.643(Timestamp), 1694341920312135681(Long)
2023-08-25 20:10:06.698 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:06.698 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.698 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:06.699 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@c38bfa6
2023-08-25 20:10:06.699 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:06.700 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:06.717 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:06.718 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:06.719 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:06.719 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:06.719 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 817307943, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:06.719 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:06.719 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.720 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1980161345, id=1694341920312135681, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:06 CST 2023, tickets=null]
2023-08-25 20:10:06.721 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:06.721 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:06.719(Timestamp), 1694341920312135681(Long)
2023-08-25 20:10:06.756 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:06.757 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:06.757 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:06.758 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1ef6d666
2023-08-25 20:10:06.765 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:06.766 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:06.812 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:06.812 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13962
2023-08-25 20:10:06.813 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:06.814 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:06.816 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:06.843 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:06.844 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920337301504, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.816, 2023-08-23 21:32:47.816, <<BLOB>>
2023-08-25 20:10:06.845 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920354078720, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.820, 2023-08-23 21:32:47.820, <<BLOB>>
2023-08-25 20:10:06.846 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920358273024, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.821, 2023-08-23 21:32:47.821, <<BLOB>>
2023-08-25 20:10:06.847 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920391827456, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.829, 2023-08-23 21:32:47.829, <<BLOB>>
2023-08-25 20:10:06.848 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920396021760, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.830, 2023-08-23 21:32:47.830, <<BLOB>>
2023-08-25 20:10:06.848 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:06.849 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:06.849 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:07.051 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920337301504
2023-08-25 20:10:07.051 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.052 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 338491774, id=1694341920337301504, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:07 CST 2023, tickets=null]
2023-08-25 20:10:07.052 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:07.053 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:07.051(Timestamp), 1694341920337301504(Long)
2023-08-25 20:10:07.091 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:07.092 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.092 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:07.092 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@357ad6d0
2023-08-25 20:10:07.093 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:07.094 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:07.118 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:07.119 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:07.119 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:07.120 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:07.120 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1894971903, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:07.120 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:07.121 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.121 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1406498778, id=1694341920337301504, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:07 CST 2023, tickets=null]
2023-08-25 20:10:07.121 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:07.122 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:07.121(Timestamp), 1694341920337301504(Long)
2023-08-25 20:10:07.153 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:07.153 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.354 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920354078720
2023-08-25 20:10:07.354 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.355 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 51384170, id=1694341920354078720, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:07 CST 2023, tickets=null]
2023-08-25 20:10:07.356 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:07.357 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:07.354(Timestamp), 1694341920354078720(Long)
2023-08-25 20:10:07.387 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:07.388 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.388 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:07.388 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1cd9f302
2023-08-25 20:10:07.390 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:07.390 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:07.416 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:07.418 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:07.419 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:07.421 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:07.424 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2023051058, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:07.427 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:07.428 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.428 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1299514965, id=1694341920354078720, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:07 CST 2023, tickets=null]
2023-08-25 20:10:07.429 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:07.429 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:07.427(Timestamp), 1694341920354078720(Long)
2023-08-25 20:10:07.461 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:07.462 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.663 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920358273024
2023-08-25 20:10:07.663 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.664 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 237585546, id=1694341920358273024, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:07 CST 2023, tickets=null]
2023-08-25 20:10:07.664 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:07.665 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:07.663(Timestamp), 1694341920358273024(Long)
2023-08-25 20:10:07.695 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:07.695 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.695 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:07.696 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@39b594cb
2023-08-25 20:10:07.696 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:07.697 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:07.713 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:07.713 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:07.714 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:07.714 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:07.714 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1590721351, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:07.715 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:07.715 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.715 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 957686873, id=1694341920358273024, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:07 CST 2023, tickets=null]
2023-08-25 20:10:07.715 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:07.716 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:07.715(Timestamp), 1694341920358273024(Long)
2023-08-25 20:10:07.786 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:07.787 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.923 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965407923y7i  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:07.924 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965407923y7i  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.925 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965407925tus  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:07.925 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965407923y7i  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.926 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965407925tus  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.926 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965407925tus  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.926 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965407923y7i  [0;39m ------------- 开始 -------------
2023-08-25 20:10:07.926 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965407923y7i  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965407923y7i  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965407925tus  [0;39m ------------- 开始 -------------
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965407923y7i  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965407925tus  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965407923y7i  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965407925tus  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965407925tus  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965407923y7i  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965407925tus  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:07.927 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965407923y7i  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:07.928 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965407925tus  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.928 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965407925tus  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:07.930 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965407930t3n  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:07.931 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965407930t3n  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.931 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965407930t3n  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.932 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965407930t3n  [0;39m ------------- 开始 -------------
2023-08-25 20:10:07.933 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965407930t3n  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:07.933 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965407930t3n  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:07.933 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965407930t3n  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:07.933 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965407930t3n  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:07.933 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965407930t3n  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.934 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965407930t3n  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:07.934 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407930t3n  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:07.935 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169296540793574u  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:07.935 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407930t3n  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:07.935 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169296540793574u  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.936 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169296540793574u  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.933 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965407933y3e  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:07.936 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169296540793574u  [0;39m ------------- 开始 -------------
2023-08-25 20:10:07.937 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169296540793574u  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:07.937 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169296540793574u  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:07.937 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169296540793574u  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:07.937 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169296540793574u  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:07.938 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296540793574u  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.938 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296540793574u  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:07.941 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965407933y3e  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.942 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965407933y3e  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.943 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965407933y3e  [0;39m ------------- 开始 -------------
2023-08-25 20:10:07.944 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965407933y3e  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:07.944 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965407933y3e  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:07.944 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965407933y3e  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:07.944 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965407933y3e  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:07.945 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965407933y3e  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.945 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965407933y3e  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:07.947 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407923y7i  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:07.947 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407925tus  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:07.948 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407925tus  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:07.948 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407923y7i  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:07.950 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965407930t3n  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:07.951 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965407930t3n  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:07.952 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407930t3n  [0;39m <==      Total: 1
2023-08-25 20:10:07.953 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965407930t3n  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.953 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965407930t3n  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:07.954 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965407930t3n  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@56dfaea3
2023-08-25 20:10:07.958 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407930t3n  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:07.959 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407930t3n  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:07.960 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296540793574u  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:07.961 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296540793574u  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:07.964 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654079640ad  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:07.964 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654079640ad  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.965 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654079640ad  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:07.965 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654079640ad  [0;39m ------------- 开始 -------------
2023-08-25 20:10:07.965 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654079640ad  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:07.966 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654079640ad  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:07.966 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654079640ad  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:07.966 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654079640ad  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:07.966 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654079640ad  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.966 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654079640ad  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:07.969 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407933y3e  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:07.969 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965407923y7i  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:07.969 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965407925tus  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:07.970 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407933y3e  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:07.970 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965407925tus  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:07.970 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965407923y7i  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:07.971 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407925tus  [0;39m <==      Total: 1
2023-08-25 20:10:07.971 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407923y7i  [0;39m <==      Total: 1
2023-08-25 20:10:07.971 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965407925tus  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.971 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965407923y7i  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.971 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965407925tus  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:07.971 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965407923y7i  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:07.972 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965407925tus  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5db70f88
2023-08-25 20:10:07.972 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965407923y7i  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@46ea0056
2023-08-25 20:10:07.974 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407923y7i  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:07.974 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407925tus  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:07.974 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407923y7i  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:07.975 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407925tus  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:07.977 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296540793574u  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:07.978 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296540793574u  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:07.978 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296540793574u  [0;39m <==      Total: 1
2023-08-25 20:10:07.979 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296540793574u  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.979 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296540793574u  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:07.979 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296540793574u  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@57e44199
2023-08-25 20:10:07.980 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654079640ad  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:07.980 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654079640ad  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:07.980 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296540793574u  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:07.981 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296540793574u  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:07.987 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920391827456
2023-08-25 20:10:07.987 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:07.987 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2111298885, id=1694341920391827456, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:07 CST 2023, tickets=null]
2023-08-25 20:10:07.988 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965407933y3e  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:07.989 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965407933y3e  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:07.990 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965407933y3e  [0;39m <==      Total: 1
2023-08-25 20:10:07.991 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965407933y3e  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.992 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965407933y3e  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:07.992 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965407933y3e  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3ad655ff
2023-08-25 20:10:07.993 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407933y3e  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:07.994 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654079640ad  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:07.994 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407933y3e  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:07.995 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654079640ad  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:07.995 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654079640ad  [0;39m <==      Total: 1
2023-08-25 20:10:07.996 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654079640ad  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:07.996 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654079640ad  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:07.996 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654079640ad  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@68452b49
2023-08-25 20:10:07.997 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654079640ad  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:07.997 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654079640ad  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:08.056 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:08.056 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:07.987(Timestamp), 1694341920391827456(Long)
2023-08-25 20:10:08.264 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:08.264 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:08.265 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:08.265 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3027445e
2023-08-25 20:10:08.266 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:08.266 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:08.283 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965407930t3n  [0;39m <==    Columns: count(*)
2023-08-25 20:10:08.283 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965407930t3n  [0;39m <==        Row: 13958
2023-08-25 20:10:08.284 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407930t3n  [0;39m <==      Total: 1
2023-08-25 20:10:08.319 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965407930t3n  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:08.320 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965407930t3n  [0;39m 返回结果: {"code":0,"message":"","result":13958,"success":true}
2023-08-25 20:10:08.320 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965407930t3n  [0;39m ------------- 结束 耗时：388 ms -------------
2023-08-25 20:10:08.356 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:08.357 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:08.358 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:08.359 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:08.359 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1075504870, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:08.359 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:08.359 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:08.360 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1684103757, id=1694341920391827456, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:08 CST 2023, tickets=null]
2023-08-25 20:10:08.360 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:08.361 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:08.359(Timestamp), 1694341920391827456(Long)
2023-08-25 20:10:08.463 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965407923y7i  [0;39m <==    Columns: count(*)
2023-08-25 20:10:08.464 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965407923y7i  [0;39m <==        Row: 13958
2023-08-25 20:10:08.464 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407923y7i  [0;39m <==      Total: 1
2023-08-25 20:10:08.465 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965407923y7i  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:08.465 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965407923y7i  [0;39m 返回结果: {"code":0,"message":"","result":13958,"success":true}
2023-08-25 20:10:08.465 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965407923y7i  [0;39m ------------- 结束 耗时：539 ms -------------
2023-08-25 20:10:08.554 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:08.555 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:08.564 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965407925tus  [0;39m <==    Columns: count(*)
2023-08-25 20:10:08.564 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296540793574u  [0;39m <==    Columns: count(*)
2023-08-25 20:10:08.564 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965407925tus  [0;39m <==        Row: 13958
2023-08-25 20:10:08.565 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296540793574u  [0;39m <==        Row: 13958
2023-08-25 20:10:08.565 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407925tus  [0;39m <==      Total: 1
2023-08-25 20:10:08.565 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654079640ad  [0;39m <==    Columns: count(*)
2023-08-25 20:10:08.565 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296540793574u  [0;39m <==      Total: 1
2023-08-25 20:10:08.565 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654079640ad  [0;39m <==        Row: 13958
2023-08-25 20:10:08.565 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296540793574u  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:08.565 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965407925tus  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:08.565 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654079640ad  [0;39m <==      Total: 1
2023-08-25 20:10:08.565 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169296540793574u  [0;39m 返回结果: {"code":0,"message":"","result":13958,"success":true}
2023-08-25 20:10:08.565 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965407925tus  [0;39m 返回结果: {"code":0,"message":"","result":13958,"success":true}
2023-08-25 20:10:08.566 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169296540793574u  [0;39m ------------- 结束 耗时：630 ms -------------
2023-08-25 20:10:08.566 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654079640ad  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:08.566 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965407925tus  [0;39m ------------- 结束 耗时：639 ms -------------
2023-08-25 20:10:08.566 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654079640ad  [0;39m 返回结果: {"code":0,"message":"","result":13958,"success":true}
2023-08-25 20:10:08.566 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654079640ad  [0;39m ------------- 结束 耗时：601 ms -------------
2023-08-25 20:10:08.665 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965407933y3e  [0;39m <==    Columns: count(*)
2023-08-25 20:10:08.665 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965407933y3e  [0;39m <==        Row: 13958
2023-08-25 20:10:08.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965407933y3e  [0;39m <==      Total: 1
2023-08-25 20:10:08.666 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965407933y3e  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:08.666 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965407933y3e  [0;39m 返回结果: {"code":0,"message":"","result":13958,"success":true}
2023-08-25 20:10:08.666 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965407933y3e  [0;39m ------------- 结束 耗时：723 ms -------------
2023-08-25 20:10:08.756 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920396021760
2023-08-25 20:10:08.756 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:08.756 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1280915746, id=1694341920396021760, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:08 CST 2023, tickets=null]
2023-08-25 20:10:08.757 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:08.757 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:08.756(Timestamp), 1694341920396021760(Long)
2023-08-25 20:10:08.790 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:08.791 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:08.791 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:08.791 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@347fa9a2
2023-08-25 20:10:08.792 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:08.793 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:08.808 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:08.809 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:08.810 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:08.810 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:08.810 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 694518532, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:08.810 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:08.810 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:08.811 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1814014626, id=1694341920396021760, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:08 CST 2023, tickets=null]
2023-08-25 20:10:08.811 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:08.811 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:08.81(Timestamp), 1694341920396021760(Long)
2023-08-25 20:10:08.844 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:08.844 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:08.844 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:08.844 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@8c593b0
2023-08-25 20:10:08.847 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:08.848 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:08.893 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:08.893 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13957
2023-08-25 20:10:08.893 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:08.894 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:08.894 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:08.920 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:08.921 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920404410368, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.832, 2023-08-23 21:32:47.832, <<BLOB>>
2023-08-25 20:10:08.921 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920450547712, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.843, 2023-08-23 21:32:47.843, <<BLOB>>
2023-08-25 20:10:08.922 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920467324928, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.847, 2023-08-23 21:32:47.847, <<BLOB>>
2023-08-25 20:10:08.923 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920509267968, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.857, 2023-08-23 21:32:47.857, <<BLOB>>
2023-08-25 20:10:08.923 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920513462272, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.858, 2023-08-23 21:32:47.858, <<BLOB>>
2023-08-25 20:10:08.924 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:08.924 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:08.925 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:09.125 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920404410368
2023-08-25 20:10:09.125 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.125 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1912818836, id=1694341920404410368, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:09 CST 2023, tickets=null]
2023-08-25 20:10:09.126 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:09.126 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:09.125(Timestamp), 1694341920404410368(Long)
2023-08-25 20:10:09.156 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:09.156 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.156 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:09.157 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@34fcc144
2023-08-25 20:10:09.157 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:09.158 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:09.173 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:09.174 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:09.174 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:09.175 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:09.175 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 202209095, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:09.175 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:09.175 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.175 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 344302522, id=1694341920404410368, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:09 CST 2023, tickets=null]
2023-08-25 20:10:09.175 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:09.176 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:09.175(Timestamp), 1694341920404410368(Long)
2023-08-25 20:10:09.216 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:09.216 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.417 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920450547712
2023-08-25 20:10:09.417 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.417 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 894775660, id=1694341920450547712, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:09 CST 2023, tickets=null]
2023-08-25 20:10:09.418 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:09.418 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:09.417(Timestamp), 1694341920450547712(Long)
2023-08-25 20:10:09.447 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:09.448 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.448 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:09.448 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6b243e47
2023-08-25 20:10:09.448 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:09.449 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:09.464 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:09.464 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:09.465 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:09.465 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:09.465 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1010328400, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:09.465 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:09.465 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.465 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1086271670, id=1694341920450547712, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:09 CST 2023, tickets=null]
2023-08-25 20:10:09.466 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:09.466 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:09.465(Timestamp), 1694341920450547712(Long)
2023-08-25 20:10:09.500 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:09.501 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.704 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920467324928
2023-08-25 20:10:09.704 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.704 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2112698558, id=1694341920467324928, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:09 CST 2023, tickets=null]
2023-08-25 20:10:09.705 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:09.705 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:09.704(Timestamp), 1694341920467324928(Long)
2023-08-25 20:10:09.735 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:09.735 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.736 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:09.736 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3bb35cc0
2023-08-25 20:10:09.736 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:09.737 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:09.766 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:09.767 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:09.768 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:09.768 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:09.768 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 989766160, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:09.768 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:09.768 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:09.769 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1065240201, id=1694341920467324928, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:09 CST 2023, tickets=null]
2023-08-25 20:10:09.769 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:09.769 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:09.768(Timestamp), 1694341920467324928(Long)
2023-08-25 20:10:09.813 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:09.814 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.015 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920509267968
2023-08-25 20:10:10.015 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.015 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 575243058, id=1694341920509267968, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:10 CST 2023, tickets=null]
2023-08-25 20:10:10.016 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:10.016 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:10.015(Timestamp), 1694341920509267968(Long)
2023-08-25 20:10:10.044 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:10.045 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.045 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:10.045 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@20ef0273
2023-08-25 20:10:10.046 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:10.047 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:10.066 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:10.066 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:10.067 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:10.067 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:10.068 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 38833568, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:10.068 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:10.068 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.068 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 768453808, id=1694341920509267968, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:10 CST 2023, tickets=null]
2023-08-25 20:10:10.069 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:10.069 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:10.068(Timestamp), 1694341920509267968(Long)
2023-08-25 20:10:10.097 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:10.098 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.299 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920513462272
2023-08-25 20:10:10.299 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.299 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1862636658, id=1694341920513462272, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:10 CST 2023, tickets=null]
2023-08-25 20:10:10.300 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:10.300 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:10.299(Timestamp), 1694341920513462272(Long)
2023-08-25 20:10:10.329 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:10.330 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.330 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:10.330 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@29d6b014
2023-08-25 20:10:10.330 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:10.331 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:10.346 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:10.347 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:10.347 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:10.347 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:10.347 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1369365560, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:10.348 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:10.348 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.348 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1232430197, id=1694341920513462272, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:10 CST 2023, tickets=null]
2023-08-25 20:10:10.348 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:10.348 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:10.348(Timestamp), 1694341920513462272(Long)
2023-08-25 20:10:10.379 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:10.379 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.380 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:10.380 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1ced5e0d
2023-08-25 20:10:10.383 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:10.384 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:10.427 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:10.427 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13952
2023-08-25 20:10:10.427 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:10.428 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:10.428 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:10.454 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:10.456 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920542822400, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.865, 2023-08-23 21:32:47.865, <<BLOB>>
2023-08-25 20:10:10.456 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920542822401, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.865, 2023-08-23 21:32:47.865, <<BLOB>>
2023-08-25 20:10:10.457 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920555405312, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.868, 2023-08-23 21:32:47.868, <<BLOB>>
2023-08-25 20:10:10.458 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920567988224, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.871, 2023-08-23 21:32:47.871, <<BLOB>>
2023-08-25 20:10:10.458 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920584765440, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.875, 2023-08-23 21:32:47.875, <<BLOB>>
2023-08-25 20:10:10.459 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:10.460 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:10.460 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:10.661 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920542822400
2023-08-25 20:10:10.661 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.661 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 52673365, id=1694341920542822400, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:10 CST 2023, tickets=null]
2023-08-25 20:10:10.662 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:10.662 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:10.661(Timestamp), 1694341920542822400(Long)
2023-08-25 20:10:10.703 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:10.703 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.704 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:10.704 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@453f16b5
2023-08-25 20:10:10.705 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:10.705 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:10.721 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:10.722 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:10.722 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:10.723 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:10.723 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1784144419, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:10.723 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:10.724 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.724 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1880365919, id=1694341920542822400, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:10 CST 2023, tickets=null]
2023-08-25 20:10:10.724 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:10.725 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:10.723(Timestamp), 1694341920542822400(Long)
2023-08-25 20:10:10.757 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:10.757 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.959 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920542822401
2023-08-25 20:10:10.959 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.959 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 969941263, id=1694341920542822401, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:10 CST 2023, tickets=null]
2023-08-25 20:10:10.959 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:10.960 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:10.959(Timestamp), 1694341920542822401(Long)
2023-08-25 20:10:10.993 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:10.993 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:10.993 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:10.993 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3cddbac8
2023-08-25 20:10:10.994 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:10.995 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:11.009 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:11.010 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:11.011 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:11.012 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:11.012 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1346410950, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:11.012 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:11.012 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.012 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 539258328, id=1694341920542822401, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:11 CST 2023, tickets=null]
2023-08-25 20:10:11.013 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:11.013 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:11.012(Timestamp), 1694341920542822401(Long)
2023-08-25 20:10:11.075 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:11.076 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.276 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920555405312
2023-08-25 20:10:11.276 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.276 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 429567968, id=1694341920555405312, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:11 CST 2023, tickets=null]
2023-08-25 20:10:11.277 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:11.277 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:11.276(Timestamp), 1694341920555405312(Long)
2023-08-25 20:10:11.311 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:11.312 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.312 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:11.312 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4e097571
2023-08-25 20:10:11.312 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:11.313 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:11.328 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:11.329 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:11.329 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:11.330 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:11.330 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 127729295, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:11.330 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:11.330 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.330 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1321765051, id=1694341920555405312, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:11 CST 2023, tickets=null]
2023-08-25 20:10:11.331 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:11.331 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:11.33(Timestamp), 1694341920555405312(Long)
2023-08-25 20:10:11.365 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:11.366 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.567 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920567988224
2023-08-25 20:10:11.567 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.567 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 768672424, id=1694341920567988224, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:11 CST 2023, tickets=null]
2023-08-25 20:10:11.568 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:11.568 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:11.567(Timestamp), 1694341920567988224(Long)
2023-08-25 20:10:11.604 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:11.605 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.605 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:11.605 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@47de3d4b
2023-08-25 20:10:11.606 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:11.606 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:11.623 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:11.624 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:11.624 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:11.625 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:11.625 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1460837188, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:11.625 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:11.625 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.625 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1426141580, id=1694341920567988224, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:11 CST 2023, tickets=null]
2023-08-25 20:10:11.626 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:11.626 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:11.625(Timestamp), 1694341920567988224(Long)
2023-08-25 20:10:11.659 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:11.659 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.862 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920584765440
2023-08-25 20:10:11.862 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.862 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 151325057, id=1694341920584765440, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:11 CST 2023, tickets=null]
2023-08-25 20:10:11.863 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:11.863 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:11.862(Timestamp), 1694341920584765440(Long)
2023-08-25 20:10:11.893 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:11.893 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.893 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:11.893 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@165fbec2
2023-08-25 20:10:11.894 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:11.894 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:11.913 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:11.914 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:11.914 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:11.914 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:11.914 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1335644207, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:11.915 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:11.915 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.915 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1995539993, id=1694341920584765440, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:11 CST 2023, tickets=null]
2023-08-25 20:10:11.915 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:11.915 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:11.915(Timestamp), 1694341920584765440(Long)
2023-08-25 20:10:11.945 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:11.945 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:11.945 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:11.945 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@53224e71
2023-08-25 20:10:11.948 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:11.948 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:11.992 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:11.992 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13947
2023-08-25 20:10:11.992 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:11.993 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:11.993 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:12.015 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:12.016 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920605736960, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.880, 2023-08-23 21:32:47.880, <<BLOB>>
2023-08-25 20:10:12.016 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920626708480, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.885, 2023-08-23 21:32:47.885, <<BLOB>>
2023-08-25 20:10:12.017 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920635097088, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.887, 2023-08-23 21:32:47.887, <<BLOB>>
2023-08-25 20:10:12.017 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920639291392, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.888, 2023-08-23 21:32:47.888, <<BLOB>>
2023-08-25 20:10:12.018 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920651874304, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.891, 2023-08-23 21:32:47.891, <<BLOB>>
2023-08-25 20:10:12.018 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:12.019 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:12.019 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:12.134 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965412134n1l  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:12.135 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965412134n1l  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:12.136 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965412134n1l  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:12.136 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965412134n1l  [0;39m ------------- 开始 -------------
2023-08-25 20:10:12.136 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965412134n1l  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:12.136 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965412134n1l  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:12.136 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965412134n1l  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:12.137 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965412134n1l  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:12.137 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965412134n1l  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:12.137 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965412134n1l  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:12.154 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965412134n1l  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:12.155 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965412134n1l  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:12.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965412134n1l  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:12.173 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965412134n1l  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:12.174 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965412134n1l  [0;39m <==      Total: 1
2023-08-25 20:10:12.174 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965412134n1l  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:12.175 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965412134n1l  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:12.175 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965412134n1l  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7d23ae4b
2023-08-25 20:10:12.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965412134n1l  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:12.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965412134n1l  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:12.222 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920605736960
2023-08-25 20:10:12.222 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.222 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1148612453, id=1694341920605736960, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:12 CST 2023, tickets=null]
2023-08-25 20:10:12.223 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:12.223 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:12.222(Timestamp), 1694341920605736960(Long)
2023-08-25 20:10:12.252 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:12.253 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.253 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:12.253 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@626fe576
2023-08-25 20:10:12.253 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:12.254 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:12.260 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965412134n1l  [0;39m <==    Columns: count(*)
2023-08-25 20:10:12.261 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965412134n1l  [0;39m <==        Row: 13946
2023-08-25 20:10:12.261 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965412134n1l  [0;39m <==      Total: 1
2023-08-25 20:10:12.261 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965412134n1l  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:12.262 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965412134n1l  [0;39m 返回结果: {"code":0,"message":"","result":13946,"success":true}
2023-08-25 20:10:12.262 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965412134n1l  [0;39m ------------- 结束 耗时：126 ms -------------
2023-08-25 20:10:12.270 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:12.271 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:12.271 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:12.271 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:12.271 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 654443632, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:12.272 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:12.272 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.272 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 105004372, id=1694341920605736960, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:12 CST 2023, tickets=null]
2023-08-25 20:10:12.272 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:12.273 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:12.272(Timestamp), 1694341920605736960(Long)
2023-08-25 20:10:12.302 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:12.302 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.504 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920626708480
2023-08-25 20:10:12.504 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.504 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 164846013, id=1694341920626708480, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:12 CST 2023, tickets=null]
2023-08-25 20:10:12.505 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:12.506 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:12.504(Timestamp), 1694341920626708480(Long)
2023-08-25 20:10:12.535 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:12.535 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.535 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:12.535 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@29facf62
2023-08-25 20:10:12.536 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:12.536 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:12.551 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:12.552 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:12.552 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:12.552 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:12.552 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2026619458, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:12.553 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:12.553 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.553 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1777636941, id=1694341920626708480, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:12 CST 2023, tickets=null]
2023-08-25 20:10:12.553 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:12.554 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:12.553(Timestamp), 1694341920626708480(Long)
2023-08-25 20:10:12.595 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:12.595 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.796 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920635097088
2023-08-25 20:10:12.796 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.796 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1310052473, id=1694341920635097088, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:12 CST 2023, tickets=null]
2023-08-25 20:10:12.797 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:12.797 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:12.796(Timestamp), 1694341920635097088(Long)
2023-08-25 20:10:12.826 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:12.826 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.826 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:12.826 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@25617795
2023-08-25 20:10:12.827 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:12.827 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:12.847 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:12.848 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:12.849 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:12.849 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:12.849 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 99868819, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:12.849 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:12.849 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:12.849 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1001787804, id=1694341920635097088, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:12 CST 2023, tickets=null]
2023-08-25 20:10:12.850 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:12.850 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:12.849(Timestamp), 1694341920635097088(Long)
2023-08-25 20:10:12.880 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:12.881 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:13.081 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920639291392
2023-08-25 20:10:13.081 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:13.081 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1528587192, id=1694341920639291392, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:13 CST 2023, tickets=null]
2023-08-25 20:10:13.081 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:13.082 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:13.081(Timestamp), 1694341920639291392(Long)
2023-08-25 20:10:13.122 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:13.123 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:13.123 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:13.123 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4ac02463
2023-08-25 20:10:13.125 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965413124kd3  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:13.125 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:13.125 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965413124kd3  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.125 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965413124kd3  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.126 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:13.125 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965413125afx  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:13.126 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965413124kd3  [0;39m ------------- 开始 -------------
2023-08-25 20:10:13.127 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654131274jj  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:13.127 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965413125afx  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.127 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965413124kd3  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:13.128 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965413125afx  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.128 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654131274jj  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965413128143  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:13.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654131286w2  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:13.128 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654131274jj  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.128 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965413124kd3  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:13.129 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965413125afx  [0;39m ------------- 开始 -------------
2023-08-25 20:10:13.129 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965413125afx  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:13.129 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965413124kd3  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:13.130 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654131274jj  [0;39m ------------- 开始 -------------
2023-08-25 20:10:13.130 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654131286w2  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.130 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965413124kd3  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:13.130 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965413125afx  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:13.130 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965413128143  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654131274jj  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413124kd3  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.131 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654131286w2  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.131 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965413128143  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654131274jj  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965413125afx  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654131274jj  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413124kd3  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654131274jj  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965413128143  [0;39m ------------- 开始 -------------
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965413125afx  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654131286w2  [0;39m ------------- 开始 -------------
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965413128143  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413125afx  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413125afx  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654131286w2  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965413128143  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:13.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654131274jj  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654131286w2  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965413128143  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654131274jj  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654131286w2  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965413128143  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654131286w2  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413128143  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.132 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654131286w2  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413128143  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:13.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654131286w2  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:13.141 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:13.142 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:13.142 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:13.142 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:13.143 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1336210791, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:13.143 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:13.143 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:13.143 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 27415492, id=1694341920639291392, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:13 CST 2023, tickets=null]
2023-08-25 20:10:13.143 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:13.144 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:13.143(Timestamp), 1694341920639291392(Long)
2023-08-25 20:10:13.145 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413125afx  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:13.145 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413124kd3  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:13.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654131274jj  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:13.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413125afx  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:13.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413124kd3  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:13.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654131274jj  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:13.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654131286w2  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:13.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654131286w2  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:13.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413128143  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:13.150 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413128143  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:13.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413125afx  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:13.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413124kd3  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:13.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413125afx  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:13.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413124kd3  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:13.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413124kd3  [0;39m <==      Total: 1
2023-08-25 20:10:13.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413125afx  [0;39m <==      Total: 1
2023-08-25 20:10:13.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654131274jj  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:13.161 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413124kd3  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.161 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413125afx  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.161 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413124kd3  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.161 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413125afx  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.161 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654131274jj  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:13.161 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413124kd3  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7f03f3d
2023-08-25 20:10:13.161 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413125afx  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6a2ecd27
2023-08-25 20:10:13.162 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654131274jj  [0;39m <==      Total: 1
2023-08-25 20:10:13.162 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413124kd3  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:13.162 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654131274jj  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.162 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413125afx  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:13.162 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413124kd3  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:13.162 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654131274jj  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.163 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654131274jj  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1d895c7
2023-08-25 20:10:13.163 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413125afx  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:13.163 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654131274jj  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:13.164 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654131274jj  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:13.166 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654131286w2  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:13.167 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654131286w2  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:13.167 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413128143  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:13.168 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654131286w2  [0;39m <==      Total: 1
2023-08-25 20:10:13.168 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413128143  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:13.168 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654131286w2  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.168 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413128143  [0;39m <==      Total: 1
2023-08-25 20:10:13.168 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654131286w2  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.169 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413128143  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.169 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654131286w2  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5da75519
2023-08-25 20:10:13.169 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413128143  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.169 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413128143  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@325b3f56
2023-08-25 20:10:13.169 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654131286w2  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:13.170 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413128143  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:13.170 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654131286w2  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:13.170 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413128143  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:13.174 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:13.174 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:13.376 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920651874304
2023-08-25 20:10:13.376 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:13.376 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1464231360, id=1694341920651874304, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:13 CST 2023, tickets=null]
2023-08-25 20:10:13.377 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:13.377 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:13.376(Timestamp), 1694341920651874304(Long)
2023-08-25 20:10:13.475 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965413475lud  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:13.476 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965413475lud  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.476 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965413475lud  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.476 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965413475lud  [0;39m ------------- 开始 -------------
2023-08-25 20:10:13.476 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965413475lud  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:13.477 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965413475lud  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:13.477 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965413475lud  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:13.477 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965413475lud  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:13.477 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413475lud  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.477 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413475lud  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:13.498 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413475lud  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:13.499 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413475lud  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:13.516 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413475lud  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:13.517 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413475lud  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:13.517 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413475lud  [0;39m <==      Total: 1
2023-08-25 20:10:13.517 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413475lud  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.517 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413475lud  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.517 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413475lud  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5b7cd182
2023-08-25 20:10:13.518 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413475lud  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:13.519 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413475lud  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:13.553 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:13.554 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:13.554 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:13.554 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2c8ee5d1
2023-08-25 20:10:13.555 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:13.555 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:13.556 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654131274jj  [0;39m <==    Columns: count(*)
2023-08-25 20:10:13.556 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654131274jj  [0;39m <==        Row: 13942
2023-08-25 20:10:13.556 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654131274jj  [0;39m <==      Total: 1
2023-08-25 20:10:13.557 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654131274jj  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.557 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654131274jj  [0;39m 返回结果: {"code":0,"message":"","result":13942,"success":true}
2023-08-25 20:10:13.557 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654131274jj  [0;39m ------------- 结束 耗时：427 ms -------------
2023-08-25 20:10:13.571 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:13.572 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:13.573 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:13.573 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:13.573 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1450438897, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:13.574 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:13.574 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:13.574 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1678547472, id=1694341920651874304, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:13 CST 2023, tickets=null]
2023-08-25 20:10:13.574 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:13.575 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:13.574(Timestamp), 1694341920651874304(Long)
2023-08-25 20:10:13.654 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:13.655 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:13.655 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:13.655 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@721d486b
2023-08-25 20:10:13.658 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:13.659 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413125afx  [0;39m <==    Columns: count(*)
2023-08-25 20:10:13.659 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:13.659 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413125afx  [0;39m <==        Row: 13942
2023-08-25 20:10:13.659 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413125afx  [0;39m <==      Total: 1
2023-08-25 20:10:13.659 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413125afx  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.660 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965413125afx  [0;39m 返回结果: {"code":0,"message":"","result":13942,"success":true}
2023-08-25 20:10:13.660 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965413125afx  [0;39m ------------- 结束 耗时：531 ms -------------
2023-08-25 20:10:13.759 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654131286w2  [0;39m <==    Columns: count(*)
2023-08-25 20:10:13.759 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413128143  [0;39m <==    Columns: count(*)
2023-08-25 20:10:13.759 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654131286w2  [0;39m <==        Row: 13942
2023-08-25 20:10:13.759 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413128143  [0;39m <==        Row: 13942
2023-08-25 20:10:13.760 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654131286w2  [0;39m <==      Total: 1
2023-08-25 20:10:13.760 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413128143  [0;39m <==      Total: 1
2023-08-25 20:10:13.760 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654131286w2  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.760 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413128143  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.760 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654131286w2  [0;39m 返回结果: {"code":0,"message":"","result":13942,"success":true}
2023-08-25 20:10:13.760 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965413128143  [0;39m 返回结果: {"code":0,"message":"","result":13942,"success":true}
2023-08-25 20:10:13.760 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654131286w2  [0;39m ------------- 结束 耗时：629 ms -------------
2023-08-25 20:10:13.760 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965413128143  [0;39m ------------- 结束 耗时：629 ms -------------
2023-08-25 20:10:13.761 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413124kd3  [0;39m <==    Columns: count(*)
2023-08-25 20:10:13.761 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413124kd3  [0;39m <==        Row: 13942
2023-08-25 20:10:13.762 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413124kd3  [0;39m <==      Total: 1
2023-08-25 20:10:13.762 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413124kd3  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.762 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965413124kd3  [0;39m 返回结果: {"code":0,"message":"","result":13942,"success":true}
2023-08-25 20:10:13.763 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965413124kd3  [0;39m ------------- 结束 耗时：637 ms -------------
2023-08-25 20:10:13.873 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413475lud  [0;39m <==    Columns: count(*)
2023-08-25 20:10:13.873 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413475lud  [0;39m <==        Row: 13942
2023-08-25 20:10:13.873 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413475lud  [0;39m <==      Total: 1
2023-08-25 20:10:13.873 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413475lud  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.874 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965413475lud  [0;39m 返回结果: {"code":0,"message":"","result":13942,"success":true}
2023-08-25 20:10:13.874 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965413475lud  [0;39m ------------- 结束 耗时：398 ms -------------
2023-08-25 20:10:13.876 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:13.877 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13942
2023-08-25 20:10:13.877 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:13.877 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:13.878 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:13.883 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965413883sq7  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:13.883 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965413883sq7  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.883 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965413883sq7  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.883 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965413883sq7  [0;39m ------------- 开始 -------------
2023-08-25 20:10:13.883 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965413883sq7  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:13.884 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965413883sq7  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:13.884 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965413883sq7  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:13.884 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965413883sq7  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:13.884 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413883sq7  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.884 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413883sq7  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:13.884 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413883sq7  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:13.885 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413883sq7  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:13.912 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413883sq7  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:13.931 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413883sq7  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:13.932 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413883sq7  [0;39m <==      Total: 1
2023-08-25 20:10:13.933 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413883sq7  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.933 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413883sq7  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.933 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413883sq7  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5bdfbdb3
2023-08-25 20:10:13.934 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413883sq7  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:13.934 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413883sq7  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:13.962 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:13.963 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920656068608, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.892, 2023-08-23 21:32:47.892, <<BLOB>>
2023-08-25 20:10:13.963 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920656068609, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.892, 2023-08-23 21:32:47.892, <<BLOB>>
2023-08-25 20:10:13.964 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920702205952, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.903, 2023-08-23 21:32:47.903, <<BLOB>>
2023-08-25 20:10:13.964 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920714788864, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.906, 2023-08-23 21:32:47.906, <<BLOB>>
2023-08-25 20:10:13.965 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920739954688, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.912, 2023-08-23 21:32:47.912, <<BLOB>>
2023-08-25 20:10:13.965 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:13.965 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:13.965 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:13.983 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413883sq7  [0;39m <==    Columns: count(*)
2023-08-25 20:10:13.983 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413883sq7  [0;39m <==        Row: 13941
2023-08-25 20:10:13.983 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413883sq7  [0;39m <==      Total: 1
2023-08-25 20:10:13.984 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413883sq7  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:13.984 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965413883sq7  [0;39m 返回结果: {"code":0,"message":"","result":13941,"success":true}
2023-08-25 20:10:13.984 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965413883sq7  [0;39m ------------- 结束 耗时：101 ms -------------
2023-08-25 20:10:13.992 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965413992i76  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:13.992 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965413992i76  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.992 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965413992i76  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:13.992 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965413992i76  [0;39m ------------- 开始 -------------
2023-08-25 20:10:13.993 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965413992i76  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:13.993 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965413992i76  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:13.993 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965413992i76  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:13.993 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965413992i76  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:13.993 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413992i76  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:13.993 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413992i76  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:13.994 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413992i76  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:13.994 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413992i76  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.014 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413992i76  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.015 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965413992i76  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.015 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965413992i76  [0;39m <==      Total: 1
2023-08-25 20:10:14.015 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413992i76  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.015 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965413992i76  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.016 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965413992i76  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@36597ce8
2023-08-25 20:10:14.016 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413992i76  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.017 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413992i76  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.076 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413992i76  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.076 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965413992i76  [0;39m <==        Row: 13941
2023-08-25 20:10:14.077 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965413992i76  [0;39m <==      Total: 1
2023-08-25 20:10:14.077 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965413992i76  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.077 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965413992i76  [0;39m 返回结果: {"code":0,"message":"","result":13941,"success":true}
2023-08-25 20:10:14.077 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965413992i76  [0;39m ------------- 结束 耗时：85 ms -------------
2023-08-25 20:10:14.085 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965414085s09  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.086 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965414085s09  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.086 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965414085s09  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.087 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965414085s09  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.087 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965414085s09  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.088 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965414085s09  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.088 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965414085s09  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.088 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965414085s09  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.088 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414085s09  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.089 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414085s09  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.089 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414085s09  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.089 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414085s09  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.109 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414085s09  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.110 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414085s09  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.110 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414085s09  [0;39m <==      Total: 1
2023-08-25 20:10:14.110 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414085s09  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.111 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414085s09  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.111 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414085s09  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2168362f
2023-08-25 20:10:14.112 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414085s09  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.112 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414085s09  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.166 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920656068608
2023-08-25 20:10:14.166 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.166 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 647092239, id=1694341920656068608, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:14 CST 2023, tickets=null]
2023-08-25 20:10:14.167 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:14.167 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:14.166(Timestamp), 1694341920656068608(Long)
2023-08-25 20:10:14.183 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414085s09  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.184 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414085s09  [0;39m <==        Row: 13941
2023-08-25 20:10:14.184 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414085s09  [0;39m <==      Total: 1
2023-08-25 20:10:14.184 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414085s09  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.184 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965414085s09  [0;39m 返回结果: {"code":0,"message":"","result":13941,"success":true}
2023-08-25 20:10:14.184 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965414085s09  [0;39m ------------- 结束 耗时：97 ms -------------
2023-08-25 20:10:14.195 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965414194ti3  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.195 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965414194ti3  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.195 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965414194ti3  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.196 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965414194ti3  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.196 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965414194ti3  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.196 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965414194ti3  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.196 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:14.196 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965414194ti3  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.200 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.200 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965414194ti3  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.200 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:14.200 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414194ti3  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.200 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@40a03969
2023-08-25 20:10:14.200 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414194ti3  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.201 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414194ti3  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.201 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:14.201 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414194ti3  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.201 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:14.216 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:14.217 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:14.217 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:14.218 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:14.218 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1778508738, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:14.218 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:14.218 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.218 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1045520823, id=1694341920656068608, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:14 CST 2023, tickets=null]
2023-08-25 20:10:14.218 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:14.219 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:14.218(Timestamp), 1694341920656068608(Long)
2023-08-25 20:10:14.219 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414194ti3  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.220 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414194ti3  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.221 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414194ti3  [0;39m <==      Total: 1
2023-08-25 20:10:14.222 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414194ti3  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.222 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414194ti3  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.222 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414194ti3  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@11f3447d
2023-08-25 20:10:14.223 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414194ti3  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.223 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414194ti3  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.250 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:14.250 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.272 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414194ti3  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.272 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414194ti3  [0;39m <==        Row: 13941
2023-08-25 20:10:14.273 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414194ti3  [0;39m <==      Total: 1
2023-08-25 20:10:14.273 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414194ti3  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.273 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965414194ti3  [0;39m 返回结果: {"code":0,"message":"","result":13941,"success":true}
2023-08-25 20:10:14.274 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965414194ti3  [0;39m ------------- 结束 耗时：78 ms -------------
2023-08-25 20:10:14.282 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965414282bd3  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.282 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965414282bd3  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.282 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965414282bd3  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.283 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965414282bd3  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.283 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965414282bd3  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.283 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965414282bd3  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.283 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965414282bd3  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.283 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965414282bd3  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.283 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414282bd3  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.283 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414282bd3  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.299 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414282bd3  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.300 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414282bd3  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.322 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414282bd3  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.322 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414282bd3  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.323 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414282bd3  [0;39m <==      Total: 1
2023-08-25 20:10:14.323 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414282bd3  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.324 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414282bd3  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.324 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414282bd3  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7d695db5
2023-08-25 20:10:14.325 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414282bd3  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.326 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414282bd3  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.371 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414282bd3  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.371 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414282bd3  [0;39m <==        Row: 13940
2023-08-25 20:10:14.372 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414282bd3  [0;39m <==      Total: 1
2023-08-25 20:10:14.372 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414282bd3  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.372 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965414282bd3  [0;39m 返回结果: {"code":0,"message":"","result":13940,"success":true}
2023-08-25 20:10:14.373 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965414282bd3  [0;39m ------------- 结束 耗时：90 ms -------------
2023-08-25 20:10:14.383 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965414383jkp  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.383 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965414383jkp  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.383 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965414383jkp  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.384 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965414383jkp  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.384 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965414383jkp  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.391 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965414383jkp  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.391 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965414383jkp  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.392 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965414383jkp  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.392 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414383jkp  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.392 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414383jkp  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.406 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414383jkp  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.406 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414383jkp  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.420 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414383jkp  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.421 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414383jkp  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.421 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414383jkp  [0;39m <==      Total: 1
2023-08-25 20:10:14.422 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414383jkp  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.422 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414383jkp  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.422 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414383jkp  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@77b1722b
2023-08-25 20:10:14.423 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414383jkp  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.423 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414383jkp  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.450 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920656068609
2023-08-25 20:10:14.450 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.450 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2110804130, id=1694341920656068609, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:14 CST 2023, tickets=null]
2023-08-25 20:10:14.451 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:14.451 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:14.45(Timestamp), 1694341920656068609(Long)
2023-08-25 20:10:14.468 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414383jkp  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.468 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414383jkp  [0;39m <==        Row: 13940
2023-08-25 20:10:14.468 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414383jkp  [0;39m <==      Total: 1
2023-08-25 20:10:14.469 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414383jkp  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.469 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965414383jkp  [0;39m 返回结果: {"code":0,"message":"","result":13940,"success":true}
2023-08-25 20:10:14.469 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965414383jkp  [0;39m ------------- 结束 耗时：85 ms -------------
2023-08-25 20:10:14.477 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965414477m0l  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.478 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965414477m0l  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.478 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965414477m0l  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.478 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965414477m0l  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.478 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965414477m0l  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.478 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965414477m0l  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.478 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965414477m0l  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.479 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965414477m0l  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.479 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414477m0l  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.479 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414477m0l  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.479 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414477m0l  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.479 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414477m0l  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.480 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:14.480 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.480 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:14.480 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2d432542
2023-08-25 20:10:14.481 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:14.481 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:14.496 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:14.496 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:14.497 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:14.497 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414477m0l  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.497 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:14.497 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1993734150, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:14.497 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:14.498 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.497 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414477m0l  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.498 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1001106958, id=1694341920656068609, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:14 CST 2023, tickets=null]
2023-08-25 20:10:14.498 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:14.498 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414477m0l  [0;39m <==      Total: 1
2023-08-25 20:10:14.498 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:14.498(Timestamp), 1694341920656068609(Long)
2023-08-25 20:10:14.498 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414477m0l  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.499 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414477m0l  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.499 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414477m0l  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6412da67
2023-08-25 20:10:14.500 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414477m0l  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.500 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414477m0l  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.534 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:14.535 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.550 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414477m0l  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.550 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414477m0l  [0;39m <==        Row: 13940
2023-08-25 20:10:14.550 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414477m0l  [0;39m <==      Total: 1
2023-08-25 20:10:14.551 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414477m0l  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.551 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965414477m0l  [0;39m 返回结果: {"code":0,"message":"","result":13940,"success":true}
2023-08-25 20:10:14.551 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965414477m0l  [0;39m ------------- 结束 耗时：73 ms -------------
2023-08-25 20:10:14.561 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965414561851  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.561 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965414561851  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.562 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965414561851  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.562 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965414561851  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.562 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965414561851  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.562 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965414561851  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.562 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965414561851  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.563 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965414561851  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.563 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414561851  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.563 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414561851  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.563 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414561851  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.564 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414561851  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.582 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414561851  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.583 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414561851  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.584 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414561851  [0;39m <==      Total: 1
2023-08-25 20:10:14.585 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414561851  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.585 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414561851  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.585 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414561851  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@28f019d5
2023-08-25 20:10:14.586 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414561851  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.587 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414561851  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.635 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414561851  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.635 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414561851  [0;39m <==        Row: 13939
2023-08-25 20:10:14.636 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414561851  [0;39m <==      Total: 1
2023-08-25 20:10:14.636 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414561851  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.636 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965414561851  [0;39m 返回结果: {"code":0,"message":"","result":13939,"success":true}
2023-08-25 20:10:14.636 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965414561851  [0;39m ------------- 结束 耗时：74 ms -------------
2023-08-25 20:10:14.644 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965414644aby  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.645 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965414644aby  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.645 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965414644aby  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.645 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965414644aby  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.645 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965414644aby  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.645 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965414644aby  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.646 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965414644aby  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.646 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965414644aby  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.646 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414644aby  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.646 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414644aby  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.661 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414644aby  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.662 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414644aby  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.676 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414644aby  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.677 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414644aby  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.677 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414644aby  [0;39m <==      Total: 1
2023-08-25 20:10:14.677 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414644aby  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.677 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414644aby  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.677 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414644aby  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@41a13832
2023-08-25 20:10:14.678 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414644aby  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.679 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414644aby  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.723 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414644aby  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.724 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414644aby  [0;39m <==        Row: 13939
2023-08-25 20:10:14.724 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414644aby  [0;39m <==      Total: 1
2023-08-25 20:10:14.724 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414644aby  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.724 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965414644aby  [0;39m 返回结果: {"code":0,"message":"","result":13939,"success":true}
2023-08-25 20:10:14.725 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965414644aby  [0;39m ------------- 结束 耗时：80 ms -------------
2023-08-25 20:10:14.732 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965414732q17  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.733 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965414732q17  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.733 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965414732q17  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.734 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965414732q17  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.734 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965414732q17  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.734 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965414732q17  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.734 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965414732q17  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.734 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965414732q17  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.734 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414732q17  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.734 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414732q17  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.735 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920702205952
2023-08-25 20:10:14.735 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.735 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2040088989, id=1694341920702205952, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:14 CST 2023, tickets=null]
2023-08-25 20:10:14.736 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:14.736 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:14.735(Timestamp), 1694341920702205952(Long)
2023-08-25 20:10:14.748 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414732q17  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.748 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414732q17  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.763 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414732q17  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.763 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414732q17  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.764 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414732q17  [0;39m <==      Total: 1
2023-08-25 20:10:14.764 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414732q17  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.764 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414732q17  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.764 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414732q17  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@24da9df0
2023-08-25 20:10:14.765 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414732q17  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.766 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414732q17  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.768 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:14.769 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.769 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:14.770 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@46689aaa
2023-08-25 20:10:14.771 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:14.772 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:14.791 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:14.792 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:14.792 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:14.792 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:14.792 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1307091475, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:14.793 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:14.793 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.793 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1097477717, id=1694341920702205952, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:14 CST 2023, tickets=null]
2023-08-25 20:10:14.794 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:14.795 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:14.793(Timestamp), 1694341920702205952(Long)
2023-08-25 20:10:14.810 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414732q17  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.810 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414732q17  [0;39m <==        Row: 13939
2023-08-25 20:10:14.810 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414732q17  [0;39m <==      Total: 1
2023-08-25 20:10:14.810 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414732q17  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.811 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965414732q17  [0;39m 返回结果: {"code":0,"message":"","result":13939,"success":true}
2023-08-25 20:10:14.811 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965414732q17  [0;39m ------------- 结束 耗时：77 ms -------------
2023-08-25 20:10:14.820 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965414820jli  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.821 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965414820jli  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.821 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965414820jli  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.822 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965414820jli  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.822 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965414820jli  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.822 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965414820jli  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.822 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965414820jli  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.822 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965414820jli  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.822 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414820jli  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.823 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414820jli  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.823 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414820jli  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.823 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414820jli  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.826 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:14.826 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:14.839 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414820jli  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.840 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965414820jli  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.840 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965414820jli  [0;39m <==      Total: 1
2023-08-25 20:10:14.841 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414820jli  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.841 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965414820jli  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.841 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965414820jli  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6d9f7da8
2023-08-25 20:10:14.842 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414820jli  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.843 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414820jli  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.887 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414820jli  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.887 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965414820jli  [0;39m <==        Row: 13938
2023-08-25 20:10:14.887 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965414820jli  [0;39m <==      Total: 1
2023-08-25 20:10:14.888 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965414820jli  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.888 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965414820jli  [0;39m 返回结果: {"code":0,"message":"","result":13938,"success":true}
2023-08-25 20:10:14.888 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965414820jli  [0;39m ------------- 结束 耗时：66 ms -------------
2023-08-25 20:10:14.896 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654148963xp  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:14.896 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654148963xp  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.896 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654148963xp  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:14.897 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654148963xp  [0;39m ------------- 开始 -------------
2023-08-25 20:10:14.897 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654148963xp  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:14.897 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654148963xp  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:14.897 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654148963xp  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:14.898 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654148963xp  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:14.898 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654148963xp  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.898 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654148963xp  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:14.899 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654148963xp  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:14.899 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654148963xp  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:14.914 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654148963xp  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:14.915 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654148963xp  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:14.915 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654148963xp  [0;39m <==      Total: 1
2023-08-25 20:10:14.916 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654148963xp  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:14.916 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654148963xp  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.916 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654148963xp  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@39031a31
2023-08-25 20:10:14.916 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654148963xp  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:14.917 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654148963xp  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:14.964 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654148963xp  [0;39m <==    Columns: count(*)
2023-08-25 20:10:14.964 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654148963xp  [0;39m <==        Row: 13938
2023-08-25 20:10:14.964 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654148963xp  [0;39m <==      Total: 1
2023-08-25 20:10:14.964 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654148963xp  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:14.965 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654148963xp  [0;39m 返回结果: {"code":0,"message":"","result":13938,"success":true}
2023-08-25 20:10:14.965 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654148963xp  [0;39m ------------- 结束 耗时：68 ms -------------
2023-08-25 20:10:15.029 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920714788864
2023-08-25 20:10:15.029 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.029 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1268527541, id=1694341920714788864, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:15 CST 2023, tickets=null]
2023-08-25 20:10:15.029 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:15.030 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:15.029(Timestamp), 1694341920714788864(Long)
2023-08-25 20:10:15.059 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:15.059 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.059 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:15.060 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@53e47c41
2023-08-25 20:10:15.060 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:15.060 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:15.076 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:15.077 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:15.078 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:15.078 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:15.079 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 283846098, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:15.079 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:15.079 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.079 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 880053922, id=1694341920714788864, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:15 CST 2023, tickets=null]
2023-08-25 20:10:15.080 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:15.081 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:15.079(Timestamp), 1694341920714788864(Long)
2023-08-25 20:10:15.110 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:15.111 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.130 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965415130geo  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:15.131 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965415130geo  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:15.131 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965415130geo  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:15.131 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965415130geo  [0;39m ------------- 开始 -------------
2023-08-25 20:10:15.131 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965415130geo  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:15.132 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965415130geo  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:15.132 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965415130geo  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:15.132 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965415130geo  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:15.132 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965415130geo  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:15.132 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965415130geo  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:15.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965415130geo  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:15.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965415130geo  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:15.166 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965415130geo  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:15.167 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965415130geo  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:15.167 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965415130geo  [0;39m <==      Total: 1
2023-08-25 20:10:15.168 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965415130geo  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:15.168 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965415130geo  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:15.168 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965415130geo  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1a8c03b2
2023-08-25 20:10:15.169 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965415130geo  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:15.170 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965415130geo  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:15.262 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965415130geo  [0;39m <==    Columns: count(*)
2023-08-25 20:10:15.262 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965415130geo  [0;39m <==        Row: 13937
2023-08-25 20:10:15.262 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965415130geo  [0;39m <==      Total: 1
2023-08-25 20:10:15.263 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965415130geo  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:15.263 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965415130geo  [0;39m 返回结果: {"code":0,"message":"","result":13937,"success":true}
2023-08-25 20:10:15.263 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965415130geo  [0;39m ------------- 结束 耗时：132 ms -------------
2023-08-25 20:10:15.311 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920739954688
2023-08-25 20:10:15.311 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.311 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2067328311, id=1694341920739954688, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:15 CST 2023, tickets=null]
2023-08-25 20:10:15.312 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:15.312 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:15.311(Timestamp), 1694341920739954688(Long)
2023-08-25 20:10:15.343 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:15.343 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.343 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:15.343 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@22a51b4d
2023-08-25 20:10:15.345 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:15.345 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:15.360 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:15.360 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:15.361 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:15.361 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:15.362 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1305044340, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:15.362 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:15.362 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.362 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1534780368, id=1694341920739954688, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:15 CST 2023, tickets=null]
2023-08-25 20:10:15.362 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:15.363 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:15.362(Timestamp), 1694341920739954688(Long)
2023-08-25 20:10:15.391 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:15.392 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.392 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:15.392 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@300dc7d
2023-08-25 20:10:15.395 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:15.396 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:15.440 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:15.440 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13937
2023-08-25 20:10:15.440 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:15.441 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:15.441 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:15.463 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:15.464 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920802869248, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.927, 2023-08-23 21:32:47.927, <<BLOB>>
2023-08-25 20:10:15.464 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920802869249, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.927, 2023-08-23 21:32:47.927, <<BLOB>>
2023-08-25 20:10:15.465 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920823840768, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.932, 2023-08-23 21:32:47.932, <<BLOB>>
2023-08-25 20:10:15.465 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920903532544, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.951, 2023-08-23 21:32:47.951, <<BLOB>>
2023-08-25 20:10:15.465 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920903532545, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.951, 2023-08-23 21:32:47.951, <<BLOB>>
2023-08-25 20:10:15.465 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:15.466 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:15.466 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:15.633 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965415633xpo  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:15.634 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965415633xpo  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:15.634 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965415633xpo  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:15.634 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965415633xpo  [0;39m ------------- 开始 -------------
2023-08-25 20:10:15.634 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965415633xpo  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:15.635 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965415633xpo  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:15.635 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965415633xpo  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:15.635 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965415633xpo  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:15.635 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965415633xpo  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:15.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965415633xpo  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:15.652 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965415633xpo  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:15.653 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965415633xpo  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:15.668 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920802869248
2023-08-25 20:10:15.668 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.668 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 577759559, id=1694341920802869248, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:15 CST 2023, tickets=null]
2023-08-25 20:10:15.668 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:15.669 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:15.668(Timestamp), 1694341920802869248(Long)
2023-08-25 20:10:15.670 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965415633xpo  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:15.671 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965415633xpo  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:15.672 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965415633xpo  [0;39m <==      Total: 1
2023-08-25 20:10:15.672 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965415633xpo  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:15.673 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965415633xpo  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:15.673 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965415633xpo  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2da8b2d6
2023-08-25 20:10:15.673 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965415633xpo  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:15.674 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965415633xpo  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:15.698 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:15.698 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.698 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:15.698 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6ef3c264
2023-08-25 20:10:15.699 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:15.699 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:15.715 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:15.715 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:15.715 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:15.716 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:15.716 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1572579209, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:15.716 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:15.716 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.716 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2064651956, id=1694341920802869248, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:15 CST 2023, tickets=null]
2023-08-25 20:10:15.716 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:15.716 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:15.716(Timestamp), 1694341920802869248(Long)
2023-08-25 20:10:15.721 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965415633xpo  [0;39m <==    Columns: count(*)
2023-08-25 20:10:15.722 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965415633xpo  [0;39m <==        Row: 13936
2023-08-25 20:10:15.722 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965415633xpo  [0;39m <==      Total: 1
2023-08-25 20:10:15.722 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965415633xpo  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:15.722 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965415633xpo  [0;39m 返回结果: {"code":0,"message":"","result":13936,"success":true}
2023-08-25 20:10:15.722 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965415633xpo  [0;39m ------------- 结束 耗时：88 ms -------------
2023-08-25 20:10:15.747 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:15.747 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.949 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920802869249
2023-08-25 20:10:15.949 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.949 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 297876172, id=1694341920802869249, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:15 CST 2023, tickets=null]
2023-08-25 20:10:15.949 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:15.950 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:15.949(Timestamp), 1694341920802869249(Long)
2023-08-25 20:10:15.979 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:15.979 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.980 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:15.980 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6a1841b8
2023-08-25 20:10:15.980 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:15.981 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:15.997 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:15.998 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:15.999 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:15.999 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:15.999 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2043042959, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:15.999 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:15.999 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:15.999 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1512554997, id=1694341920802869249, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:15 CST 2023, tickets=null]
2023-08-25 20:10:15.999 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:16.000 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:15.999(Timestamp), 1694341920802869249(Long)
2023-08-25 20:10:16.029 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:16.029 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.129 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654161294yq  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:16.130 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654161294yq  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:16.130 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654161294yq  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:16.130 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654161294yq  [0;39m ------------- 开始 -------------
2023-08-25 20:10:16.130 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654161294yq  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:16.130 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654161294yq  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:16.130 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654161294yq  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:16.130 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654161294yq  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:16.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654161294yq  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:16.131 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654161294yq  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:16.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654161294yq  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:16.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654161294yq  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:16.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654161294yq  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:16.161 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654161294yq  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:16.161 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654161294yq  [0;39m <==      Total: 1
2023-08-25 20:10:16.161 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654161294yq  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:16.162 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654161294yq  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:16.162 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654161294yq  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1ed81de5
2023-08-25 20:10:16.163 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654161294yq  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:16.163 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654161294yq  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:16.209 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654161294yq  [0;39m <==    Columns: count(*)
2023-08-25 20:10:16.209 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654161294yq  [0;39m <==        Row: 13934
2023-08-25 20:10:16.210 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654161294yq  [0;39m <==      Total: 1
2023-08-25 20:10:16.210 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654161294yq  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:16.210 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654161294yq  [0;39m 返回结果: {"code":0,"message":"","result":13934,"success":true}
2023-08-25 20:10:16.210 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654161294yq  [0;39m ------------- 结束 耗时：80 ms -------------
2023-08-25 20:10:16.231 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920823840768
2023-08-25 20:10:16.231 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.231 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1528032614, id=1694341920823840768, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:16 CST 2023, tickets=null]
2023-08-25 20:10:16.231 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:16.232 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:16.231(Timestamp), 1694341920823840768(Long)
2023-08-25 20:10:16.284 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:16.285 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.285 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:16.285 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@74b6a33c
2023-08-25 20:10:16.286 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:16.286 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:16.314 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:16.315 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:16.316 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:16.316 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:16.316 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 281342472, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:16.316 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:16.317 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.317 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1467782967, id=1694341920823840768, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:16 CST 2023, tickets=null]
2023-08-25 20:10:16.317 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:16.318 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:16.317(Timestamp), 1694341920823840768(Long)
2023-08-25 20:10:16.347 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:16.347 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.549 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920903532544
2023-08-25 20:10:16.549 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.550 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 9822052, id=1694341920903532544, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:16 CST 2023, tickets=null]
2023-08-25 20:10:16.550 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:16.551 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:16.549(Timestamp), 1694341920903532544(Long)
2023-08-25 20:10:16.582 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:16.582 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.582 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:16.582 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@480c53a
2023-08-25 20:10:16.583 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:16.583 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:16.598 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:16.599 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:16.599 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:16.600 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:16.600 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 802816748, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:16.600 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:16.600 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.600 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 694482562, id=1694341920903532544, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:16 CST 2023, tickets=null]
2023-08-25 20:10:16.600 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:16.601 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:16.6(Timestamp), 1694341920903532544(Long)
2023-08-25 20:10:16.630 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:16.631 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.638 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965416638zta  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:16.639 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965416638zta  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:16.639 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965416638zta  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:16.640 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965416638zta  [0;39m ------------- 开始 -------------
2023-08-25 20:10:16.640 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965416638zta  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:16.641 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965416638zta  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:16.641 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965416638zta  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:16.641 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965416638zta  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:16.642 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965416638zta  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:16.642 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965416638zta  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:16.656 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965416638zta  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:16.656 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965416638zta  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:16.672 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965416638zta  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:16.673 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965416638zta  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:16.674 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965416638zta  [0;39m <==      Total: 1
2023-08-25 20:10:16.675 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965416638zta  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:16.675 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965416638zta  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:16.675 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965416638zta  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@276bf31b
2023-08-25 20:10:16.677 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965416638zta  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:16.678 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965416638zta  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:16.725 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965416638zta  [0;39m <==    Columns: count(*)
2023-08-25 20:10:16.726 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965416638zta  [0;39m <==        Row: 13932
2023-08-25 20:10:16.727 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965416638zta  [0;39m <==      Total: 1
2023-08-25 20:10:16.728 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965416638zta  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:16.728 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965416638zta  [0;39m 返回结果: {"code":0,"message":"","result":13932,"success":true}
2023-08-25 20:10:16.729 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965416638zta  [0;39m ------------- 结束 耗时：89 ms -------------
2023-08-25 20:10:16.832 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920903532545
2023-08-25 20:10:16.832 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.832 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2115692943, id=1694341920903532545, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:16 CST 2023, tickets=null]
2023-08-25 20:10:16.832 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:16.833 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:16.832(Timestamp), 1694341920903532545(Long)
2023-08-25 20:10:16.863 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:16.864 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.864 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:16.864 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@ff67f93
2023-08-25 20:10:16.864 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:16.865 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:16.891 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:16.891 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:16.892 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:16.892 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:16.892 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2003523175, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:16.892 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:16.892 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.892 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 885946113, id=1694341920903532545, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:16 CST 2023, tickets=null]
2023-08-25 20:10:16.893 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:16.893 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:16.892(Timestamp), 1694341920903532545(Long)
2023-08-25 20:10:16.922 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:16.922 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:16.922 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:16.922 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@72430e1a
2023-08-25 20:10:16.925 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:16.925 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:16.967 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:16.968 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13932
2023-08-25 20:10:16.968 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:16.968 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:16.969 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:16.989 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:16.990 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920928698368, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.957, 2023-08-23 21:32:47.957, <<BLOB>>
2023-08-25 20:10:16.991 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920937086976, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.959, 2023-08-23 21:32:47.959, <<BLOB>>
2023-08-25 20:10:16.991 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920991612928, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.972, 2023-08-23 21:32:47.972, <<BLOB>>
2023-08-25 20:10:16.992 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920991612929, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.972, 2023-08-23 21:32:47.972, <<BLOB>>
2023-08-25 20:10:16.992 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341920991612930, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.972, 2023-08-23 21:32:47.972, <<BLOB>>
2023-08-25 20:10:16.992 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:16.992 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:16.992 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:17.133 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965417133pe5  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:17.133 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965417133pe5  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:17.134 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965417133pe5  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:17.134 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965417133pe5  [0;39m ------------- 开始 -------------
2023-08-25 20:10:17.134 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965417133pe5  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:17.134 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965417133pe5  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:17.135 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965417133pe5  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:17.135 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965417133pe5  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:17.135 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965417133pe5  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:17.135 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965417133pe5  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:17.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965417133pe5  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:17.152 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965417133pe5  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:17.185 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965417133pe5  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:17.186 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965417133pe5  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:17.187 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965417133pe5  [0;39m <==      Total: 1
2023-08-25 20:10:17.187 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965417133pe5  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:17.188 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965417133pe5  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:17.188 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965417133pe5  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5ab9d0de
2023-08-25 20:10:17.188 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965417133pe5  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:17.189 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965417133pe5  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:17.194 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920928698368
2023-08-25 20:10:17.194 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.194 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1041085325, id=1694341920928698368, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:17 CST 2023, tickets=null]
2023-08-25 20:10:17.194 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:17.195 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:17.194(Timestamp), 1694341920928698368(Long)
2023-08-25 20:10:17.231 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:17.232 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.232 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:17.232 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7167c90a
2023-08-25 20:10:17.233 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:17.233 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:17.238 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965417133pe5  [0;39m <==    Columns: count(*)
2023-08-25 20:10:17.238 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965417133pe5  [0;39m <==        Row: 13931
2023-08-25 20:10:17.238 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965417133pe5  [0;39m <==      Total: 1
2023-08-25 20:10:17.239 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965417133pe5  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:17.239 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965417133pe5  [0;39m 返回结果: {"code":0,"message":"","result":13931,"success":true}
2023-08-25 20:10:17.239 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965417133pe5  [0;39m ------------- 结束 耗时：105 ms -------------
2023-08-25 20:10:17.248 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:17.248 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:17.249 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:17.249 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:17.249 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1411490691, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:17.250 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:17.250 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.250 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 452935528, id=1694341920928698368, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:17 CST 2023, tickets=null]
2023-08-25 20:10:17.250 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:17.251 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:17.25(Timestamp), 1694341920928698368(Long)
2023-08-25 20:10:17.284 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:17.284 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.486 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920937086976
2023-08-25 20:10:17.486 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.487 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1294830495, id=1694341920937086976, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:17 CST 2023, tickets=null]
2023-08-25 20:10:17.487 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:17.488 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:17.486(Timestamp), 1694341920937086976(Long)
2023-08-25 20:10:17.517 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:17.517 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.518 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:17.518 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@77ae7d9c
2023-08-25 20:10:17.518 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:17.518 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:17.533 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:17.534 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:17.534 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:17.534 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:17.534 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2140998226, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:17.535 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:17.535 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.535 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 598243511, id=1694341920937086976, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:17 CST 2023, tickets=null]
2023-08-25 20:10:17.535 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:17.536 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:17.535(Timestamp), 1694341920937086976(Long)
2023-08-25 20:10:17.567 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:17.567 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.632 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965417632pxf  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:17.632 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965417632pxf  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:17.633 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965417632pxf  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:17.633 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965417632pxf  [0;39m ------------- 开始 -------------
2023-08-25 20:10:17.634 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965417632pxf  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:17.634 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965417632pxf  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:17.634 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965417632pxf  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:17.634 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965417632pxf  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:17.634 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965417632pxf  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:17.634 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965417632pxf  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:17.651 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965417632pxf  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:17.652 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965417632pxf  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:17.674 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965417632pxf  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:17.675 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965417632pxf  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:17.675 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965417632pxf  [0;39m <==      Total: 1
2023-08-25 20:10:17.675 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965417632pxf  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:17.675 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965417632pxf  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:17.676 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965417632pxf  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@572cb719
2023-08-25 20:10:17.676 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965417632pxf  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:17.677 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965417632pxf  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:17.724 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965417632pxf  [0;39m <==    Columns: count(*)
2023-08-25 20:10:17.724 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965417632pxf  [0;39m <==        Row: 13929
2023-08-25 20:10:17.724 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965417632pxf  [0;39m <==      Total: 1
2023-08-25 20:10:17.725 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965417632pxf  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:17.725 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965417632pxf  [0;39m 返回结果: {"code":0,"message":"","result":13929,"success":true}
2023-08-25 20:10:17.725 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965417632pxf  [0;39m ------------- 结束 耗时：92 ms -------------
2023-08-25 20:10:17.770 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920991612928
2023-08-25 20:10:17.770 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.771 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 294541938, id=1694341920991612928, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:17 CST 2023, tickets=null]
2023-08-25 20:10:17.771 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:17.772 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:17.77(Timestamp), 1694341920991612928(Long)
2023-08-25 20:10:17.801 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:17.801 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.801 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:17.801 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@66dbb026
2023-08-25 20:10:17.802 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:17.802 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:17.817 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:17.819 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:17.819 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:17.820 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:17.821 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1472722610, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:17.821 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:17.821 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:17.821 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1632338820, id=1694341920991612928, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:17 CST 2023, tickets=null]
2023-08-25 20:10:17.822 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:17.822 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:17.821(Timestamp), 1694341920991612928(Long)
2023-08-25 20:10:17.855 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:17.855 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.056 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920991612929
2023-08-25 20:10:18.056 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.056 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 621859972, id=1694341920991612929, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:18 CST 2023, tickets=null]
2023-08-25 20:10:18.057 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:18.057 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:18.056(Timestamp), 1694341920991612929(Long)
2023-08-25 20:10:18.088 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:18.088 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.088 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:18.088 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@70e03974
2023-08-25 20:10:18.089 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:18.089 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:18.114 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:18.114 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:18.114 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:18.115 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:18.115 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1534977795, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:18.115 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:18.115 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.115 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1078695370, id=1694341920991612929, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:18 CST 2023, tickets=null]
2023-08-25 20:10:18.115 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:18.116 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:18.115(Timestamp), 1694341920991612929(Long)
2023-08-25 20:10:18.129 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965418129akj  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:18.130 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965418129akj  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:18.130 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965418129akj  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:18.130 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965418129akj  [0;39m ------------- 开始 -------------
2023-08-25 20:10:18.130 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965418129akj  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:18.130 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965418129akj  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:18.130 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965418129akj  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:18.131 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965418129akj  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:18.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965418129akj  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:18.131 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965418129akj  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:18.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965418129akj  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:18.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965418129akj  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:18.146 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:18.147 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.164 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965418129akj  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:18.165 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965418129akj  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:18.165 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965418129akj  [0;39m <==      Total: 1
2023-08-25 20:10:18.166 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965418129akj  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:18.166 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965418129akj  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:18.166 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965418129akj  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3a50d9c
2023-08-25 20:10:18.166 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965418129akj  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:18.167 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965418129akj  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:18.212 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965418129akj  [0;39m <==    Columns: count(*)
2023-08-25 20:10:18.212 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965418129akj  [0;39m <==        Row: 13927
2023-08-25 20:10:18.212 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965418129akj  [0;39m <==      Total: 1
2023-08-25 20:10:18.213 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965418129akj  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:18.213 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965418129akj  [0;39m 返回结果: {"code":0,"message":"","result":13927,"success":true}
2023-08-25 20:10:18.213 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965418129akj  [0;39m ------------- 结束 耗时：83 ms -------------
2023-08-25 20:10:18.348 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341920991612930
2023-08-25 20:10:18.348 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.348 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 479582250, id=1694341920991612930, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:18 CST 2023, tickets=null]
2023-08-25 20:10:18.349 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:18.349 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:18.348(Timestamp), 1694341920991612930(Long)
2023-08-25 20:10:18.381 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:18.382 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.382 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:18.382 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@349d5447
2023-08-25 20:10:18.382 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:18.383 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:18.426 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:18.427 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:18.427 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:18.427 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:18.427 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1051408526, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:18.428 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:18.428 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.428 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 894308446, id=1694341920991612930, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:18 CST 2023, tickets=null]
2023-08-25 20:10:18.428 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:18.428 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:18.428(Timestamp), 1694341920991612930(Long)
2023-08-25 20:10:18.457 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:18.457 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.458 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:18.458 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@82c75c1
2023-08-25 20:10:18.460 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:18.460 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:18.508 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:18.508 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13927
2023-08-25 20:10:18.508 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:18.508 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:18.509 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:18.531 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:18.532 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921046138880, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:47.985, 2023-08-23 21:32:47.985, <<BLOB>>
2023-08-25 20:10:18.533 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921201328128, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.022, 2023-08-23 21:32:48.022, <<BLOB>>
2023-08-25 20:10:18.534 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921205522432, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.023, 2023-08-23 21:32:48.023, <<BLOB>>
2023-08-25 20:10:18.534 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921209716736, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.024, 2023-08-23 21:32:48.024, <<BLOB>>
2023-08-25 20:10:18.535 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921213911040, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.025, 2023-08-23 21:32:48.025, <<BLOB>>
2023-08-25 20:10:18.536 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:18.536 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:18.537 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:18.633 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965418633ou1  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:18.634 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965418633ou1  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:18.634 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965418633ou1  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:18.634 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965418633ou1  [0;39m ------------- 开始 -------------
2023-08-25 20:10:18.635 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965418633ou1  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:18.635 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965418633ou1  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:18.636 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965418633ou1  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:18.636 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965418633ou1  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:18.636 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965418633ou1  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:18.636 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965418633ou1  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:18.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965418633ou1  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:18.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965418633ou1  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:18.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965418633ou1  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:18.665 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965418633ou1  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:18.665 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965418633ou1  [0;39m <==      Total: 1
2023-08-25 20:10:18.666 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965418633ou1  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:18.666 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965418633ou1  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:18.666 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965418633ou1  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2035b21
2023-08-25 20:10:18.667 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965418633ou1  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:18.667 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965418633ou1  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:18.738 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921046138880
2023-08-25 20:10:18.738 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.738 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1356114863, id=1694341921046138880, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:18 CST 2023, tickets=null]
2023-08-25 20:10:18.739 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:18.739 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:18.738(Timestamp), 1694341921046138880(Long)
2023-08-25 20:10:18.754 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965418633ou1  [0;39m <==    Columns: count(*)
2023-08-25 20:10:18.755 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965418633ou1  [0;39m <==        Row: 13926
2023-08-25 20:10:18.755 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965418633ou1  [0;39m <==      Total: 1
2023-08-25 20:10:18.755 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965418633ou1  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:18.756 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965418633ou1  [0;39m 返回结果: {"code":0,"message":"","result":13926,"success":true}
2023-08-25 20:10:18.756 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965418633ou1  [0;39m ------------- 结束 耗时：122 ms -------------
2023-08-25 20:10:18.790 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:18.791 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.791 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:18.791 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5c5b50ba
2023-08-25 20:10:18.792 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:18.793 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:18.808 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:18.809 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:18.810 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:18.811 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:18.811 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2018526575, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:18.811 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:18.811 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:18.811 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1337292399, id=1694341921046138880, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:18 CST 2023, tickets=null]
2023-08-25 20:10:18.812 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:18.812 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:18.811(Timestamp), 1694341921046138880(Long)
2023-08-25 20:10:18.846 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:18.847 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.048 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921201328128
2023-08-25 20:10:19.048 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.048 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 618225558, id=1694341921201328128, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:19 CST 2023, tickets=null]
2023-08-25 20:10:19.048 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:19.049 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:19.048(Timestamp), 1694341921201328128(Long)
2023-08-25 20:10:19.083 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:19.083 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.083 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:19.083 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3aba1ee5
2023-08-25 20:10:19.084 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:19.084 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:19.099 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:19.100 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:19.101 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:19.101 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:19.101 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1957759262, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:19.101 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:19.101 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.102 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1780301858, id=1694341921201328128, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:19 CST 2023, tickets=null]
2023-08-25 20:10:19.102 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:19.102 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:19.101(Timestamp), 1694341921201328128(Long)
2023-08-25 20:10:19.129 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169296541912969s  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:19.129 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169296541912969s  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:19.129 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169296541912969s  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:19.130 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169296541912969s  [0;39m ------------- 开始 -------------
2023-08-25 20:10:19.130 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169296541912969s  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:19.130 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169296541912969s  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:19.130 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169296541912969s  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:19.130 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169296541912969s  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:19.130 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296541912969s  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:19.130 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296541912969s  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:19.131 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296541912969s  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:19.131 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296541912969s  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:19.141 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:19.141 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.145 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296541912969s  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:19.145 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296541912969s  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:19.145 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296541912969s  [0;39m <==      Total: 1
2023-08-25 20:10:19.146 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296541912969s  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:19.146 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296541912969s  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:19.146 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296541912969s  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@43bcc9a3
2023-08-25 20:10:19.147 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296541912969s  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:19.147 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296541912969s  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:19.193 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296541912969s  [0;39m <==    Columns: count(*)
2023-08-25 20:10:19.193 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296541912969s  [0;39m <==        Row: 13924
2023-08-25 20:10:19.194 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296541912969s  [0;39m <==      Total: 1
2023-08-25 20:10:19.194 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296541912969s  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:19.194 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169296541912969s  [0;39m 返回结果: {"code":0,"message":"","result":13924,"success":true}
2023-08-25 20:10:19.194 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169296541912969s  [0;39m ------------- 结束 耗时：64 ms -------------
2023-08-25 20:10:19.342 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921205522432
2023-08-25 20:10:19.342 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.342 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1275973005, id=1694341921205522432, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:19 CST 2023, tickets=null]
2023-08-25 20:10:19.342 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:19.343 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:19.342(Timestamp), 1694341921205522432(Long)
2023-08-25 20:10:19.375 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:19.375 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.375 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:19.375 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@30949e98
2023-08-25 20:10:19.376 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:19.376 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:19.393 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:19.393 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:19.394 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:19.394 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:19.394 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1124690319, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:19.394 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:19.394 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.394 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 902845065, id=1694341921205522432, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:19 CST 2023, tickets=null]
2023-08-25 20:10:19.395 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:19.395 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:19.394(Timestamp), 1694341921205522432(Long)
2023-08-25 20:10:19.424 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:19.425 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.626 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921209716736
2023-08-25 20:10:19.626 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.626 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 358021390, id=1694341921209716736, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:19 CST 2023, tickets=null]
2023-08-25 20:10:19.627 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:19.628 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:19.626(Timestamp), 1694341921209716736(Long)
2023-08-25 20:10:19.631 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654196319sc  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:19.631 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654196319sc  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:19.631 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654196319sc  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:19.632 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654196319sc  [0;39m ------------- 开始 -------------
2023-08-25 20:10:19.632 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654196319sc  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:19.632 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654196319sc  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:19.632 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654196319sc  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:19.633 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654196319sc  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:19.633 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654196319sc  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:19.633 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654196319sc  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:19.648 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654196319sc  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:19.648 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654196319sc  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:19.657 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:19.657 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.657 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:19.657 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2ae8e21a
2023-08-25 20:10:19.658 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:19.658 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:19.663 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654196319sc  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:19.663 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654196319sc  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:19.663 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654196319sc  [0;39m <==      Total: 1
2023-08-25 20:10:19.664 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654196319sc  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:19.664 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654196319sc  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:19.664 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654196319sc  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@642df87a
2023-08-25 20:10:19.665 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654196319sc  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:19.665 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654196319sc  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:19.673 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:19.674 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:19.674 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:19.675 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:19.675 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 178603236, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:19.675 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:19.675 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.675 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1241995493, id=1694341921209716736, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:19 CST 2023, tickets=null]
2023-08-25 20:10:19.676 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:19.676 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:19.675(Timestamp), 1694341921209716736(Long)
2023-08-25 20:10:19.706 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:19.707 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.708 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654196319sc  [0;39m <==    Columns: count(*)
2023-08-25 20:10:19.709 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654196319sc  [0;39m <==        Row: 13923
2023-08-25 20:10:19.709 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654196319sc  [0;39m <==      Total: 1
2023-08-25 20:10:19.709 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654196319sc  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:19.709 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654196319sc  [0;39m 返回结果: {"code":0,"message":"","result":13923,"success":true}
2023-08-25 20:10:19.709 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654196319sc  [0;39m ------------- 结束 耗时：77 ms -------------
2023-08-25 20:10:19.908 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921213911040
2023-08-25 20:10:19.908 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.908 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1171977049, id=1694341921213911040, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:19 CST 2023, tickets=null]
2023-08-25 20:10:19.909 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:19.909 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:19.908(Timestamp), 1694341921213911040(Long)
2023-08-25 20:10:19.938 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:19.939 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.939 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:19.939 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1548b148
2023-08-25 20:10:19.940 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:19.940 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:19.955 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:19.956 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:19.957 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:19.957 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:19.957 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 879190315, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:19.957 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:19.957 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.957 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 290548168, id=1694341921213911040, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:19 CST 2023, tickets=null]
2023-08-25 20:10:19.957 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:19.957 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:19.957(Timestamp), 1694341921213911040(Long)
2023-08-25 20:10:19.990 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:19.990 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:19.990 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:19.990 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4f8ce70a
2023-08-25 20:10:19.992 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:19.992 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:20.035 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:20.036 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13922
2023-08-25 20:10:20.036 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:20.037 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:20.037 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:20.058 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:20.059 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921213911041, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.025, 2023-08-23 21:32:48.025, <<BLOB>>
2023-08-25 20:10:20.061 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921213911042, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.025, 2023-08-23 21:32:48.025, <<BLOB>>
2023-08-25 20:10:20.062 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921213911043, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.025, 2023-08-23 21:32:48.025, <<BLOB>>
2023-08-25 20:10:20.063 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921251659776, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.034, 2023-08-23 21:32:48.034, <<BLOB>>
2023-08-25 20:10:20.064 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921251659777, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.034, 2023-08-23 21:32:48.034, <<BLOB>>
2023-08-25 20:10:20.065 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:20.065 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:20.065 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:20.131 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965420131ceq  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:20.132 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965420131ceq  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:20.132 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965420131ceq  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:20.132 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965420131ceq  [0;39m ------------- 开始 -------------
2023-08-25 20:10:20.133 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965420131ceq  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:20.133 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965420131ceq  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:20.133 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965420131ceq  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:20.133 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965420131ceq  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:20.133 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965420131ceq  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:20.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965420131ceq  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:20.152 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965420131ceq  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:20.153 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965420131ceq  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:20.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965420131ceq  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:20.173 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965420131ceq  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:20.174 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965420131ceq  [0;39m <==      Total: 1
2023-08-25 20:10:20.174 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965420131ceq  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:20.174 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965420131ceq  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:20.174 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965420131ceq  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1344a222
2023-08-25 20:10:20.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965420131ceq  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:20.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965420131ceq  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:20.225 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965420131ceq  [0;39m <==    Columns: count(*)
2023-08-25 20:10:20.225 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965420131ceq  [0;39m <==        Row: 13921
2023-08-25 20:10:20.225 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965420131ceq  [0;39m <==      Total: 1
2023-08-25 20:10:20.226 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965420131ceq  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:20.226 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965420131ceq  [0;39m 返回结果: {"code":0,"message":"","result":13921,"success":true}
2023-08-25 20:10:20.226 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965420131ceq  [0;39m ------------- 结束 耗时：94 ms -------------
2023-08-25 20:10:20.266 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921213911041
2023-08-25 20:10:20.266 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.267 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 451913483, id=1694341921213911041, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:20 CST 2023, tickets=null]
2023-08-25 20:10:20.268 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:20.270 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:20.266(Timestamp), 1694341921213911041(Long)
2023-08-25 20:10:20.301 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:20.301 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.302 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:20.302 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@52a76e72
2023-08-25 20:10:20.304 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:20.304 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:20.320 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:20.321 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:20.321 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:20.322 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:20.322 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1073596302, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:20.322 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:20.322 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.322 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 858779982, id=1694341921213911041, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:20 CST 2023, tickets=null]
2023-08-25 20:10:20.323 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:20.323 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:20.322(Timestamp), 1694341921213911041(Long)
2023-08-25 20:10:20.352 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:20.353 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.553 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921213911042
2023-08-25 20:10:20.553 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.553 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1842074746, id=1694341921213911042, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:20 CST 2023, tickets=null]
2023-08-25 20:10:20.554 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:20.554 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:20.553(Timestamp), 1694341921213911042(Long)
2023-08-25 20:10:20.585 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:20.586 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.586 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:20.587 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@70328cbe
2023-08-25 20:10:20.588 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:20.588 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:20.603 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:20.604 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:20.604 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:20.605 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:20.605 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 265974532, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:20.605 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:20.605 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.605 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1847535994, id=1694341921213911042, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:20 CST 2023, tickets=null]
2023-08-25 20:10:20.605 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:20.606 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:20.605(Timestamp), 1694341921213911042(Long)
2023-08-25 20:10:20.631 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965420630q6i  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:20.631 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965420630q6i  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:20.631 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965420630q6i  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:20.632 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965420630q6i  [0;39m ------------- 开始 -------------
2023-08-25 20:10:20.632 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965420630q6i  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:20.632 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965420630q6i  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:20.632 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965420630q6i  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:20.632 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965420630q6i  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:20.632 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965420630q6i  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:20.632 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965420630q6i  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:20.638 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:20.639 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.651 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965420630q6i  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:20.651 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965420630q6i  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:20.668 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965420630q6i  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:20.669 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965420630q6i  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:20.670 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965420630q6i  [0;39m <==      Total: 1
2023-08-25 20:10:20.670 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965420630q6i  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:20.670 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965420630q6i  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:20.670 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965420630q6i  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5fbde08e
2023-08-25 20:10:20.671 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965420630q6i  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:20.672 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965420630q6i  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:20.721 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965420630q6i  [0;39m <==    Columns: count(*)
2023-08-25 20:10:20.721 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965420630q6i  [0;39m <==        Row: 13919
2023-08-25 20:10:20.721 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965420630q6i  [0;39m <==      Total: 1
2023-08-25 20:10:20.721 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965420630q6i  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:20.722 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965420630q6i  [0;39m 返回结果: {"code":0,"message":"","result":13919,"success":true}
2023-08-25 20:10:20.722 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965420630q6i  [0;39m ------------- 结束 耗时：90 ms -------------
2023-08-25 20:10:20.841 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921213911043
2023-08-25 20:10:20.841 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.841 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1046347932, id=1694341921213911043, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:20 CST 2023, tickets=null]
2023-08-25 20:10:20.842 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:20.842 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:20.841(Timestamp), 1694341921213911043(Long)
2023-08-25 20:10:20.885 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:20.885 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.885 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:20.885 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7583a7db
2023-08-25 20:10:20.886 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:20.886 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:20.902 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:20.903 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:20.903 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:20.904 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:20.904 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1370099804, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:20.904 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:20.904 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:20.905 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 859372655, id=1694341921213911043, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:20 CST 2023, tickets=null]
2023-08-25 20:10:20.905 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:20.906 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:20.904(Timestamp), 1694341921213911043(Long)
2023-08-25 20:10:20.938 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:20.939 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.133 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965421133ve3  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:21.133 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965421133ve3  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:21.134 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965421133ve3  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:21.134 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965421133ve3  [0;39m ------------- 开始 -------------
2023-08-25 20:10:21.135 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965421133ve3  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:21.135 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965421133ve3  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:21.135 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965421133ve3  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:21.136 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965421133ve3  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:21.136 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965421133ve3  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:21.136 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965421133ve3  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:21.141 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921251659776
2023-08-25 20:10:21.141 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.142 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 838287879, id=1694341921251659776, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:21 CST 2023, tickets=null]
2023-08-25 20:10:21.142 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:21.143 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:21.141(Timestamp), 1694341921251659776(Long)
2023-08-25 20:10:21.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965421133ve3  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:21.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965421133ve3  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:21.175 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:21.175 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965421133ve3  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:21.175 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.251 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:21.251 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@44f1d575
2023-08-25 20:10:21.253 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:21.253 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:21.263 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965421133ve3  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:21.264 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965421133ve3  [0;39m <==      Total: 1
2023-08-25 20:10:21.264 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965421133ve3  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:21.265 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965421133ve3  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:21.265 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965421133ve3  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3fd79f97
2023-08-25 20:10:21.266 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965421133ve3  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:21.267 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965421133ve3  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:21.272 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:21.272 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:21.273 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:21.273 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:21.274 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2097659567, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:21.274 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:21.274 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.274 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 972668862, id=1694341921251659776, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:21 CST 2023, tickets=null]
2023-08-25 20:10:21.275 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:21.275 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:21.274(Timestamp), 1694341921251659776(Long)
2023-08-25 20:10:21.304 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:21.305 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.321 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965421133ve3  [0;39m <==    Columns: count(*)
2023-08-25 20:10:21.321 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965421133ve3  [0;39m <==        Row: 13918
2023-08-25 20:10:21.322 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965421133ve3  [0;39m <==      Total: 1
2023-08-25 20:10:21.322 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965421133ve3  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:21.323 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965421133ve3  [0;39m 返回结果: {"code":0,"message":"","result":13918,"success":true}
2023-08-25 20:10:21.323 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965421133ve3  [0;39m ------------- 结束 耗时：189 ms -------------
2023-08-25 20:10:21.506 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921251659777
2023-08-25 20:10:21.506 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.506 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1556465582, id=1694341921251659777, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:21 CST 2023, tickets=null]
2023-08-25 20:10:21.506 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:21.507 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:21.506(Timestamp), 1694341921251659777(Long)
2023-08-25 20:10:21.537 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:21.538 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.538 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:21.538 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6807a030
2023-08-25 20:10:21.539 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:21.539 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:21.554 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:21.554 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:21.555 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:21.555 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:21.555 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 631749266, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:21.555 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:21.556 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.556 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 112302969, id=1694341921251659777, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:21 CST 2023, tickets=null]
2023-08-25 20:10:21.556 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:21.556 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:21.556(Timestamp), 1694341921251659777(Long)
2023-08-25 20:10:21.583 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:21.583 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.584 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:21.584 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6b0c7e32
2023-08-25 20:10:21.586 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:21.587 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:21.628 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965421628zhy  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:21.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965421628zhy  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:21.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965421628zhy  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:21.629 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965421628zhy  [0;39m ------------- 开始 -------------
2023-08-25 20:10:21.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965421628zhy  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:21.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965421628zhy  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:21.630 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965421628zhy  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:21.630 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965421628zhy  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:21.630 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965421628zhy  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:21.630 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965421628zhy  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:21.631 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:21.632 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13917
2023-08-25 20:10:21.632 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:21.632 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:21.633 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:21.643 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965421628zhy  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:21.644 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965421628zhy  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:21.654 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:21.655 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921310380032, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.048, 2023-08-23 21:32:48.048, <<BLOB>>
2023-08-25 20:10:21.655 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921310380033, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.048, 2023-08-23 21:32:48.048, <<BLOB>>
2023-08-25 20:10:21.656 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921327157248, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.052, 2023-08-23 21:32:48.052, <<BLOB>>
2023-08-25 20:10:21.656 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921352323072, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.058, 2023-08-23 21:32:48.058, <<BLOB>>
2023-08-25 20:10:21.657 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921352323073, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.058, 2023-08-23 21:32:48.058, <<BLOB>>
2023-08-25 20:10:21.657 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:21.657 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:21.657 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:21.658 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965421628zhy  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:21.658 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965421628zhy  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:21.659 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965421628zhy  [0;39m <==      Total: 1
2023-08-25 20:10:21.659 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965421628zhy  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:21.659 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965421628zhy  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:21.659 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965421628zhy  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@9deceaa
2023-08-25 20:10:21.660 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965421628zhy  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:21.660 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965421628zhy  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:21.704 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965421628zhy  [0;39m <==    Columns: count(*)
2023-08-25 20:10:21.704 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965421628zhy  [0;39m <==        Row: 13916
2023-08-25 20:10:21.705 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965421628zhy  [0;39m <==      Total: 1
2023-08-25 20:10:21.705 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965421628zhy  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:21.705 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965421628zhy  [0;39m 返回结果: {"code":0,"message":"","result":13916,"success":true}
2023-08-25 20:10:21.705 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965421628zhy  [0;39m ------------- 结束 耗时：76 ms -------------
2023-08-25 20:10:21.859 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921310380032
2023-08-25 20:10:21.859 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.859 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1013582028, id=1694341921310380032, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:21 CST 2023, tickets=null]
2023-08-25 20:10:21.859 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:21.860 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:21.859(Timestamp), 1694341921310380032(Long)
2023-08-25 20:10:21.892 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:21.892 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.892 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:21.892 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1c9e69ed
2023-08-25 20:10:21.893 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:21.893 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:21.908 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:21.909 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:21.910 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:21.910 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:21.910 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 95111971, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:21.910 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:21.910 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:21.911 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 60141954, id=1694341921310380032, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:21 CST 2023, tickets=null]
2023-08-25 20:10:21.911 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:21.911 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:21.91(Timestamp), 1694341921310380032(Long)
2023-08-25 20:10:21.942 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:21.942 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.130 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965422130lbr  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:22.131 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965422130lbr  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:22.131 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965422130lbr  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:22.132 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965422130lbr  [0;39m ------------- 开始 -------------
2023-08-25 20:10:22.132 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965422130lbr  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:22.132 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965422130lbr  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:22.132 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965422130lbr  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:22.132 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965422130lbr  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:22.132 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965422130lbr  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:22.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965422130lbr  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:22.144 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921310380033
2023-08-25 20:10:22.144 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.144 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1575239921, id=1694341921310380033, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:22 CST 2023, tickets=null]
2023-08-25 20:10:22.145 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:22.145 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:22.144(Timestamp), 1694341921310380033(Long)
2023-08-25 20:10:22.150 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965422130lbr  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:22.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965422130lbr  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:22.170 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965422130lbr  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:22.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965422130lbr  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:22.173 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965422130lbr  [0;39m <==      Total: 1
2023-08-25 20:10:22.174 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965422130lbr  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:22.176 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965422130lbr  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:22.177 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965422130lbr  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@56a42ceb
2023-08-25 20:10:22.178 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965422130lbr  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:22.180 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:22.179 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965422130lbr  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:22.180 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.180 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:22.181 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2cfe5257
2023-08-25 20:10:22.182 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:22.182 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:22.198 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:22.199 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:22.200 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:22.201 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:22.201 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1685511441, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:22.202 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:22.202 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.203 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 690215840, id=1694341921310380033, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:22 CST 2023, tickets=null]
2023-08-25 20:10:22.204 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:22.205 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:22.202(Timestamp), 1694341921310380033(Long)
2023-08-25 20:10:22.231 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965422130lbr  [0;39m <==    Columns: count(*)
2023-08-25 20:10:22.232 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965422130lbr  [0;39m <==        Row: 13915
2023-08-25 20:10:22.232 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965422130lbr  [0;39m <==      Total: 1
2023-08-25 20:10:22.232 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965422130lbr  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:22.232 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965422130lbr  [0;39m 返回结果: {"code":0,"message":"","result":13915,"success":true}
2023-08-25 20:10:22.232 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965422130lbr  [0;39m ------------- 结束 耗时：101 ms -------------
2023-08-25 20:10:22.236 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:22.237 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.439 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921327157248
2023-08-25 20:10:22.439 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.439 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 991812547, id=1694341921327157248, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:22 CST 2023, tickets=null]
2023-08-25 20:10:22.439 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:22.440 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:22.439(Timestamp), 1694341921327157248(Long)
2023-08-25 20:10:22.494 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:22.494 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.494 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:22.494 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5e983fa5
2023-08-25 20:10:22.495 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:22.495 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:22.513 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:22.513 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:22.514 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:22.514 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:22.514 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1990451385, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:22.514 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:22.514 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.514 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 388806590, id=1694341921327157248, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:22 CST 2023, tickets=null]
2023-08-25 20:10:22.515 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:22.515 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:22.514(Timestamp), 1694341921327157248(Long)
2023-08-25 20:10:22.544 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:22.544 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.629 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965422629t5p  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:22.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965422629t5p  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:22.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965422629t5p  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:22.629 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965422629t5p  [0;39m ------------- 开始 -------------
2023-08-25 20:10:22.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965422629t5p  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:22.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965422629t5p  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:22.630 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965422629t5p  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:22.630 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965422629t5p  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:22.630 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965422629t5p  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:22.630 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965422629t5p  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:22.646 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965422629t5p  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:22.646 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965422629t5p  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:22.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965422629t5p  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:22.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965422629t5p  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:22.665 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965422629t5p  [0;39m <==      Total: 1
2023-08-25 20:10:22.666 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965422629t5p  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:22.666 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965422629t5p  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:22.666 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965422629t5p  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@281d8569
2023-08-25 20:10:22.668 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965422629t5p  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:22.669 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965422629t5p  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:22.715 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965422629t5p  [0;39m <==    Columns: count(*)
2023-08-25 20:10:22.716 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965422629t5p  [0;39m <==        Row: 13913
2023-08-25 20:10:22.716 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965422629t5p  [0;39m <==      Total: 1
2023-08-25 20:10:22.717 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965422629t5p  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:22.717 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965422629t5p  [0;39m 返回结果: {"code":0,"message":"","result":13913,"success":true}
2023-08-25 20:10:22.718 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965422629t5p  [0;39m ------------- 结束 耗时：89 ms -------------
2023-08-25 20:10:22.746 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921352323072
2023-08-25 20:10:22.746 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.747 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 71915936, id=1694341921352323072, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:22 CST 2023, tickets=null]
2023-08-25 20:10:22.747 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:22.748 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:22.746(Timestamp), 1694341921352323072(Long)
2023-08-25 20:10:22.781 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:22.781 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.781 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:22.781 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1fe50cf1
2023-08-25 20:10:22.782 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:22.782 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:22.797 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:22.798 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:22.798 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:22.799 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:22.799 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1870176420, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:22.799 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:22.799 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:22.800 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 873988596, id=1694341921352323072, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:22 CST 2023, tickets=null]
2023-08-25 20:10:22.800 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:22.801 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:22.799(Timestamp), 1694341921352323072(Long)
2023-08-25 20:10:22.832 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:22.832 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.035 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921352323073
2023-08-25 20:10:23.035 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.035 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 837179821, id=1694341921352323073, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:23 CST 2023, tickets=null]
2023-08-25 20:10:23.035 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:23.036 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:23.035(Timestamp), 1694341921352323073(Long)
2023-08-25 20:10:23.065 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:23.065 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.066 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:23.067 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6f521796
2023-08-25 20:10:23.069 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:23.070 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:23.088 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:23.089 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:23.090 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:23.091 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:23.091 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 120894560, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:23.091 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:23.092 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.092 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 285645353, id=1694341921352323073, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:23 CST 2023, tickets=null]
2023-08-25 20:10:23.093 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:23.094 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:23.092(Timestamp), 1694341921352323073(Long)
2023-08-25 20:10:23.126 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:23.127 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.127 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:23.127 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@f19f543
2023-08-25 20:10:23.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169296542312893e  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:23.129 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169296542312893e  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:23.129 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169296542312893e  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:23.129 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169296542312893e  [0;39m ------------- 开始 -------------
2023-08-25 20:10:23.129 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169296542312893e  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:23.129 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169296542312893e  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:23.130 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169296542312893e  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:23.130 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169296542312893e  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:23.130 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296542312893e  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:23.130 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296542312893e  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:23.130 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:23.131 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:23.144 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296542312893e  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:23.144 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296542312893e  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:23.158 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296542312893e  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:23.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296542312893e  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:23.159 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296542312893e  [0;39m <==      Total: 1
2023-08-25 20:10:23.159 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296542312893e  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:23.159 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296542312893e  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:23.159 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296542312893e  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5ef4f63a
2023-08-25 20:10:23.160 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296542312893e  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:23.160 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296542312893e  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:23.175 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:23.175 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13912
2023-08-25 20:10:23.175 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:23.175 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:23.176 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:23.256 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:23.257 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921352323074, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.058, 2023-08-23 21:32:48.058, <<BLOB>>
2023-08-25 20:10:23.257 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921390071808, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.067, 2023-08-23 21:32:48.067, <<BLOB>>
2023-08-25 20:10:23.258 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921398460416, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.069, 2023-08-23 21:32:48.069, <<BLOB>>
2023-08-25 20:10:23.258 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921427820544, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.076, 2023-08-23 21:32:48.076, <<BLOB>>
2023-08-25 20:10:23.258 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921541066752, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.103, 2023-08-23 21:32:48.103, <<BLOB>>
2023-08-25 20:10:23.259 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:23.259 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:23.259 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:23.265 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296542312893e  [0;39m <==    Columns: count(*)
2023-08-25 20:10:23.266 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296542312893e  [0;39m <==        Row: 13911
2023-08-25 20:10:23.266 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296542312893e  [0;39m <==      Total: 1
2023-08-25 20:10:23.267 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296542312893e  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:23.268 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169296542312893e  [0;39m 返回结果: {"code":0,"message":"","result":13911,"success":true}
2023-08-25 20:10:23.268 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169296542312893e  [0;39m ------------- 结束 耗时：139 ms -------------
2023-08-25 20:10:23.460 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921352323074
2023-08-25 20:10:23.460 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.460 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 417565876, id=1694341921352323074, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:23 CST 2023, tickets=null]
2023-08-25 20:10:23.460 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:23.461 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:23.46(Timestamp), 1694341921352323074(Long)
2023-08-25 20:10:23.492 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:23.492 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.493 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:23.493 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2d2605f1
2023-08-25 20:10:23.493 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:23.494 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:23.508 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:23.509 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:23.509 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:23.511 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:23.511 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1998779832, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:23.511 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:23.511 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.511 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1598590544, id=1694341921352323074, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:23 CST 2023, tickets=null]
2023-08-25 20:10:23.512 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:23.512 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:23.511(Timestamp), 1694341921352323074(Long)
2023-08-25 20:10:23.570 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:23.570 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.627 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965423627nal  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:23.628 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965423627nal  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:23.628 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965423627nal  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:23.628 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965423627nal  [0;39m ------------- 开始 -------------
2023-08-25 20:10:23.628 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965423627nal  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:23.628 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965423627nal  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:23.628 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965423627nal  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:23.629 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965423627nal  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:23.629 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965423627nal  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:23.629 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965423627nal  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:23.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965423627nal  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:23.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965423627nal  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:23.659 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965423627nal  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:23.660 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965423627nal  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:23.660 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965423627nal  [0;39m <==      Total: 1
2023-08-25 20:10:23.660 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965423627nal  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:23.660 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965423627nal  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:23.661 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965423627nal  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@373055d5
2023-08-25 20:10:23.661 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965423627nal  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:23.662 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965423627nal  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:23.706 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965423627nal  [0;39m <==    Columns: count(*)
2023-08-25 20:10:23.706 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965423627nal  [0;39m <==        Row: 13910
2023-08-25 20:10:23.706 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965423627nal  [0;39m <==      Total: 1
2023-08-25 20:10:23.706 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965423627nal  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:23.707 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965423627nal  [0;39m 返回结果: {"code":0,"message":"","result":13910,"success":true}
2023-08-25 20:10:23.707 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965423627nal  [0;39m ------------- 结束 耗时：79 ms -------------
2023-08-25 20:10:23.771 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921390071808
2023-08-25 20:10:23.771 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.771 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 856117947, id=1694341921390071808, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:23 CST 2023, tickets=null]
2023-08-25 20:10:23.772 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:23.772 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:23.771(Timestamp), 1694341921390071808(Long)
2023-08-25 20:10:23.801 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:23.801 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.802 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:23.802 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4849d075
2023-08-25 20:10:23.802 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:23.802 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:23.818 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:23.819 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:23.819 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:23.819 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:23.819 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1671608294, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:23.819 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:23.819 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:23.819 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1999433610, id=1694341921390071808, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:23 CST 2023, tickets=null]
2023-08-25 20:10:23.820 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:23.820 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:23.819(Timestamp), 1694341921390071808(Long)
2023-08-25 20:10:23.851 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:23.852 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.052 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921398460416
2023-08-25 20:10:24.052 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.052 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1458225772, id=1694341921398460416, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:24 CST 2023, tickets=null]
2023-08-25 20:10:24.052 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:24.053 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:24.052(Timestamp), 1694341921398460416(Long)
2023-08-25 20:10:24.081 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:24.082 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.082 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:24.082 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3041b9f5
2023-08-25 20:10:24.083 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:24.083 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:24.098 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:24.098 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:24.099 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:24.099 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:24.099 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1127240811, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:24.100 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:24.100 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.100 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1762461983, id=1694341921398460416, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:24 CST 2023, tickets=null]
2023-08-25 20:10:24.101 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:24.101 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:24.1(Timestamp), 1694341921398460416(Long)
2023-08-25 20:10:24.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965424128fzb  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:24.128 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965424128fzb  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:24.129 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965424128fzb  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:24.129 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965424128fzb  [0;39m ------------- 开始 -------------
2023-08-25 20:10:24.129 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965424128fzb  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:24.129 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965424128fzb  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:24.129 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965424128fzb  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:24.130 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965424128fzb  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:24.130 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965424128fzb  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:24.130 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965424128fzb  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:24.130 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965424128fzb  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:24.130 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965424128fzb  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:24.131 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:24.131 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.144 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965424128fzb  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:24.145 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965424128fzb  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:24.145 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965424128fzb  [0;39m <==      Total: 1
2023-08-25 20:10:24.145 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965424128fzb  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:24.146 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965424128fzb  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:24.146 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965424128fzb  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@35f515ff
2023-08-25 20:10:24.147 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965424128fzb  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:24.147 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965424128fzb  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:24.193 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965424128fzb  [0;39m <==    Columns: count(*)
2023-08-25 20:10:24.194 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965424128fzb  [0;39m <==        Row: 13908
2023-08-25 20:10:24.194 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965424128fzb  [0;39m <==      Total: 1
2023-08-25 20:10:24.194 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965424128fzb  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:24.194 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965424128fzb  [0;39m 返回结果: {"code":0,"message":"","result":13908,"success":true}
2023-08-25 20:10:24.194 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965424128fzb  [0;39m ------------- 结束 耗时：65 ms -------------
2023-08-25 20:10:24.332 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921427820544
2023-08-25 20:10:24.332 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.332 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1606554102, id=1694341921427820544, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:24 CST 2023, tickets=null]
2023-08-25 20:10:24.333 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:24.333 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:24.332(Timestamp), 1694341921427820544(Long)
2023-08-25 20:10:24.367 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:24.367 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.368 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:24.368 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1f542255
2023-08-25 20:10:24.369 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:24.369 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:24.384 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:24.385 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:24.385 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:24.385 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:24.385 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1888907675, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:24.385 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:24.385 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.385 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1781991725, id=1694341921427820544, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:24 CST 2023, tickets=null]
2023-08-25 20:10:24.386 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:24.386 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:24.385(Timestamp), 1694341921427820544(Long)
2023-08-25 20:10:24.417 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:24.417 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.620 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921541066752
2023-08-25 20:10:24.620 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.620 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1326579065, id=1694341921541066752, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:24 CST 2023, tickets=null]
2023-08-25 20:10:24.621 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:24.621 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:24.62(Timestamp), 1694341921541066752(Long)
2023-08-25 20:10:24.629 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965424629avh  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:24.630 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965424629avh  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:24.631 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965424629avh  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:24.631 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965424629avh  [0;39m ------------- 开始 -------------
2023-08-25 20:10:24.631 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965424629avh  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:24.632 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965424629avh  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:24.632 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965424629avh  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:24.632 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965424629avh  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:24.632 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965424629avh  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:24.633 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965424629avh  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:24.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965424629avh  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:24.648 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965424629avh  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:24.660 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:24.661 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.661 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:24.661 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5e64497c
2023-08-25 20:10:24.661 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:24.662 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:24.662 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965424629avh  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:24.662 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965424629avh  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:24.663 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965424629avh  [0;39m <==      Total: 1
2023-08-25 20:10:24.663 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965424629avh  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:24.663 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965424629avh  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:24.663 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965424629avh  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@63c5a1d0
2023-08-25 20:10:24.664 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965424629avh  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:24.664 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965424629avh  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:24.676 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:24.677 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:24.677 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:24.678 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:24.678 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 880701864, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:24.678 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:24.678 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.678 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2051378561, id=1694341921541066752, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:24 CST 2023, tickets=null]
2023-08-25 20:10:24.678 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:24.678 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:24.678(Timestamp), 1694341921541066752(Long)
2023-08-25 20:10:24.708 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:24.708 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:24.709 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:24.709 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@57808372
2023-08-25 20:10:24.711 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:24.711 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:24.759 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965424629avh  [0;39m <==    Columns: count(*)
2023-08-25 20:10:24.760 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965424629avh  [0;39m <==        Row: 13907
2023-08-25 20:10:24.760 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965424629avh  [0;39m <==      Total: 1
2023-08-25 20:10:24.760 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965424629avh  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:24.760 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965424629avh  [0;39m 返回结果: {"code":0,"message":"","result":13907,"success":true}
2023-08-25 20:10:24.760 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965424629avh  [0;39m ------------- 结束 耗时：129 ms -------------
2023-08-25 20:10:24.789 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:24.789 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13907
2023-08-25 20:10:24.789 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:24.790 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:24.790 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:24.820 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:24.821 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921541066753, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.103, 2023-08-23 21:32:48.103, <<BLOB>>
2023-08-25 20:10:24.821 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921545261056, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.104, 2023-08-23 21:32:48.104, <<BLOB>>
2023-08-25 20:10:24.822 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921545261057, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.104, 2023-08-23 21:32:48.104, <<BLOB>>
2023-08-25 20:10:24.822 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921545261058, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.104, 2023-08-23 21:32:48.104, <<BLOB>>
2023-08-25 20:10:24.823 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921549455360, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.105, 2023-08-23 21:32:48.105, <<BLOB>>
2023-08-25 20:10:24.823 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:24.823 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:24.823 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:25.026 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921541066753
2023-08-25 20:10:25.026 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.027 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 587413840, id=1694341921541066753, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:25 CST 2023, tickets=null]
2023-08-25 20:10:25.027 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:25.028 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:25.026(Timestamp), 1694341921541066753(Long)
2023-08-25 20:10:25.057 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:25.057 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.057 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:25.058 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@8271e37
2023-08-25 20:10:25.058 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:25.058 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:25.073 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:25.074 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:25.075 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:25.075 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:25.075 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 533440170, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:25.075 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:25.076 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.076 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1694035817, id=1694341921541066753, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:25 CST 2023, tickets=null]
2023-08-25 20:10:25.076 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:25.076 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:25.076(Timestamp), 1694341921541066753(Long)
2023-08-25 20:10:25.107 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:25.107 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.129 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654251299yx  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:25.130 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654251299yx  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:25.130 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654251299yx  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:25.131 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654251299yx  [0;39m ------------- 开始 -------------
2023-08-25 20:10:25.131 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654251299yx  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:25.131 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654251299yx  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:25.131 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654251299yx  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:25.132 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654251299yx  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:25.132 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654251299yx  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:25.132 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654251299yx  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:25.150 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654251299yx  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:25.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654251299yx  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:25.168 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654251299yx  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:25.168 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654251299yx  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:25.169 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654251299yx  [0;39m <==      Total: 1
2023-08-25 20:10:25.169 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654251299yx  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:25.169 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654251299yx  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:25.169 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654251299yx  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@38fa82c4
2023-08-25 20:10:25.170 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654251299yx  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:25.170 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654251299yx  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:25.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654251299yx  [0;39m <==    Columns: count(*)
2023-08-25 20:10:25.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654251299yx  [0;39m <==        Row: 13905
2023-08-25 20:10:25.224 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654251299yx  [0;39m <==      Total: 1
2023-08-25 20:10:25.224 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654251299yx  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:25.224 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654251299yx  [0;39m 返回结果: {"code":0,"message":"","result":13905,"success":true}
2023-08-25 20:10:25.224 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654251299yx  [0;39m ------------- 结束 耗时：93 ms -------------
2023-08-25 20:10:25.308 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921545261056
2023-08-25 20:10:25.308 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.308 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 928171250, id=1694341921545261056, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:25 CST 2023, tickets=null]
2023-08-25 20:10:25.309 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:25.309 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:25.308(Timestamp), 1694341921545261056(Long)
2023-08-25 20:10:25.340 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:25.341 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.341 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:25.341 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@564ee037
2023-08-25 20:10:25.342 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:25.342 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:25.357 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:25.358 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:25.358 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:25.358 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:25.358 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1472166729, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:25.358 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:25.358 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.359 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1409300240, id=1694341921545261056, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:25 CST 2023, tickets=null]
2023-08-25 20:10:25.359 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:25.359 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:25.358(Timestamp), 1694341921545261056(Long)
2023-08-25 20:10:25.390 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:25.390 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.591 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921545261057
2023-08-25 20:10:25.591 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.591 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1502128692, id=1694341921545261057, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:25 CST 2023, tickets=null]
2023-08-25 20:10:25.592 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:25.592 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:25.591(Timestamp), 1694341921545261057(Long)
2023-08-25 20:10:25.621 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:25.621 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.621 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:25.622 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@20acf660
2023-08-25 20:10:25.622 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:25.622 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:25.628 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654256283pk  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:25.628 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654256283pk  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:25.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654256283pk  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:25.629 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654256283pk  [0;39m ------------- 开始 -------------
2023-08-25 20:10:25.629 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654256283pk  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:25.629 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654256283pk  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:25.629 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654256283pk  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:25.629 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654256283pk  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:25.630 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654256283pk  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:25.630 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654256283pk  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:25.638 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:25.639 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:25.640 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:25.640 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:25.640 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 953437924, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:25.640 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:25.640 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.640 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1121234078, id=1694341921545261057, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:25 CST 2023, tickets=null]
2023-08-25 20:10:25.640 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:25.641 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:25.64(Timestamp), 1694341921545261057(Long)
2023-08-25 20:10:25.646 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654256283pk  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:25.646 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654256283pk  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:25.663 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654256283pk  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:25.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654256283pk  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:25.664 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654256283pk  [0;39m <==      Total: 1
2023-08-25 20:10:25.664 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654256283pk  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:25.665 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654256283pk  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:25.665 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654256283pk  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@35c9ef00
2023-08-25 20:10:25.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654256283pk  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:25.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654256283pk  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:25.671 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:25.671 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.740 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654256283pk  [0;39m <==    Columns: count(*)
2023-08-25 20:10:25.740 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654256283pk  [0;39m <==        Row: 13903
2023-08-25 20:10:25.740 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654256283pk  [0;39m <==      Total: 1
2023-08-25 20:10:25.740 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654256283pk  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:25.741 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654256283pk  [0;39m 返回结果: {"code":0,"message":"","result":13903,"success":true}
2023-08-25 20:10:25.741 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654256283pk  [0;39m ------------- 结束 耗时：112 ms -------------
2023-08-25 20:10:25.874 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921545261058
2023-08-25 20:10:25.874 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.874 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 763322210, id=1694341921545261058, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:25 CST 2023, tickets=null]
2023-08-25 20:10:25.875 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:25.875 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:25.874(Timestamp), 1694341921545261058(Long)
2023-08-25 20:10:25.904 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:25.904 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.904 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:25.904 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@50916d6d
2023-08-25 20:10:25.905 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:25.905 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:25.920 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:25.920 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:25.921 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:25.922 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:25.922 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1623396655, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:25.922 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:25.922 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:25.925 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1673318095, id=1694341921545261058, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:25 CST 2023, tickets=null]
2023-08-25 20:10:25.926 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:25.926 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:25.922(Timestamp), 1694341921545261058(Long)
2023-08-25 20:10:25.969 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:25.969 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.129 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965426128eup  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:26.129 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965426128eup  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:26.129 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965426128eup  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:26.130 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965426128eup  [0;39m ------------- 开始 -------------
2023-08-25 20:10:26.130 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965426128eup  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:26.130 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965426128eup  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:26.130 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965426128eup  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:26.130 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965426128eup  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:26.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965426128eup  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:26.131 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965426128eup  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:26.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965426128eup  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:26.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965426128eup  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:26.161 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965426128eup  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:26.162 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965426128eup  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:26.163 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965426128eup  [0;39m <==      Total: 1
2023-08-25 20:10:26.163 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965426128eup  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:26.163 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965426128eup  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:26.163 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965426128eup  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@38c5c62f
2023-08-25 20:10:26.164 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965426128eup  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:26.164 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965426128eup  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:26.172 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921549455360
2023-08-25 20:10:26.172 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.172 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 165384687, id=1694341921549455360, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:26 CST 2023, tickets=null]
2023-08-25 20:10:26.173 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:26.173 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:26.172(Timestamp), 1694341921549455360(Long)
2023-08-25 20:10:26.210 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:26.210 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.210 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:26.210 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@74a6d1c6
2023-08-25 20:10:26.211 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:26.211 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:26.212 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965426128eup  [0;39m <==    Columns: count(*)
2023-08-25 20:10:26.212 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965426128eup  [0;39m <==        Row: 13902
2023-08-25 20:10:26.212 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965426128eup  [0;39m <==      Total: 1
2023-08-25 20:10:26.213 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965426128eup  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:26.213 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965426128eup  [0;39m 返回结果: {"code":0,"message":"","result":13902,"success":true}
2023-08-25 20:10:26.213 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965426128eup  [0;39m ------------- 结束 耗时：83 ms -------------
2023-08-25 20:10:26.227 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:26.228 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:26.228 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:26.228 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:26.228 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1879386265, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:26.228 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:26.229 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.229 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1280106536, id=1694341921549455360, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:26 CST 2023, tickets=null]
2023-08-25 20:10:26.229 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:26.229 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:26.229(Timestamp), 1694341921549455360(Long)
2023-08-25 20:10:26.259 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:26.259 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.259 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:26.259 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@faad594
2023-08-25 20:10:26.261 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:26.262 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:26.355 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:26.355 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13902
2023-08-25 20:10:26.355 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:26.356 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:26.356 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:26.377 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:26.378 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921557843968, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.107, 2023-08-23 21:32:48.107, <<BLOB>>
2023-08-25 20:10:26.378 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921562038272, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.108, 2023-08-23 21:32:48.108, <<BLOB>>
2023-08-25 20:10:26.379 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921641730048, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.127, 2023-08-23 21:32:48.127, <<BLOB>>
2023-08-25 20:10:26.380 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921666895872, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.133, 2023-08-23 21:32:48.133, <<BLOB>>
2023-08-25 20:10:26.380 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921666895873, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.133, 2023-08-23 21:32:48.133, <<BLOB>>
2023-08-25 20:10:26.380 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:26.381 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:26.381 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:26.583 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921557843968
2023-08-25 20:10:26.583 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.583 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 462836930, id=1694341921557843968, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:26 CST 2023, tickets=null]
2023-08-25 20:10:26.584 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:26.585 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:26.583(Timestamp), 1694341921557843968(Long)
2023-08-25 20:10:26.616 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:26.617 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.617 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:26.617 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7d687a0
2023-08-25 20:10:26.619 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:26.619 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:26.629 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965426629gbu  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:26.630 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965426629gbu  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:26.630 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965426629gbu  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:26.631 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965426629gbu  [0;39m ------------- 开始 -------------
2023-08-25 20:10:26.631 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965426629gbu  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:26.631 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965426629gbu  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:26.631 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965426629gbu  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:26.631 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965426629gbu  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:26.631 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965426629gbu  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:26.631 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965426629gbu  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:26.635 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:26.635 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:26.636 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:26.636 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:26.636 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 628506436, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:26.637 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:26.637 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.637 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 888058471, id=1694341921557843968, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:26 CST 2023, tickets=null]
2023-08-25 20:10:26.637 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:26.637 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:26.637(Timestamp), 1694341921557843968(Long)
2023-08-25 20:10:26.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965426629gbu  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:26.646 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965426629gbu  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:26.660 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965426629gbu  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:26.661 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965426629gbu  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:26.661 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965426629gbu  [0;39m <==      Total: 1
2023-08-25 20:10:26.662 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965426629gbu  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:26.662 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965426629gbu  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:26.663 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965426629gbu  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7dcb17ed
2023-08-25 20:10:26.663 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965426629gbu  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:26.664 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965426629gbu  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:26.667 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:26.668 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.708 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965426629gbu  [0;39m <==    Columns: count(*)
2023-08-25 20:10:26.709 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965426629gbu  [0;39m <==        Row: 13900
2023-08-25 20:10:26.709 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965426629gbu  [0;39m <==      Total: 1
2023-08-25 20:10:26.709 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965426629gbu  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:26.709 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965426629gbu  [0;39m 返回结果: {"code":0,"message":"","result":13900,"success":true}
2023-08-25 20:10:26.710 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965426629gbu  [0;39m ------------- 结束 耗时：79 ms -------------
2023-08-25 20:10:26.868 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921562038272
2023-08-25 20:10:26.868 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.868 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1904039894, id=1694341921562038272, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:26 CST 2023, tickets=null]
2023-08-25 20:10:26.869 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:26.869 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:26.868(Timestamp), 1694341921562038272(Long)
2023-08-25 20:10:26.899 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:26.900 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.900 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:26.900 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@24d921e3
2023-08-25 20:10:26.901 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:26.901 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:26.916 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:26.917 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:26.918 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:26.918 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:26.918 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 239125255, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:26.918 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:26.918 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:26.918 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1169930407, id=1694341921562038272, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:26 CST 2023, tickets=null]
2023-08-25 20:10:26.918 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:26.919 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:26.918(Timestamp), 1694341921562038272(Long)
2023-08-25 20:10:26.948 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:26.948 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965427128grx  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:27.128 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965427128grx  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:27.128 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965427128grx  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:27.129 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965427128grx  [0;39m ------------- 开始 -------------
2023-08-25 20:10:27.129 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965427128grx  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:27.129 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965427128grx  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:27.129 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965427128grx  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:27.129 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965427128grx  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:27.129 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965427128grx  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:27.129 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965427128grx  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:27.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965427128grx  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:27.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965427128grx  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:27.149 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921641730048
2023-08-25 20:10:27.149 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.149 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2053514114, id=1694341921641730048, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:27 CST 2023, tickets=null]
2023-08-25 20:10:27.150 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:27.150 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:27.149(Timestamp), 1694341921641730048(Long)
2023-08-25 20:10:27.165 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965427128grx  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:27.166 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965427128grx  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:27.167 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965427128grx  [0;39m <==      Total: 1
2023-08-25 20:10:27.168 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965427128grx  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:27.168 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965427128grx  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:27.168 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965427128grx  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@55b1e4fd
2023-08-25 20:10:27.169 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965427128grx  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:27.170 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965427128grx  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:27.181 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:27.181 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.181 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:27.181 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6ad07f53
2023-08-25 20:10:27.182 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:27.182 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:27.197 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:27.198 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:27.198 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:27.199 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:27.199 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 196461181, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:27.199 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:27.199 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.200 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1295782710, id=1694341921641730048, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:27 CST 2023, tickets=null]
2023-08-25 20:10:27.200 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:27.200 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:27.199(Timestamp), 1694341921641730048(Long)
2023-08-25 20:10:27.224 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965427128grx  [0;39m <==    Columns: count(*)
2023-08-25 20:10:27.224 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965427128grx  [0;39m <==        Row: 13899
2023-08-25 20:10:27.224 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965427128grx  [0;39m <==      Total: 1
2023-08-25 20:10:27.225 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965427128grx  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:27.225 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965427128grx  [0;39m 返回结果: {"code":0,"message":"","result":13899,"success":true}
2023-08-25 20:10:27.225 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965427128grx  [0;39m ------------- 结束 耗时：96 ms -------------
2023-08-25 20:10:27.230 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:27.230 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.432 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921666895872
2023-08-25 20:10:27.432 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.432 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1082210965, id=1694341921666895872, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:27 CST 2023, tickets=null]
2023-08-25 20:10:27.433 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:27.433 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:27.432(Timestamp), 1694341921666895872(Long)
2023-08-25 20:10:27.463 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:27.463 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.464 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:27.464 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@488ab4e7
2023-08-25 20:10:27.464 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:27.464 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:27.481 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:27.481 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:27.482 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:27.482 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:27.482 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1535787369, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:27.483 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:27.483 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.483 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 722370788, id=1694341921666895872, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:27 CST 2023, tickets=null]
2023-08-25 20:10:27.483 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:27.483 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:27.483(Timestamp), 1694341921666895872(Long)
2023-08-25 20:10:27.514 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:27.514 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.630 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965427630pbk  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:27.630 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965427630pbk  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:27.631 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965427630pbk  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:27.631 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965427630pbk  [0;39m ------------- 开始 -------------
2023-08-25 20:10:27.631 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965427630pbk  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:27.631 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965427630pbk  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:27.632 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965427630pbk  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:27.632 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965427630pbk  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:27.632 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965427630pbk  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:27.632 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965427630pbk  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:27.648 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965427630pbk  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:27.649 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965427630pbk  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:27.667 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965427630pbk  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:27.667 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965427630pbk  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:27.668 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965427630pbk  [0;39m <==      Total: 1
2023-08-25 20:10:27.668 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965427630pbk  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:27.669 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965427630pbk  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:27.669 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965427630pbk  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@62379d07
2023-08-25 20:10:27.669 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965427630pbk  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:27.670 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965427630pbk  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:27.717 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921666895873
2023-08-25 20:10:27.717 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.718 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 271540577, id=1694341921666895873, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:27 CST 2023, tickets=null]
2023-08-25 20:10:27.718 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:27.719 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:27.717(Timestamp), 1694341921666895873(Long)
2023-08-25 20:10:27.721 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965427630pbk  [0;39m <==    Columns: count(*)
2023-08-25 20:10:27.721 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965427630pbk  [0;39m <==        Row: 13897
2023-08-25 20:10:27.722 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965427630pbk  [0;39m <==      Total: 1
2023-08-25 20:10:27.722 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965427630pbk  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:27.722 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965427630pbk  [0;39m 返回结果: {"code":0,"message":"","result":13897,"success":true}
2023-08-25 20:10:27.722 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965427630pbk  [0;39m ------------- 结束 耗时：91 ms -------------
2023-08-25 20:10:27.750 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:27.750 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.751 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:27.751 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@46f15164
2023-08-25 20:10:27.751 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:27.752 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:27.778 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:27.779 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:27.779 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:27.779 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:27.779 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1793116477, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:27.779 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:27.779 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.780 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1278861502, id=1694341921666895873, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:27 CST 2023, tickets=null]
2023-08-25 20:10:27.780 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:27.780 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:27.779(Timestamp), 1694341921666895873(Long)
2023-08-25 20:10:27.811 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:27.811 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:27.811 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:27.811 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7d7d7929
2023-08-25 20:10:27.813 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:27.814 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:27.869 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:27.869 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13897
2023-08-25 20:10:27.870 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:27.870 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:27.870 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:27.894 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:27.894 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921679478784, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.136, 2023-08-23 21:32:48.136, <<BLOB>>
2023-08-25 20:10:27.895 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921679478785, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.136, 2023-08-23 21:32:48.136, <<BLOB>>
2023-08-25 20:10:27.896 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921679478786, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.136, 2023-08-23 21:32:48.136, <<BLOB>>
2023-08-25 20:10:27.896 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921754976256, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.154, 2023-08-23 21:32:48.154, <<BLOB>>
2023-08-25 20:10:27.897 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921805307904, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.166, 2023-08-23 21:32:48.166, <<BLOB>>
2023-08-25 20:10:27.898 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:27.898 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:27.898 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:28.100 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921679478784
2023-08-25 20:10:28.101 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.101 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2076493401, id=1694341921679478784, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:28 CST 2023, tickets=null]
2023-08-25 20:10:28.102 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:28.102 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:28.101(Timestamp), 1694341921679478784(Long)
2023-08-25 20:10:28.127 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654281274zp  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:28.128 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654281274zp  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:28.128 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654281274zp  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:28.128 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654281274zp  [0;39m ------------- 开始 -------------
2023-08-25 20:10:28.128 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654281274zp  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:28.129 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654281274zp  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:28.129 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654281274zp  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:28.129 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654281274zp  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:28.129 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654281274zp  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:28.130 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654281274zp  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:28.131 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:28.132 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.133 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:28.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1f571e5
2023-08-25 20:10:28.133 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:28.134 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:28.143 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654281274zp  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:28.143 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654281274zp  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:28.150 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:28.151 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:28.151 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:28.151 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:28.151 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 51426704, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:28.151 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:28.151 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.151 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1598956644, id=1694341921679478784, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:28 CST 2023, tickets=null]
2023-08-25 20:10:28.152 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:28.152 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:28.151(Timestamp), 1694341921679478784(Long)
2023-08-25 20:10:28.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654281274zp  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:28.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654281274zp  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:28.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654281274zp  [0;39m <==      Total: 1
2023-08-25 20:10:28.160 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654281274zp  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:28.161 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654281274zp  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:28.161 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654281274zp  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6a143e1a
2023-08-25 20:10:28.161 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654281274zp  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:28.162 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654281274zp  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:28.182 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:28.183 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.211 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654281274zp  [0;39m <==    Columns: count(*)
2023-08-25 20:10:28.211 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654281274zp  [0;39m <==        Row: 13896
2023-08-25 20:10:28.212 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654281274zp  [0;39m <==      Total: 1
2023-08-25 20:10:28.212 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654281274zp  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:28.212 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654281274zp  [0;39m 返回结果: {"code":0,"message":"","result":13896,"success":true}
2023-08-25 20:10:28.212 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654281274zp  [0;39m ------------- 结束 耗时：84 ms -------------
2023-08-25 20:10:28.385 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921679478785
2023-08-25 20:10:28.385 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.385 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1905352532, id=1694341921679478785, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:28 CST 2023, tickets=null]
2023-08-25 20:10:28.386 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:28.386 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:28.385(Timestamp), 1694341921679478785(Long)
2023-08-25 20:10:28.421 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:28.422 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.422 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:28.422 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5968af56
2023-08-25 20:10:28.422 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:28.422 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:28.437 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:28.438 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:28.438 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:28.439 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:28.439 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 662880487, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:28.439 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:28.439 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.439 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 239532292, id=1694341921679478785, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:28 CST 2023, tickets=null]
2023-08-25 20:10:28.439 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:28.439 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:28.439(Timestamp), 1694341921679478785(Long)
2023-08-25 20:10:28.469 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:28.469 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.628 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169296542862853l  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:28.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169296542862853l  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:28.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169296542862853l  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:28.630 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169296542862853l  [0;39m ------------- 开始 -------------
2023-08-25 20:10:28.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169296542862853l  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:28.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169296542862853l  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:28.630 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169296542862853l  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:28.630 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169296542862853l  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:28.631 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296542862853l  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:28.631 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296542862853l  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:28.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296542862853l  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:28.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296542862853l  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:28.662 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296542862853l  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:28.663 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296542862853l  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:28.663 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296542862853l  [0;39m <==      Total: 1
2023-08-25 20:10:28.664 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296542862853l  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:28.664 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296542862853l  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:28.664 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296542862853l  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1eae182f
2023-08-25 20:10:28.665 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296542862853l  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:28.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296542862853l  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:28.669 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921679478786
2023-08-25 20:10:28.669 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.669 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1550460077, id=1694341921679478786, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:28 CST 2023, tickets=null]
2023-08-25 20:10:28.669 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:28.670 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:28.669(Timestamp), 1694341921679478786(Long)
2023-08-25 20:10:28.729 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:28.730 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.730 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:28.730 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@54690859
2023-08-25 20:10:28.730 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:28.731 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:28.744 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296542862853l  [0;39m <==    Columns: count(*)
2023-08-25 20:10:28.745 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296542862853l  [0;39m <==        Row: 13894
2023-08-25 20:10:28.745 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296542862853l  [0;39m <==      Total: 1
2023-08-25 20:10:28.745 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296542862853l  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:28.745 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169296542862853l  [0;39m 返回结果: {"code":0,"message":"","result":13894,"success":true}
2023-08-25 20:10:28.745 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169296542862853l  [0;39m ------------- 结束 耗时：115 ms -------------
2023-08-25 20:10:28.746 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:28.747 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:28.747 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:28.748 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:28.748 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 211462230, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:28.748 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:28.748 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.748 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 323640400, id=1694341921679478786, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:28 CST 2023, tickets=null]
2023-08-25 20:10:28.749 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:28.749 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:28.748(Timestamp), 1694341921679478786(Long)
2023-08-25 20:10:28.780 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:28.780 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.981 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921754976256
2023-08-25 20:10:28.981 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:28.981 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1262316312, id=1694341921754976256, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:28 CST 2023, tickets=null]
2023-08-25 20:10:28.981 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:28.982 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:28.981(Timestamp), 1694341921754976256(Long)
2023-08-25 20:10:29.013 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:29.013 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.013 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:29.013 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5355d4ea
2023-08-25 20:10:29.013 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:29.014 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:29.029 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:29.030 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:29.030 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:29.030 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:29.030 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 295854858, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:29.031 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:29.031 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.031 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1727587877, id=1694341921754976256, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:29 CST 2023, tickets=null]
2023-08-25 20:10:29.031 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:29.031 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:29.031(Timestamp), 1694341921754976256(Long)
2023-08-25 20:10:29.064 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:29.064 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.132 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965429132syy  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:29.133 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965429132syy  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:29.133 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965429132syy  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:29.133 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965429132syy  [0;39m ------------- 开始 -------------
2023-08-25 20:10:29.133 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965429132syy  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:29.133 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965429132syy  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:29.134 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965429132syy  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:29.134 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965429132syy  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:29.134 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965429132syy  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:29.134 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965429132syy  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:29.134 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965429132syy  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:29.135 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965429132syy  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:29.150 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965429132syy  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:29.151 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965429132syy  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:29.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965429132syy  [0;39m <==      Total: 1
2023-08-25 20:10:29.151 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965429132syy  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:29.151 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965429132syy  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:29.151 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965429132syy  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1aa71ecb
2023-08-25 20:10:29.152 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965429132syy  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:29.152 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965429132syy  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:29.215 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965429132syy  [0;39m <==    Columns: count(*)
2023-08-25 20:10:29.218 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965429132syy  [0;39m <==        Row: 13892
2023-08-25 20:10:29.218 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965429132syy  [0;39m <==      Total: 1
2023-08-25 20:10:29.218 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965429132syy  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:29.219 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965429132syy  [0;39m 返回结果: {"code":0,"message":"","result":13892,"success":true}
2023-08-25 20:10:29.220 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965429132syy  [0;39m ------------- 结束 耗时：87 ms -------------
2023-08-25 20:10:29.264 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921805307904
2023-08-25 20:10:29.264 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.264 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 398468972, id=1694341921805307904, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:29 CST 2023, tickets=null]
2023-08-25 20:10:29.265 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:29.266 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:29.264(Timestamp), 1694341921805307904(Long)
2023-08-25 20:10:29.301 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:29.302 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.303 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:29.303 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3490a9e9
2023-08-25 20:10:29.304 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:29.304 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:29.319 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:29.320 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:29.320 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:29.321 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:29.321 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 97107612, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:29.321 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:29.321 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.321 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1426384732, id=1694341921805307904, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:29 CST 2023, tickets=null]
2023-08-25 20:10:29.321 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:29.322 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:29.321(Timestamp), 1694341921805307904(Long)
2023-08-25 20:10:29.350 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:29.350 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.350 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:29.350 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@577b65b2
2023-08-25 20:10:29.352 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:29.353 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:29.408 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:29.408 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13892
2023-08-25 20:10:29.409 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:29.409 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:29.409 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:29.456 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:29.457 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921822085120, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.170, 2023-08-23 21:32:48.170, <<BLOB>>
2023-08-25 20:10:29.458 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921826279424, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.171, 2023-08-23 21:32:48.171, <<BLOB>>
2023-08-25 20:10:29.458 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921834668032, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.173, 2023-08-23 21:32:48.173, <<BLOB>>
2023-08-25 20:10:29.459 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921868222464, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.181, 2023-08-23 21:32:48.181, <<BLOB>>
2023-08-25 20:10:29.459 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921868222465, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.181, 2023-08-23 21:32:48.181, <<BLOB>>
2023-08-25 20:10:29.459 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:29.460 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:29.460 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:29.641 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965429641zqf  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:29.642 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965429641zqf  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:29.642 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965429641zqf  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:29.642 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965429641zqf  [0;39m ------------- 开始 -------------
2023-08-25 20:10:29.642 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965429641zqf  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:29.642 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965429641zqf  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:29.642 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965429641zqf  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:29.643 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965429641zqf  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:29.643 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965429641zqf  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:29.643 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965429641zqf  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:29.656 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965429641zqf  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:29.656 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965429641zqf  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:29.660 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921822085120
2023-08-25 20:10:29.660 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.660 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1398736301, id=1694341921822085120, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:29 CST 2023, tickets=null]
2023-08-25 20:10:29.660 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:29.661 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:29.66(Timestamp), 1694341921822085120(Long)
2023-08-25 20:10:29.672 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965429641zqf  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:29.673 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965429641zqf  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:29.674 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965429641zqf  [0;39m <==      Total: 1
2023-08-25 20:10:29.674 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965429641zqf  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:29.674 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965429641zqf  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:29.674 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965429641zqf  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@59f5f5
2023-08-25 20:10:29.675 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965429641zqf  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:29.675 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965429641zqf  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:29.705 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:29.705 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.705 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:29.706 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@40d57b8d
2023-08-25 20:10:29.706 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:29.706 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:29.721 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:29.722 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:29.722 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:29.722 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:29.722 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 420739833, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:29.722 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:29.723 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.723 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1907148559, id=1694341921822085120, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:29 CST 2023, tickets=null]
2023-08-25 20:10:29.723 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:29.723 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:29.723(Timestamp), 1694341921822085120(Long)
2023-08-25 20:10:29.724 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965429641zqf  [0;39m <==    Columns: count(*)
2023-08-25 20:10:29.725 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965429641zqf  [0;39m <==        Row: 13891
2023-08-25 20:10:29.725 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965429641zqf  [0;39m <==      Total: 1
2023-08-25 20:10:29.725 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965429641zqf  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:29.725 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965429641zqf  [0;39m 返回结果: {"code":0,"message":"","result":13891,"success":true}
2023-08-25 20:10:29.725 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965429641zqf  [0;39m ------------- 结束 耗时：83 ms -------------
2023-08-25 20:10:29.752 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:29.753 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.954 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921826279424
2023-08-25 20:10:29.954 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.954 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2138731118, id=1694341921826279424, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:29 CST 2023, tickets=null]
2023-08-25 20:10:29.954 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:29.954 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:29.954(Timestamp), 1694341921826279424(Long)
2023-08-25 20:10:29.983 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:29.984 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:29.984 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:29.984 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6e3bbfdd
2023-08-25 20:10:29.984 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:29.985 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:29.999 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:30.000 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:30.001 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:30.001 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:30.001 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 776042865, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:30.001 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:30.002 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.002 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 320783656, id=1694341921826279424, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:30 CST 2023, tickets=null]
2023-08-25 20:10:30.002 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:30.002 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:30.002(Timestamp), 1694341921826279424(Long)
2023-08-25 20:10:30.031 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:30.032 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.139 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965430138hat  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:30.139 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965430138hat  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:30.139 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965430138hat  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:30.139 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965430138hat  [0;39m ------------- 开始 -------------
2023-08-25 20:10:30.140 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965430138hat  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:30.140 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965430138hat  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:30.140 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965430138hat  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:30.140 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965430138hat  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:30.140 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965430138hat  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:30.141 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965430138hat  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:30.187 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965430138hat  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:30.187 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965430138hat  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:30.205 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965430138hat  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:30.205 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965430138hat  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:30.206 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965430138hat  [0;39m <==      Total: 1
2023-08-25 20:10:30.206 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965430138hat  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:30.206 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965430138hat  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:30.206 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965430138hat  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3ad12e20
2023-08-25 20:10:30.207 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965430138hat  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:30.207 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965430138hat  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:30.235 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921834668032
2023-08-25 20:10:30.235 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.235 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 114834939, id=1694341921834668032, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:30 CST 2023, tickets=null]
2023-08-25 20:10:30.236 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:30.236 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:30.235(Timestamp), 1694341921834668032(Long)
2023-08-25 20:10:30.255 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965430138hat  [0;39m <==    Columns: count(*)
2023-08-25 20:10:30.256 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965430138hat  [0;39m <==        Row: 13889
2023-08-25 20:10:30.256 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965430138hat  [0;39m <==      Total: 1
2023-08-25 20:10:30.256 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965430138hat  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:30.257 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965430138hat  [0;39m 返回结果: {"code":0,"message":"","result":13889,"success":true}
2023-08-25 20:10:30.257 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965430138hat  [0;39m ------------- 结束 耗时：118 ms -------------
2023-08-25 20:10:30.265 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:30.266 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.266 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:30.267 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@46a5f063
2023-08-25 20:10:30.267 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:30.268 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:30.284 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:30.284 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:30.285 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:30.285 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:30.285 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1668392357, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:30.285 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:30.285 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.285 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2058009901, id=1694341921834668032, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:30 CST 2023, tickets=null]
2023-08-25 20:10:30.286 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:30.286 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:30.285(Timestamp), 1694341921834668032(Long)
2023-08-25 20:10:30.315 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:30.315 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.516 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921868222464
2023-08-25 20:10:30.516 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.516 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1012030879, id=1694341921868222464, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:30 CST 2023, tickets=null]
2023-08-25 20:10:30.516 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:30.517 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:30.516(Timestamp), 1694341921868222464(Long)
2023-08-25 20:10:30.579 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:30.580 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.580 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:30.580 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7d0c1789
2023-08-25 20:10:30.581 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:30.582 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:30.600 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:30.600 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:30.601 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:30.601 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:30.601 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1806073251, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:30.601 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:30.601 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.601 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1036630681, id=1694341921868222464, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:30 CST 2023, tickets=null]
2023-08-25 20:10:30.601 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:30.602 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:30.601(Timestamp), 1694341921868222464(Long)
2023-08-25 20:10:30.628 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654306283i9  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:30.628 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654306283i9  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:30.628 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654306283i9  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:30.629 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654306283i9  [0;39m ------------- 开始 -------------
2023-08-25 20:10:30.629 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654306283i9  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:30.629 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654306283i9  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:30.629 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654306283i9  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:30.629 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654306283i9  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:30.629 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654306283i9  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:30.629 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654306283i9  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:30.636 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:30.636 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.656 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654306283i9  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:30.656 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654306283i9  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:30.673 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654306283i9  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:30.674 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654306283i9  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:30.675 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654306283i9  [0;39m <==      Total: 1
2023-08-25 20:10:30.675 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654306283i9  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:30.676 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654306283i9  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:30.676 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654306283i9  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@c649eab
2023-08-25 20:10:30.676 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654306283i9  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:30.677 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654306283i9  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:30.724 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654306283i9  [0;39m <==    Columns: count(*)
2023-08-25 20:10:30.724 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654306283i9  [0;39m <==        Row: 13887
2023-08-25 20:10:30.724 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654306283i9  [0;39m <==      Total: 1
2023-08-25 20:10:30.725 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654306283i9  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:30.725 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654306283i9  [0;39m 返回结果: {"code":0,"message":"","result":13887,"success":true}
2023-08-25 20:10:30.725 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654306283i9  [0;39m ------------- 结束 耗时：96 ms -------------
2023-08-25 20:10:30.837 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921868222465
2023-08-25 20:10:30.837 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.837 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1448449859, id=1694341921868222465, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:30 CST 2023, tickets=null]
2023-08-25 20:10:30.837 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:30.838 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:30.837(Timestamp), 1694341921868222465(Long)
2023-08-25 20:10:30.867 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:30.867 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.867 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:30.868 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7eabdd6c
2023-08-25 20:10:30.868 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:30.868 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:30.884 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:30.884 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:30.884 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:30.885 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:30.885 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 114277626, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:30.885 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:30.885 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.885 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1026046903, id=1694341921868222465, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:30 CST 2023, tickets=null]
2023-08-25 20:10:30.885 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:30.885 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:30.885(Timestamp), 1694341921868222465(Long)
2023-08-25 20:10:30.924 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:30.924 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:30.924 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:30.925 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@37253eec
2023-08-25 20:10:30.927 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:30.927 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:30.973 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:30.973 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13887
2023-08-25 20:10:30.973 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:30.973 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:30.973 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:30.995 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:30.996 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921872416768, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.182, 2023-08-23 21:32:48.182, <<BLOB>>
2023-08-25 20:10:30.997 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921880805376, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.184, 2023-08-23 21:32:48.184, <<BLOB>>
2023-08-25 20:10:30.997 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921931137024, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.196, 2023-08-23 21:32:48.196, <<BLOB>>
2023-08-25 20:10:30.998 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921973080064, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.206, 2023-08-23 21:32:48.206, <<BLOB>>
2023-08-25 20:10:30.999 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341921981468672, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.208, 2023-08-23 21:32:48.208, <<BLOB>>
2023-08-25 20:10:31.000 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:31.000 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:31.000 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:31.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965431128dcu  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:31.129 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965431128dcu  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:31.129 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965431128dcu  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:31.129 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965431128dcu  [0;39m ------------- 开始 -------------
2023-08-25 20:10:31.129 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965431128dcu  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:31.129 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965431128dcu  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:31.129 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965431128dcu  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:31.130 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965431128dcu  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:31.130 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965431128dcu  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:31.130 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965431128dcu  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:31.143 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965431128dcu  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:31.144 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965431128dcu  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:31.158 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965431128dcu  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:31.158 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965431128dcu  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:31.159 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965431128dcu  [0;39m <==      Total: 1
2023-08-25 20:10:31.159 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965431128dcu  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:31.159 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965431128dcu  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:31.159 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965431128dcu  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@25fd5898
2023-08-25 20:10:31.160 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965431128dcu  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:31.160 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965431128dcu  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:31.202 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921872416768
2023-08-25 20:10:31.202 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.202 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1974377471, id=1694341921872416768, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:31 CST 2023, tickets=null]
2023-08-25 20:10:31.202 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:31.202 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:31.202(Timestamp), 1694341921872416768(Long)
2023-08-25 20:10:31.204 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965431128dcu  [0;39m <==    Columns: count(*)
2023-08-25 20:10:31.205 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965431128dcu  [0;39m <==        Row: 13886
2023-08-25 20:10:31.205 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965431128dcu  [0;39m <==      Total: 1
2023-08-25 20:10:31.205 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965431128dcu  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:31.205 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965431128dcu  [0;39m 返回结果: {"code":0,"message":"","result":13886,"success":true}
2023-08-25 20:10:31.205 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965431128dcu  [0;39m ------------- 结束 耗时：76 ms -------------
2023-08-25 20:10:31.236 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:31.237 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.237 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:31.237 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@42eddf07
2023-08-25 20:10:31.238 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:31.238 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:31.253 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:31.253 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:31.254 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:31.254 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:31.254 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 945120209, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:31.254 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:31.254 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.254 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 777692872, id=1694341921872416768, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:31 CST 2023, tickets=null]
2023-08-25 20:10:31.255 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:31.255 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:31.254(Timestamp), 1694341921872416768(Long)
2023-08-25 20:10:31.286 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:31.286 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.488 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921880805376
2023-08-25 20:10:31.488 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.488 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 275216888, id=1694341921880805376, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:31 CST 2023, tickets=null]
2023-08-25 20:10:31.488 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:31.489 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:31.488(Timestamp), 1694341921880805376(Long)
2023-08-25 20:10:31.519 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:31.519 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.519 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:31.519 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@78a85187
2023-08-25 20:10:31.520 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:31.520 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:31.535 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:31.536 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:31.536 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:31.537 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:31.537 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1272936050, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:31.537 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:31.537 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.537 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 918762860, id=1694341921880805376, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:31 CST 2023, tickets=null]
2023-08-25 20:10:31.537 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:31.538 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:31.537(Timestamp), 1694341921880805376(Long)
2023-08-25 20:10:31.567 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:31.567 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.637 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965431637q6n  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:31.638 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965431637q6n  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:31.638 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965431637q6n  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:31.638 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965431637q6n  [0;39m ------------- 开始 -------------
2023-08-25 20:10:31.638 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965431637q6n  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:31.638 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965431637q6n  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:31.639 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965431637q6n  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:31.639 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965431637q6n  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:31.639 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965431637q6n  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:31.639 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965431637q6n  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:31.653 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965431637q6n  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:31.654 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965431637q6n  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:31.668 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965431637q6n  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:31.668 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965431637q6n  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:31.669 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965431637q6n  [0;39m <==      Total: 1
2023-08-25 20:10:31.669 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965431637q6n  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:31.669 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965431637q6n  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:31.669 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965431637q6n  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7c927bb8
2023-08-25 20:10:31.670 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965431637q6n  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:31.670 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965431637q6n  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:31.715 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965431637q6n  [0;39m <==    Columns: count(*)
2023-08-25 20:10:31.715 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965431637q6n  [0;39m <==        Row: 13884
2023-08-25 20:10:31.715 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965431637q6n  [0;39m <==      Total: 1
2023-08-25 20:10:31.716 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965431637q6n  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:31.716 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965431637q6n  [0;39m 返回结果: {"code":0,"message":"","result":13884,"success":true}
2023-08-25 20:10:31.716 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965431637q6n  [0;39m ------------- 结束 耗时：78 ms -------------
2023-08-25 20:10:31.768 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921931137024
2023-08-25 20:10:31.768 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.768 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 266060098, id=1694341921931137024, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:31 CST 2023, tickets=null]
2023-08-25 20:10:31.768 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:31.769 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:31.768(Timestamp), 1694341921931137024(Long)
2023-08-25 20:10:31.804 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:31.805 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.805 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:31.805 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@10c060f4
2023-08-25 20:10:31.805 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:31.805 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:31.823 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:31.823 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:31.824 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:31.824 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:31.824 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 646507898, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:31.824 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:31.824 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:31.824 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 593169844, id=1694341921931137024, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:31 CST 2023, tickets=null]
2023-08-25 20:10:31.824 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:31.825 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:31.824(Timestamp), 1694341921931137024(Long)
2023-08-25 20:10:31.855 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:31.855 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.056 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921973080064
2023-08-25 20:10:32.056 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.056 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 3124033, id=1694341921973080064, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:32 CST 2023, tickets=null]
2023-08-25 20:10:32.056 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:32.057 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:32.056(Timestamp), 1694341921973080064(Long)
2023-08-25 20:10:32.088 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:32.088 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.088 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:32.088 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1a60e22f
2023-08-25 20:10:32.089 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:32.089 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:32.104 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:32.105 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:32.105 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:32.106 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:32.106 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 794297190, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:32.106 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:32.106 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.106 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 626523891, id=1694341921973080064, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:32 CST 2023, tickets=null]
2023-08-25 20:10:32.106 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:32.106 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:32.106(Timestamp), 1694341921973080064(Long)
2023-08-25 20:10:32.135 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965432135ak3  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:32.135 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965432135ak3  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:32.135 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965432135ak3  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:32.136 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965432135ak3  [0;39m ------------- 开始 -------------
2023-08-25 20:10:32.136 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965432135ak3  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:32.136 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965432135ak3  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:32.136 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965432135ak3  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:32.136 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965432135ak3  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:32.136 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:32.136 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965432135ak3  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:32.136 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.137 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965432135ak3  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:32.154 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965432135ak3  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:32.154 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965432135ak3  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:32.171 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965432135ak3  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:32.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965432135ak3  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:32.173 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965432135ak3  [0;39m <==      Total: 1
2023-08-25 20:10:32.173 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965432135ak3  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:32.173 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965432135ak3  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:32.173 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965432135ak3  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5837547c
2023-08-25 20:10:32.174 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965432135ak3  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:32.174 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965432135ak3  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:32.224 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965432135ak3  [0;39m <==    Columns: count(*)
2023-08-25 20:10:32.224 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965432135ak3  [0;39m <==        Row: 13882
2023-08-25 20:10:32.224 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965432135ak3  [0;39m <==      Total: 1
2023-08-25 20:10:32.225 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965432135ak3  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:32.225 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965432135ak3  [0;39m 返回结果: {"code":0,"message":"","result":13882,"success":true}
2023-08-25 20:10:32.225 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965432135ak3  [0;39m ------------- 结束 耗时：89 ms -------------
2023-08-25 20:10:32.337 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341921981468672
2023-08-25 20:10:32.337 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.337 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1824622346, id=1694341921981468672, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:32 CST 2023, tickets=null]
2023-08-25 20:10:32.337 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:32.338 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:32.337(Timestamp), 1694341921981468672(Long)
2023-08-25 20:10:32.406 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:32.406 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.406 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:32.407 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@19d72c3f
2023-08-25 20:10:32.407 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:32.407 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:32.422 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:32.423 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:32.423 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:32.424 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:32.424 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 429546341, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:32.424 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:32.424 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.424 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1976410435, id=1694341921981468672, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:32 CST 2023, tickets=null]
2023-08-25 20:10:32.424 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:32.424 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:32.424(Timestamp), 1694341921981468672(Long)
2023-08-25 20:10:32.456 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:32.456 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.456 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:32.456 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@37eeba18
2023-08-25 20:10:32.458 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:32.458 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:32.501 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:32.501 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13882
2023-08-25 20:10:32.501 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:32.501 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:32.502 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:32.523 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:32.524 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922010828800, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.215, 2023-08-23 21:32:48.215, <<BLOB>>
2023-08-25 20:10:32.524 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922010828801, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.215, 2023-08-23 21:32:48.215, <<BLOB>>
2023-08-25 20:10:32.525 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922010828802, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.215, 2023-08-23 21:32:48.215, <<BLOB>>
2023-08-25 20:10:32.525 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922023411712, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.218, 2023-08-23 21:32:48.218, <<BLOB>>
2023-08-25 20:10:32.526 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922040188928, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.222, 2023-08-23 21:32:48.222, <<BLOB>>
2023-08-25 20:10:32.526 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:32.526 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:32.526 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:32.637 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965432637rlj  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:32.637 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965432637rlj  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:32.638 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965432637rlj  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:32.638 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965432637rlj  [0;39m ------------- 开始 -------------
2023-08-25 20:10:32.638 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965432637rlj  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:32.638 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965432637rlj  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:32.638 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965432637rlj  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:32.638 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965432637rlj  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:32.638 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965432637rlj  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:32.639 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965432637rlj  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:32.657 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965432637rlj  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:32.657 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965432637rlj  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:32.674 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965432637rlj  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:32.674 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965432637rlj  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:32.675 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965432637rlj  [0;39m <==      Total: 1
2023-08-25 20:10:32.675 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965432637rlj  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:32.675 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965432637rlj  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:32.675 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965432637rlj  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@48cb1251
2023-08-25 20:10:32.676 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965432637rlj  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:32.676 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965432637rlj  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:32.729 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922010828800
2023-08-25 20:10:32.729 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.729 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 763350212, id=1694341922010828800, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:32 CST 2023, tickets=null]
2023-08-25 20:10:32.730 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:32.730 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:32.729(Timestamp), 1694341922010828800(Long)
2023-08-25 20:10:32.754 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965432637rlj  [0;39m <==    Columns: count(*)
2023-08-25 20:10:32.754 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965432637rlj  [0;39m <==        Row: 13881
2023-08-25 20:10:32.755 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965432637rlj  [0;39m <==      Total: 1
2023-08-25 20:10:32.755 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965432637rlj  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:32.755 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965432637rlj  [0;39m 返回结果: {"code":0,"message":"","result":13881,"success":true}
2023-08-25 20:10:32.755 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965432637rlj  [0;39m ------------- 结束 耗时：117 ms -------------
2023-08-25 20:10:32.786 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:32.787 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.787 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:32.787 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4ec852fa
2023-08-25 20:10:32.787 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:32.789 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:32.803 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:32.804 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:32.804 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:32.804 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:32.804 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1851274570, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:32.805 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:32.805 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:32.805 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 962577459, id=1694341922010828800, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:32 CST 2023, tickets=null]
2023-08-25 20:10:32.805 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:32.805 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:32.805(Timestamp), 1694341922010828800(Long)
2023-08-25 20:10:32.837 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:32.837 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.039 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922010828801
2023-08-25 20:10:33.039 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.039 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 504099670, id=1694341922010828801, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:33 CST 2023, tickets=null]
2023-08-25 20:10:33.039 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:33.040 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:33.039(Timestamp), 1694341922010828801(Long)
2023-08-25 20:10:33.070 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:33.071 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.071 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:33.071 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@766f43ed
2023-08-25 20:10:33.072 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:33.072 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:33.125 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:33.127 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:33.128 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:33.128 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:33.128 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1653963315, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:33.128 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:33.129 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.129 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1627175534, id=1694341922010828801, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:33 CST 2023, tickets=null]
2023-08-25 20:10:33.129 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:33.130 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:33.129(Timestamp), 1694341922010828801(Long)
2023-08-25 20:10:33.142 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654331425bl  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:33.143 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654331425bl  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:33.143 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654331425bl  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:33.143 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654331425bl  [0;39m ------------- 开始 -------------
2023-08-25 20:10:33.144 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654331425bl  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:33.144 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654331425bl  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:33.144 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654331425bl  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:33.144 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654331425bl  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:33.144 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654331425bl  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:33.145 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654331425bl  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:33.158 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654331425bl  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:33.159 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654331425bl  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:33.160 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:33.160 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.173 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654331425bl  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:33.174 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654331425bl  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:33.174 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654331425bl  [0;39m <==      Total: 1
2023-08-25 20:10:33.175 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654331425bl  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:33.175 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654331425bl  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:33.175 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654331425bl  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7a9a36bc
2023-08-25 20:10:33.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654331425bl  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:33.177 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654331425bl  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:33.222 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654331425bl  [0;39m <==    Columns: count(*)
2023-08-25 20:10:33.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654331425bl  [0;39m <==        Row: 13879
2023-08-25 20:10:33.223 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654331425bl  [0;39m <==      Total: 1
2023-08-25 20:10:33.223 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654331425bl  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:33.224 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654331425bl  [0;39m 返回结果: {"code":0,"message":"","result":13879,"success":true}
2023-08-25 20:10:33.224 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654331425bl  [0;39m ------------- 结束 耗时：81 ms -------------
2023-08-25 20:10:33.362 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922010828802
2023-08-25 20:10:33.362 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.362 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1646861093, id=1694341922010828802, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:33 CST 2023, tickets=null]
2023-08-25 20:10:33.362 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:33.363 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:33.362(Timestamp), 1694341922010828802(Long)
2023-08-25 20:10:33.392 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:33.392 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.393 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:33.393 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2e0e5171
2023-08-25 20:10:33.393 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:33.393 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:33.407 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:33.408 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:33.408 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:33.408 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:33.409 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1876076517, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:33.409 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:33.409 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.409 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1635105415, id=1694341922010828802, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:33 CST 2023, tickets=null]
2023-08-25 20:10:33.409 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:33.409 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:33.409(Timestamp), 1694341922010828802(Long)
2023-08-25 20:10:33.438 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:33.438 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.635 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965433635v1g  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:33.635 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965433635v1g  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:33.636 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965433635v1g  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:33.636 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965433635v1g  [0;39m ------------- 开始 -------------
2023-08-25 20:10:33.636 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965433635v1g  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:33.636 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965433635v1g  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:33.636 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965433635v1g  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:33.636 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965433635v1g  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:33.636 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965433635v1g  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:33.637 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965433635v1g  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:33.639 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922023411712
2023-08-25 20:10:33.639 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.639 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1002466202, id=1694341922023411712, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:33 CST 2023, tickets=null]
2023-08-25 20:10:33.640 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:33.640 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:33.639(Timestamp), 1694341922023411712(Long)
2023-08-25 20:10:33.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965433635v1g  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:33.651 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965433635v1g  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:33.666 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965433635v1g  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:33.667 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965433635v1g  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:33.667 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965433635v1g  [0;39m <==      Total: 1
2023-08-25 20:10:33.668 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965433635v1g  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:33.668 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965433635v1g  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:33.668 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965433635v1g  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4a2c935b
2023-08-25 20:10:33.669 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965433635v1g  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:33.669 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965433635v1g  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:33.671 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:33.671 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.671 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:33.672 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@d3a25a7
2023-08-25 20:10:33.672 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:33.672 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:33.687 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:33.688 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:33.688 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:33.688 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:33.688 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1874364209, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:33.688 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:33.688 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.688 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 375551760, id=1694341922023411712, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:33 CST 2023, tickets=null]
2023-08-25 20:10:33.689 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:33.689 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:33.688(Timestamp), 1694341922023411712(Long)
2023-08-25 20:10:33.713 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965433635v1g  [0;39m <==    Columns: count(*)
2023-08-25 20:10:33.713 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965433635v1g  [0;39m <==        Row: 13878
2023-08-25 20:10:33.714 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965433635v1g  [0;39m <==      Total: 1
2023-08-25 20:10:33.714 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965433635v1g  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:33.714 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965433635v1g  [0;39m 返回结果: {"code":0,"message":"","result":13878,"success":true}
2023-08-25 20:10:33.714 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965433635v1g  [0;39m ------------- 结束 耗时：78 ms -------------
2023-08-25 20:10:33.719 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:33.719 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.921 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922040188928
2023-08-25 20:10:33.921 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.922 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2026934130, id=1694341922040188928, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:33 CST 2023, tickets=null]
2023-08-25 20:10:33.922 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:33.922 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:33.921(Timestamp), 1694341922040188928(Long)
2023-08-25 20:10:33.951 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:33.952 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.952 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:33.952 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@562539ce
2023-08-25 20:10:33.952 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:33.952 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:33.973 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:33.974 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:33.974 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:33.974 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:33.974 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 723615920, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:33.975 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:33.975 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:33.975 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 682242860, id=1694341922040188928, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:33 CST 2023, tickets=null]
2023-08-25 20:10:33.975 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:33.975 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:33.975(Timestamp), 1694341922040188928(Long)
2023-08-25 20:10:34.003 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:34.004 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.004 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:34.004 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@31df2f4c
2023-08-25 20:10:34.006 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:34.006 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:34.052 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:34.053 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13877
2023-08-25 20:10:34.053 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:34.053 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:34.053 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:34.077 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:34.077 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922044383232, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.223, 2023-08-23 21:32:48.223, <<BLOB>>
2023-08-25 20:10:34.078 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922052771840, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.225, 2023-08-23 21:32:48.225, <<BLOB>>
2023-08-25 20:10:34.078 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922098909184, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.236, 2023-08-23 21:32:48.236, <<BLOB>>
2023-08-25 20:10:34.078 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922111492096, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.239, 2023-08-23 21:32:48.239, <<BLOB>>
2023-08-25 20:10:34.079 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922111492097, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.239, 2023-08-23 21:32:48.239, <<BLOB>>
2023-08-25 20:10:34.079 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:34.080 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:34.080 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:34.148 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965434148vtb  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:34.148 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965434148vtb  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:34.149 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965434148vtb  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:34.149 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965434148vtb  [0;39m ------------- 开始 -------------
2023-08-25 20:10:34.150 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965434148vtb  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:34.150 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965434148vtb  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:34.150 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965434148vtb  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:34.150 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965434148vtb  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:34.150 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965434148vtb  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:34.151 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965434148vtb  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:34.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965434148vtb  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:34.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965434148vtb  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:34.174 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965434148vtb  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:34.175 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965434148vtb  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:34.175 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965434148vtb  [0;39m <==      Total: 1
2023-08-25 20:10:34.176 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965434148vtb  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:34.176 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965434148vtb  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:34.176 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965434148vtb  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1d534a5e
2023-08-25 20:10:34.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965434148vtb  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:34.177 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965434148vtb  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:34.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965434148vtb  [0;39m <==    Columns: count(*)
2023-08-25 20:10:34.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965434148vtb  [0;39m <==        Row: 13876
2023-08-25 20:10:34.224 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965434148vtb  [0;39m <==      Total: 1
2023-08-25 20:10:34.224 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965434148vtb  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:34.224 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965434148vtb  [0;39m 返回结果: {"code":0,"message":"","result":13876,"success":true}
2023-08-25 20:10:34.224 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965434148vtb  [0;39m ------------- 结束 耗时：75 ms -------------
2023-08-25 20:10:34.280 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922044383232
2023-08-25 20:10:34.280 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.280 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 71532237, id=1694341922044383232, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:34 CST 2023, tickets=null]
2023-08-25 20:10:34.280 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:34.281 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:34.28(Timestamp), 1694341922044383232(Long)
2023-08-25 20:10:34.310 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:34.310 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.310 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:34.310 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2eb67d63
2023-08-25 20:10:34.311 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:34.311 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:34.326 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:34.327 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:34.327 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:34.327 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:34.327 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 157341737, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:34.328 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:34.328 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.328 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1088635491, id=1694341922044383232, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:34 CST 2023, tickets=null]
2023-08-25 20:10:34.328 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:34.328 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:34.328(Timestamp), 1694341922044383232(Long)
2023-08-25 20:10:34.357 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:34.357 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.560 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922052771840
2023-08-25 20:10:34.560 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.560 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 409324359, id=1694341922052771840, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:34 CST 2023, tickets=null]
2023-08-25 20:10:34.560 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:34.561 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:34.56(Timestamp), 1694341922052771840(Long)
2023-08-25 20:10:34.610 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:34.610 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.610 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:34.610 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4de15132
2023-08-25 20:10:34.611 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:34.611 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:34.633 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965434633aly  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:34.633 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:34.633 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965434633aly  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:34.634 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965434633aly  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:34.634 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:34.634 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965434633aly  [0;39m ------------- 开始 -------------
2023-08-25 20:10:34.634 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965434633aly  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:34.634 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965434633aly  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:34.634 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:34.634 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965434633aly  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:34.634 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:34.634 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965434633aly  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:34.634 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1033805723, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:34.634 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965434633aly  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:34.635 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:34.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965434633aly  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:34.635 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1976759731, id=1694341922052771840, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:34 CST 2023, tickets=null]
2023-08-25 20:10:34.635 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:34.635 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:34.635(Timestamp), 1694341922052771840(Long)
2023-08-25 20:10:34.649 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965434633aly  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:34.649 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965434633aly  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:34.664 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:34.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965434633aly  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:34.664 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.665 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965434633aly  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:34.665 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965434633aly  [0;39m <==      Total: 1
2023-08-25 20:10:34.665 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965434633aly  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:34.665 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965434633aly  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:34.666 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965434633aly  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1a95cd74
2023-08-25 20:10:34.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965434633aly  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:34.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965434633aly  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:34.715 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965434633aly  [0;39m <==    Columns: count(*)
2023-08-25 20:10:34.715 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965434633aly  [0;39m <==        Row: 13874
2023-08-25 20:10:34.716 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965434633aly  [0;39m <==      Total: 1
2023-08-25 20:10:34.716 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965434633aly  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:34.716 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965434633aly  [0;39m 返回结果: {"code":0,"message":"","result":13874,"success":true}
2023-08-25 20:10:34.716 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965434633aly  [0;39m ------------- 结束 耗时：82 ms -------------
2023-08-25 20:10:34.866 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922098909184
2023-08-25 20:10:34.866 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.866 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 63568722, id=1694341922098909184, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:34 CST 2023, tickets=null]
2023-08-25 20:10:34.867 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:34.867 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:34.866(Timestamp), 1694341922098909184(Long)
2023-08-25 20:10:34.897 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:34.898 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.898 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:34.898 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@28ffd565
2023-08-25 20:10:34.899 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:34.899 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:34.914 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:34.914 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:34.915 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:34.915 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:34.915 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1007865394, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:34.915 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:34.915 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:34.915 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1616591393, id=1694341922098909184, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:34 CST 2023, tickets=null]
2023-08-25 20:10:34.916 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:34.916 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:34.915(Timestamp), 1694341922098909184(Long)
2023-08-25 20:10:34.980 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:34.980 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.136 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965435135eid  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:35.136 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965435135eid  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:35.136 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965435135eid  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:35.137 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965435135eid  [0;39m ------------- 开始 -------------
2023-08-25 20:10:35.137 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965435135eid  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:35.137 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965435135eid  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:35.137 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965435135eid  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:35.137 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965435135eid  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:35.138 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965435135eid  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:35.138 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965435135eid  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:35.157 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965435135eid  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:35.157 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965435135eid  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:35.175 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965435135eid  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:35.176 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965435135eid  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:35.176 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965435135eid  [0;39m <==      Total: 1
2023-08-25 20:10:35.176 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965435135eid  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:35.176 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965435135eid  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:35.177 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965435135eid  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@75772a33
2023-08-25 20:10:35.177 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965435135eid  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:35.177 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965435135eid  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:35.182 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922111492096
2023-08-25 20:10:35.182 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.182 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 726248643, id=1694341922111492096, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:35 CST 2023, tickets=null]
2023-08-25 20:10:35.182 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:35.182 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:35.182(Timestamp), 1694341922111492096(Long)
2023-08-25 20:10:35.212 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:35.213 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.213 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:35.213 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@38333ce5
2023-08-25 20:10:35.214 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:35.214 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:35.225 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965435135eid  [0;39m <==    Columns: count(*)
2023-08-25 20:10:35.225 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965435135eid  [0;39m <==        Row: 13873
2023-08-25 20:10:35.226 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965435135eid  [0;39m <==      Total: 1
2023-08-25 20:10:35.226 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965435135eid  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:35.226 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965435135eid  [0;39m 返回结果: {"code":0,"message":"","result":13873,"success":true}
2023-08-25 20:10:35.226 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965435135eid  [0;39m ------------- 结束 耗时：89 ms -------------
2023-08-25 20:10:35.230 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:35.231 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:35.231 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:35.232 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:35.232 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 606339956, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:35.232 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:35.232 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.232 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 562529682, id=1694341922111492096, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:35 CST 2023, tickets=null]
2023-08-25 20:10:35.232 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:35.233 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:35.232(Timestamp), 1694341922111492096(Long)
2023-08-25 20:10:35.263 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:35.264 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.466 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922111492097
2023-08-25 20:10:35.466 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.466 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 783503091, id=1694341922111492097, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:35 CST 2023, tickets=null]
2023-08-25 20:10:35.466 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:35.467 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:35.466(Timestamp), 1694341922111492097(Long)
2023-08-25 20:10:35.495 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:35.496 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.496 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:35.496 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@37be6c24
2023-08-25 20:10:35.497 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:35.497 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:35.513 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:35.514 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:35.515 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:35.515 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:35.515 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 295980486, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:35.515 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:35.515 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.515 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2113908567, id=1694341922111492097, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:35 CST 2023, tickets=null]
2023-08-25 20:10:35.516 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:35.516 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:35.515(Timestamp), 1694341922111492097(Long)
2023-08-25 20:10:35.544 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:35.545 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.545 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:35.545 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3eedb9e6
2023-08-25 20:10:35.548 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:35.548 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:35.591 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:35.591 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13872
2023-08-25 20:10:35.591 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:35.592 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:35.592 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:35.614 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:35.615 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922145046528, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.247, 2023-08-23 21:32:48.247, <<BLOB>>
2023-08-25 20:10:35.615 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922161823744, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.251, 2023-08-23 21:32:48.251, <<BLOB>>
2023-08-25 20:10:35.616 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922166018048, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.252, 2023-08-23 21:32:48.252, <<BLOB>>
2023-08-25 20:10:35.616 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922195378176, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.259, 2023-08-23 21:32:48.259, <<BLOB>>
2023-08-25 20:10:35.617 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922207961088, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.262, 2023-08-23 21:32:48.262, <<BLOB>>
2023-08-25 20:10:35.617 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:35.617 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:35.617 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:35.635 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965435635n8u  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:35.636 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965435635n8u  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:35.636 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965435635n8u  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:35.636 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965435635n8u  [0;39m ------------- 开始 -------------
2023-08-25 20:10:35.636 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965435635n8u  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:35.637 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965435635n8u  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:35.637 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965435635n8u  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:35.637 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965435635n8u  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:35.637 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965435635n8u  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:35.637 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965435635n8u  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:35.655 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965435635n8u  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:35.656 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965435635n8u  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:35.672 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965435635n8u  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:35.673 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965435635n8u  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:35.673 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965435635n8u  [0;39m <==      Total: 1
2023-08-25 20:10:35.674 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965435635n8u  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:35.674 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965435635n8u  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:35.674 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965435635n8u  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@62321b52
2023-08-25 20:10:35.675 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965435635n8u  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:35.675 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965435635n8u  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:35.721 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965435635n8u  [0;39m <==    Columns: count(*)
2023-08-25 20:10:35.721 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965435635n8u  [0;39m <==        Row: 13871
2023-08-25 20:10:35.721 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965435635n8u  [0;39m <==      Total: 1
2023-08-25 20:10:35.722 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965435635n8u  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:35.722 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965435635n8u  [0;39m 返回结果: {"code":0,"message":"","result":13871,"success":true}
2023-08-25 20:10:35.722 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965435635n8u  [0;39m ------------- 结束 耗时：86 ms -------------
2023-08-25 20:10:35.819 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922145046528
2023-08-25 20:10:35.819 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.819 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1182853554, id=1694341922145046528, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:35 CST 2023, tickets=null]
2023-08-25 20:10:35.819 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:35.820 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:35.819(Timestamp), 1694341922145046528(Long)
2023-08-25 20:10:35.852 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:35.852 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.852 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:35.852 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6a36e57d
2023-08-25 20:10:35.853 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:35.853 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:35.868 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:35.869 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:35.869 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:35.869 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:35.870 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 878143728, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:35.870 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:35.870 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:35.870 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1994908793, id=1694341922145046528, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:35 CST 2023, tickets=null]
2023-08-25 20:10:35.870 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:35.870 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:35.87(Timestamp), 1694341922145046528(Long)
2023-08-25 20:10:35.902 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:35.902 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.104 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922161823744
2023-08-25 20:10:36.104 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.104 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 12808931, id=1694341922161823744, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:36 CST 2023, tickets=null]
2023-08-25 20:10:36.104 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:36.105 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:36.104(Timestamp), 1694341922161823744(Long)
2023-08-25 20:10:36.138 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654361380rb  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:36.138 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654361380rb  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:36.138 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654361380rb  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:36.139 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654361380rb  [0;39m ------------- 开始 -------------
2023-08-25 20:10:36.139 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654361380rb  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:36.139 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654361380rb  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:36.139 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654361380rb  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:36.139 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654361380rb  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:36.139 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654361380rb  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:36.139 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654361380rb  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:36.140 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:36.140 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.140 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:36.140 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4651735d
2023-08-25 20:10:36.141 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:36.141 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:36.153 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654361380rb  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:36.153 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654361380rb  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:36.156 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:36.157 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:36.157 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:36.157 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:36.157 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1241218255, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:36.157 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:36.157 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.158 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 580615313, id=1694341922161823744, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:36 CST 2023, tickets=null]
2023-08-25 20:10:36.158 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:36.158 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:36.157(Timestamp), 1694341922161823744(Long)
2023-08-25 20:10:36.168 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654361380rb  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:36.169 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654361380rb  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:36.169 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654361380rb  [0;39m <==      Total: 1
2023-08-25 20:10:36.169 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654361380rb  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:36.170 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654361380rb  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:36.170 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654361380rb  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@38001a5f
2023-08-25 20:10:36.171 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654361380rb  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:36.171 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654361380rb  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:36.187 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:36.187 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654361380rb  [0;39m <==    Columns: count(*)
2023-08-25 20:10:36.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654361380rb  [0;39m <==        Row: 13870
2023-08-25 20:10:36.223 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654361380rb  [0;39m <==      Total: 1
2023-08-25 20:10:36.224 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654361380rb  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:36.224 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654361380rb  [0;39m 返回结果: {"code":0,"message":"","result":13870,"success":true}
2023-08-25 20:10:36.224 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654361380rb  [0;39m ------------- 结束 耗时：85 ms -------------
2023-08-25 20:10:36.389 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922166018048
2023-08-25 20:10:36.389 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.389 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 530155967, id=1694341922166018048, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:36 CST 2023, tickets=null]
2023-08-25 20:10:36.389 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:36.389 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:36.389(Timestamp), 1694341922166018048(Long)
2023-08-25 20:10:36.445 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:36.445 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.445 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:36.445 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@74100940
2023-08-25 20:10:36.446 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:36.447 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:36.463 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:36.464 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:36.464 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:36.464 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:36.465 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 558655817, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:36.465 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:36.465 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.465 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 419421276, id=1694341922166018048, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:36 CST 2023, tickets=null]
2023-08-25 20:10:36.465 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:36.466 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:36.465(Timestamp), 1694341922166018048(Long)
2023-08-25 20:10:36.495 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:36.495 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.642 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965436642w63  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:36.643 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965436642w63  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:36.643 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965436642w63  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:36.643 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965436642w63  [0;39m ------------- 开始 -------------
2023-08-25 20:10:36.644 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965436642w63  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:36.644 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965436642w63  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:36.644 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965436642w63  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:36.644 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965436642w63  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:36.644 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965436642w63  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:36.644 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965436642w63  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:36.657 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965436642w63  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:36.658 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965436642w63  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:36.672 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965436642w63  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:36.672 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965436642w63  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:36.672 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965436642w63  [0;39m <==      Total: 1
2023-08-25 20:10:36.673 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965436642w63  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:36.673 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965436642w63  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:36.673 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965436642w63  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@14ff152d
2023-08-25 20:10:36.674 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965436642w63  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:36.674 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965436642w63  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:36.696 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922195378176
2023-08-25 20:10:36.696 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.696 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1084259948, id=1694341922195378176, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:36 CST 2023, tickets=null]
2023-08-25 20:10:36.697 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:36.698 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:36.696(Timestamp), 1694341922195378176(Long)
2023-08-25 20:10:36.717 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965436642w63  [0;39m <==    Columns: count(*)
2023-08-25 20:10:36.718 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965436642w63  [0;39m <==        Row: 13868
2023-08-25 20:10:36.718 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965436642w63  [0;39m <==      Total: 1
2023-08-25 20:10:36.718 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965436642w63  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:36.718 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965436642w63  [0;39m 返回结果: {"code":0,"message":"","result":13868,"success":true}
2023-08-25 20:10:36.718 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965436642w63  [0;39m ------------- 结束 耗时：75 ms -------------
2023-08-25 20:10:36.739 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:36.740 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.740 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:36.740 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@649f702c
2023-08-25 20:10:36.741 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:36.741 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:36.766 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:36.767 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:36.767 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:36.767 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:36.767 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1205755026, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:36.768 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:36.768 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:36.768 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1737685416, id=1694341922195378176, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:36 CST 2023, tickets=null]
2023-08-25 20:10:36.768 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:36.768 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:36.768(Timestamp), 1694341922195378176(Long)
2023-08-25 20:10:36.817 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:36.818 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.019 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922207961088
2023-08-25 20:10:37.019 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.019 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 203614420, id=1694341922207961088, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:37 CST 2023, tickets=null]
2023-08-25 20:10:37.019 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:37.019 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:37.019(Timestamp), 1694341922207961088(Long)
2023-08-25 20:10:37.050 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:37.056 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.056 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:37.056 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4902fe3a
2023-08-25 20:10:37.056 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:37.057 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:37.072 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:37.073 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:37.073 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:37.073 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:37.073 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 894590446, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:37.073 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:37.074 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.074 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1691771189, id=1694341922207961088, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:37 CST 2023, tickets=null]
2023-08-25 20:10:37.074 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:37.074 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:37.074(Timestamp), 1694341922207961088(Long)
2023-08-25 20:10:37.105 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:37.105 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.105 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:37.105 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7fb6e30f
2023-08-25 20:10:37.107 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:37.107 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:37.135 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654371357kx  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:37.135 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654371357kx  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:37.135 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654371357kx  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:37.136 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654371357kx  [0;39m ------------- 开始 -------------
2023-08-25 20:10:37.136 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654371357kx  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:37.136 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654371357kx  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:37.136 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654371357kx  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:37.136 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654371357kx  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:37.136 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654371357kx  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:37.136 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654371357kx  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:37.153 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:37.153 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13867
2023-08-25 20:10:37.153 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:37.153 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:37.153 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:37.154 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654371357kx  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:37.154 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654371357kx  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:37.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654371357kx  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:37.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654371357kx  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:37.172 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654371357kx  [0;39m <==      Total: 1
2023-08-25 20:10:37.173 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654371357kx  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:37.173 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654371357kx  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:37.173 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654371357kx  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@31b307fc
2023-08-25 20:10:37.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654371357kx  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:37.174 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654371357kx  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:37.182 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:37.183 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922279264256, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.279, 2023-08-23 21:32:48.279, <<BLOB>>
2023-08-25 20:10:37.183 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922325401600, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.290, 2023-08-23 21:32:48.290, <<BLOB>>
2023-08-25 20:10:37.183 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922375733248, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.302, 2023-08-23 21:32:48.302, <<BLOB>>
2023-08-25 20:10:37.184 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922375733249, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.302, 2023-08-23 21:32:48.302, <<BLOB>>
2023-08-25 20:10:37.185 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922375733250, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.302, 2023-08-23 21:32:48.302, <<BLOB>>
2023-08-25 20:10:37.185 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:37.185 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:37.185 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:37.272 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654371357kx  [0;39m <==    Columns: count(*)
2023-08-25 20:10:37.272 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654371357kx  [0;39m <==        Row: 13866
2023-08-25 20:10:37.273 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654371357kx  [0;39m <==      Total: 1
2023-08-25 20:10:37.273 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654371357kx  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:37.273 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654371357kx  [0;39m 返回结果: {"code":0,"message":"","result":13866,"success":true}
2023-08-25 20:10:37.273 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654371357kx  [0;39m ------------- 结束 耗时：137 ms -------------
2023-08-25 20:10:37.388 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922279264256
2023-08-25 20:10:37.388 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.388 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 551243367, id=1694341922279264256, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:37 CST 2023, tickets=null]
2023-08-25 20:10:37.388 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:37.388 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:37.388(Timestamp), 1694341922279264256(Long)
2023-08-25 20:10:37.417 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:37.417 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.417 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:37.417 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@372bfb25
2023-08-25 20:10:37.417 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:37.418 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:37.436 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:37.437 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:37.437 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:37.437 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:37.438 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1315989879, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:37.438 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:37.438 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.438 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 947185960, id=1694341922279264256, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:37 CST 2023, tickets=null]
2023-08-25 20:10:37.438 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:37.438 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:37.438(Timestamp), 1694341922279264256(Long)
2023-08-25 20:10:37.469 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:37.470 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.632 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654376327m9  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:37.632 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654376327m9  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:37.632 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654376327m9  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:37.632 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654376327m9  [0;39m ------------- 开始 -------------
2023-08-25 20:10:37.632 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654376327m9  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:37.633 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654376327m9  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:37.633 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654376327m9  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:37.633 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654376327m9  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:37.633 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654376327m9  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:37.633 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654376327m9  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:37.649 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654376327m9  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:37.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654376327m9  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:37.666 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654376327m9  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:37.667 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654376327m9  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:37.668 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654376327m9  [0;39m <==      Total: 1
2023-08-25 20:10:37.668 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654376327m9  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:37.668 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654376327m9  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:37.668 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654376327m9  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@eb652ea
2023-08-25 20:10:37.669 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654376327m9  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:37.670 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654376327m9  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:37.671 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922325401600
2023-08-25 20:10:37.671 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.671 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1910692254, id=1694341922325401600, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:37 CST 2023, tickets=null]
2023-08-25 20:10:37.672 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:37.672 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:37.671(Timestamp), 1694341922325401600(Long)
2023-08-25 20:10:37.701 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:37.701 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.701 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:37.701 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2336ae17
2023-08-25 20:10:37.702 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:37.702 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:37.717 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:37.718 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:37.718 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654376327m9  [0;39m <==    Columns: count(*)
2023-08-25 20:10:37.718 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654376327m9  [0;39m <==        Row: 13865
2023-08-25 20:10:37.718 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654376327m9  [0;39m <==      Total: 1
2023-08-25 20:10:37.719 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:37.719 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654376327m9  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:37.719 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:37.719 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654376327m9  [0;39m 返回结果: {"code":0,"message":"","result":13865,"success":true}
2023-08-25 20:10:37.720 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1649009385, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:37.720 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654376327m9  [0;39m ------------- 结束 耗时：88 ms -------------
2023-08-25 20:10:37.720 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:37.720 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.720 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2141724585, id=1694341922325401600, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:37 CST 2023, tickets=null]
2023-08-25 20:10:37.721 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:37.721 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:37.72(Timestamp), 1694341922325401600(Long)
2023-08-25 20:10:37.750 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:37.751 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.951 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922375733248
2023-08-25 20:10:37.951 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.951 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1809184537, id=1694341922375733248, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:37 CST 2023, tickets=null]
2023-08-25 20:10:37.952 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:37.952 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:37.951(Timestamp), 1694341922375733248(Long)
2023-08-25 20:10:37.982 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:37.982 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:37.982 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:37.983 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@79cc040a
2023-08-25 20:10:37.983 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:37.984 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:38.012 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:38.012 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:38.013 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:38.013 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:38.013 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 372539827, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:38.014 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:38.014 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.015 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1620396635, id=1694341922375733248, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:38 CST 2023, tickets=null]
2023-08-25 20:10:38.015 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:38.015 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:38.014(Timestamp), 1694341922375733248(Long)
2023-08-25 20:10:38.056 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:38.057 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.126 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965438126zo2  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:38.127 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965438126zo2  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:38.127 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965438126zo2  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:38.127 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965438126zo2  [0;39m ------------- 开始 -------------
2023-08-25 20:10:38.127 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965438126zo2  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:38.127 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965438126zo2  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:38.127 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965438126zo2  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:38.127 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965438126zo2  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:38.128 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965438126zo2  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:38.128 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965438126zo2  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:38.144 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965438126zo2  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:38.144 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965438126zo2  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:38.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965438126zo2  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:38.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965438126zo2  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:38.161 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965438126zo2  [0;39m <==      Total: 1
2023-08-25 20:10:38.161 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965438126zo2  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:38.162 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965438126zo2  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:38.162 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965438126zo2  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@611a88ff
2023-08-25 20:10:38.163 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965438126zo2  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:38.164 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965438126zo2  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:38.212 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965438126zo2  [0;39m <==    Columns: count(*)
2023-08-25 20:10:38.213 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965438126zo2  [0;39m <==        Row: 13863
2023-08-25 20:10:38.213 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965438126zo2  [0;39m <==      Total: 1
2023-08-25 20:10:38.213 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965438126zo2  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:38.214 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965438126zo2  [0;39m 返回结果: {"code":0,"message":"","result":13863,"success":true}
2023-08-25 20:10:38.214 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965438126zo2  [0;39m ------------- 结束 耗时：87 ms -------------
2023-08-25 20:10:38.257 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922375733249
2023-08-25 20:10:38.257 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.257 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1167018772, id=1694341922375733249, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:38 CST 2023, tickets=null]
2023-08-25 20:10:38.257 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:38.258 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:38.257(Timestamp), 1694341922375733249(Long)
2023-08-25 20:10:38.292 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:38.292 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.292 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:38.292 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3d093836
2023-08-25 20:10:38.293 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:38.293 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:38.314 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:38.314 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:38.315 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:38.315 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:38.315 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2081381717, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:38.315 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:38.315 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.315 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 684180928, id=1694341922375733249, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:38 CST 2023, tickets=null]
2023-08-25 20:10:38.315 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:38.316 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:38.315(Timestamp), 1694341922375733249(Long)
2023-08-25 20:10:38.346 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:38.346 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.547 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922375733250
2023-08-25 20:10:38.547 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.547 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 615148534, id=1694341922375733250, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:38 CST 2023, tickets=null]
2023-08-25 20:10:38.548 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:38.548 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:38.547(Timestamp), 1694341922375733250(Long)
2023-08-25 20:10:38.582 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:38.582 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.582 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:38.582 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@34b6479f
2023-08-25 20:10:38.583 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:38.583 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:38.616 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:38.617 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:38.618 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:38.618 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:38.618 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1137455467, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:38.618 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:38.618 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.618 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 705849782, id=1694341922375733250, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:38 CST 2023, tickets=null]
2023-08-25 20:10:38.619 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:38.619 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:38.618(Timestamp), 1694341922375733250(Long)
2023-08-25 20:10:38.638 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965438638rtj  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:38.638 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965438638rtj  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:38.638 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965438638rtj  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:38.639 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965438638rtj  [0;39m ------------- 开始 -------------
2023-08-25 20:10:38.639 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965438638rtj  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:38.640 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965438638rtj  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:38.640 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965438638rtj  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:38.640 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965438638rtj  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:38.640 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965438638rtj  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:38.640 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965438638rtj  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:38.654 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965438638rtj  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:38.654 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965438638rtj  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:38.668 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:38.668 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965438638rtj  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:38.669 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.669 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:38.669 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@68daadf9
2023-08-25 20:10:38.669 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965438638rtj  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:38.670 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965438638rtj  [0;39m <==      Total: 1
2023-08-25 20:10:38.670 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965438638rtj  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:38.670 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965438638rtj  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:38.671 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965438638rtj  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@753b1d55
2023-08-25 20:10:38.671 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965438638rtj  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:38.672 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965438638rtj  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:38.672 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:38.673 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:38.764 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:38.764 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13862
2023-08-25 20:10:38.764 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:38.764 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:38.765 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:38.767 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965438638rtj  [0;39m <==    Columns: count(*)
2023-08-25 20:10:38.768 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965438638rtj  [0;39m <==        Row: 13861
2023-08-25 20:10:38.768 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965438638rtj  [0;39m <==      Total: 1
2023-08-25 20:10:38.768 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965438638rtj  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:38.769 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965438638rtj  [0;39m 返回结果: {"code":0,"message":"","result":13861,"success":true}
2023-08-25 20:10:38.769 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965438638rtj  [0;39m ------------- 结束 耗时：130 ms -------------
2023-08-25 20:10:38.787 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:38.788 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922379927552, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.303, 2023-08-23 21:32:48.303, <<BLOB>>
2023-08-25 20:10:38.788 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922388316160, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.305, 2023-08-23 21:32:48.305, <<BLOB>>
2023-08-25 20:10:38.788 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922396704768, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.307, 2023-08-23 21:32:48.307, <<BLOB>>
2023-08-25 20:10:38.789 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922405093376, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.309, 2023-08-23 21:32:48.309, <<BLOB>>
2023-08-25 20:10:38.790 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922405093377, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.309, 2023-08-23 21:32:48.309, <<BLOB>>
2023-08-25 20:10:38.790 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:38.790 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:38.791 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:38.992 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922379927552
2023-08-25 20:10:38.992 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:38.992 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 274690984, id=1694341922379927552, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:38 CST 2023, tickets=null]
2023-08-25 20:10:38.992 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:38.992 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:38.992(Timestamp), 1694341922379927552(Long)
2023-08-25 20:10:39.025 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:39.025 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.025 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:39.026 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1d4d3510
2023-08-25 20:10:39.026 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:39.026 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:39.041 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:39.041 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:39.042 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:39.042 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:39.042 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1721197389, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:39.042 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:39.043 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.043 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1235730189, id=1694341922379927552, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:39 CST 2023, tickets=null]
2023-08-25 20:10:39.043 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:39.043 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:39.042(Timestamp), 1694341922379927552(Long)
2023-08-25 20:10:39.077 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:39.077 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.136 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965439136dpy  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:39.136 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965439136dpy  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:39.136 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965439136dpy  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:39.136 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965439136dpy  [0;39m ------------- 开始 -------------
2023-08-25 20:10:39.137 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965439136dpy  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:39.137 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965439136dpy  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:39.137 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965439136dpy  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:39.137 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965439136dpy  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:39.137 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965439136dpy  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:39.137 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965439136dpy  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:39.137 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965439136dpy  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:39.137 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965439136dpy  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:39.150 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965439136dpy  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:39.151 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965439136dpy  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:39.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965439136dpy  [0;39m <==      Total: 1
2023-08-25 20:10:39.154 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965439136dpy  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:39.155 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965439136dpy  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:39.155 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965439136dpy  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@41eca7ff
2023-08-25 20:10:39.155 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965439136dpy  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:39.156 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965439136dpy  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:39.201 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965439136dpy  [0;39m <==    Columns: count(*)
2023-08-25 20:10:39.202 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965439136dpy  [0;39m <==        Row: 13860
2023-08-25 20:10:39.202 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965439136dpy  [0;39m <==      Total: 1
2023-08-25 20:10:39.203 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965439136dpy  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:39.203 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965439136dpy  [0;39m 返回结果: {"code":0,"message":"","result":13860,"success":true}
2023-08-25 20:10:39.204 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965439136dpy  [0;39m ------------- 结束 耗时：68 ms -------------
2023-08-25 20:10:39.280 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922388316160
2023-08-25 20:10:39.280 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.280 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1156210624, id=1694341922388316160, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:39 CST 2023, tickets=null]
2023-08-25 20:10:39.281 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:39.281 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:39.28(Timestamp), 1694341922388316160(Long)
2023-08-25 20:10:39.314 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:39.314 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.315 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:39.315 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6d115ae6
2023-08-25 20:10:39.315 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:39.315 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:39.359 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:39.359 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:39.360 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:39.360 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:39.360 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1897596082, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:39.360 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:39.360 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.360 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1046884755, id=1694341922388316160, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:39 CST 2023, tickets=null]
2023-08-25 20:10:39.360 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:39.361 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:39.36(Timestamp), 1694341922388316160(Long)
2023-08-25 20:10:39.390 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:39.391 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.591 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922396704768
2023-08-25 20:10:39.591 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.591 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1961731462, id=1694341922396704768, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:39 CST 2023, tickets=null]
2023-08-25 20:10:39.591 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:39.592 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:39.591(Timestamp), 1694341922396704768(Long)
2023-08-25 20:10:39.628 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:39.629 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.629 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:39.629 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@529f49b8
2023-08-25 20:10:39.630 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:39.630 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:39.633 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654396334ho  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:39.633 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654396334ho  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:39.633 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654396334ho  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:39.634 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654396334ho  [0;39m ------------- 开始 -------------
2023-08-25 20:10:39.634 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654396334ho  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:39.634 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654396334ho  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:39.634 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654396334ho  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:39.634 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654396334ho  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:39.634 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654396334ho  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:39.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654396334ho  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:39.645 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:39.646 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:39.647 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:39.647 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:39.647 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 775127748, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:39.647 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:39.647 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.647 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 592289238, id=1694341922396704768, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:39 CST 2023, tickets=null]
2023-08-25 20:10:39.648 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:39.648 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:39.647(Timestamp), 1694341922396704768(Long)
2023-08-25 20:10:39.649 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654396334ho  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:39.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654396334ho  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:39.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654396334ho  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:39.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654396334ho  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:39.664 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654396334ho  [0;39m <==      Total: 1
2023-08-25 20:10:39.665 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654396334ho  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:39.665 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654396334ho  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:39.665 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654396334ho  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3a63fbc6
2023-08-25 20:10:39.665 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654396334ho  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:39.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654396334ho  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:39.677 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:39.678 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.714 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654396334ho  [0;39m <==    Columns: count(*)
2023-08-25 20:10:39.715 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654396334ho  [0;39m <==        Row: 13858
2023-08-25 20:10:39.715 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654396334ho  [0;39m <==      Total: 1
2023-08-25 20:10:39.715 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654396334ho  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:39.715 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654396334ho  [0;39m 返回结果: {"code":0,"message":"","result":13858,"success":true}
2023-08-25 20:10:39.715 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654396334ho  [0;39m ------------- 结束 耗时：81 ms -------------
2023-08-25 20:10:39.879 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922405093376
2023-08-25 20:10:39.879 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.879 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1655974226, id=1694341922405093376, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:39 CST 2023, tickets=null]
2023-08-25 20:10:39.880 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:39.880 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:39.879(Timestamp), 1694341922405093376(Long)
2023-08-25 20:10:39.912 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:39.913 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.913 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:39.913 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1f4f369d
2023-08-25 20:10:39.913 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:39.914 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:39.934 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:39.935 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:39.935 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:39.935 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:39.936 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1776613112, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:39.936 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:39.936 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:39.936 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 605681924, id=1694341922405093376, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:39 CST 2023, tickets=null]
2023-08-25 20:10:39.936 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:39.936 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:39.936(Timestamp), 1694341922405093376(Long)
2023-08-25 20:10:39.972 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:39.973 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.138 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965440138fty  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:40.138 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965440138fty  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:40.138 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965440138fty  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:40.139 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965440138fty  [0;39m ------------- 开始 -------------
2023-08-25 20:10:40.139 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965440138fty  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:40.139 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965440138fty  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:40.140 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965440138fty  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:40.140 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965440138fty  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:40.140 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965440138fty  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:40.140 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965440138fty  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:40.159 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965440138fty  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:40.159 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965440138fty  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:40.174 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922405093377
2023-08-25 20:10:40.174 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.174 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 622387128, id=1694341922405093377, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:40 CST 2023, tickets=null]
2023-08-25 20:10:40.174 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:40.174 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:40.174(Timestamp), 1694341922405093377(Long)
2023-08-25 20:10:40.177 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965440138fty  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:40.177 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965440138fty  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:40.178 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965440138fty  [0;39m <==      Total: 1
2023-08-25 20:10:40.179 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965440138fty  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:40.179 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965440138fty  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:40.179 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965440138fty  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@e57caec
2023-08-25 20:10:40.180 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965440138fty  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:40.181 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965440138fty  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:40.204 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:40.204 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.205 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:40.205 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3fab78
2023-08-25 20:10:40.205 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:40.206 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:40.221 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:40.222 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:40.222 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:40.223 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:40.223 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 119535479, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:40.231 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:40.231 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965440138fty  [0;39m <==    Columns: count(*)
2023-08-25 20:10:40.231 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.231 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1101697623, id=1694341922405093377, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:40 CST 2023, tickets=null]
2023-08-25 20:10:40.231 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965440138fty  [0;39m <==        Row: 13857
2023-08-25 20:10:40.231 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965440138fty  [0;39m <==      Total: 1
2023-08-25 20:10:40.231 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:40.231 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965440138fty  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:40.231 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:40.231(Timestamp), 1694341922405093377(Long)
2023-08-25 20:10:40.232 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965440138fty  [0;39m 返回结果: {"code":0,"message":"","result":13857,"success":true}
2023-08-25 20:10:40.232 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965440138fty  [0;39m ------------- 结束 耗时：93 ms -------------
2023-08-25 20:10:40.262 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:40.262 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.263 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:40.263 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@100c883d
2023-08-25 20:10:40.265 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:40.266 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:40.313 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:40.313 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13857
2023-08-25 20:10:40.313 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:40.313 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:40.313 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:40.335 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:40.335 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922426064896, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.314, 2023-08-23 21:32:48.314, <<BLOB>>
2023-08-25 20:10:40.336 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922455425024, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.321, 2023-08-23 21:32:48.321, <<BLOB>>
2023-08-25 20:10:40.336 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922476396544, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.326, 2023-08-23 21:32:48.326, <<BLOB>>
2023-08-25 20:10:40.337 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922476396545, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.326, 2023-08-23 21:32:48.326, <<BLOB>>
2023-08-25 20:10:40.337 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922476396546, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.326, 2023-08-23 21:32:48.326, <<BLOB>>
2023-08-25 20:10:40.337 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:40.337 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:40.337 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:40.538 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922426064896
2023-08-25 20:10:40.538 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.538 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 704434757, id=1694341922426064896, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:40 CST 2023, tickets=null]
2023-08-25 20:10:40.538 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:40.538 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:40.538(Timestamp), 1694341922426064896(Long)
2023-08-25 20:10:40.571 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:40.572 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.572 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:40.572 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@54573ef3
2023-08-25 20:10:40.573 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:40.573 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:40.589 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:40.590 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:40.590 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:40.590 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:40.591 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1768206538, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:40.591 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:40.591 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.591 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1373812207, id=1694341922426064896, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:40 CST 2023, tickets=null]
2023-08-25 20:10:40.591 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:40.591 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:40.591(Timestamp), 1694341922426064896(Long)
2023-08-25 20:10:40.620 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:40.621 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.629 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965440629ce8  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:40.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965440629ce8  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:40.630 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965440629ce8  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:40.630 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965440629ce8  [0;39m ------------- 开始 -------------
2023-08-25 20:10:40.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965440629ce8  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:40.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965440629ce8  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:40.630 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965440629ce8  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:40.630 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965440629ce8  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:40.631 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965440629ce8  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:40.631 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965440629ce8  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:40.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965440629ce8  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:40.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965440629ce8  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:40.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965440629ce8  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:40.665 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965440629ce8  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:40.665 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965440629ce8  [0;39m <==      Total: 1
2023-08-25 20:10:40.666 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965440629ce8  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:40.666 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965440629ce8  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:40.667 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965440629ce8  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@68ef5511
2023-08-25 20:10:40.668 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965440629ce8  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:40.668 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965440629ce8  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:40.734 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965440629ce8  [0;39m <==    Columns: count(*)
2023-08-25 20:10:40.735 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965440629ce8  [0;39m <==        Row: 13855
2023-08-25 20:10:40.735 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965440629ce8  [0;39m <==      Total: 1
2023-08-25 20:10:40.735 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965440629ce8  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:40.736 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965440629ce8  [0;39m 返回结果: {"code":0,"message":"","result":13855,"success":true}
2023-08-25 20:10:40.736 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965440629ce8  [0;39m ------------- 结束 耗时：106 ms -------------
2023-08-25 20:10:40.822 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922455425024
2023-08-25 20:10:40.822 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.822 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 870332134, id=1694341922455425024, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:40 CST 2023, tickets=null]
2023-08-25 20:10:40.822 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:40.822 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:40.822(Timestamp), 1694341922455425024(Long)
2023-08-25 20:10:40.857 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:40.857 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.857 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:40.857 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3bc7ad6b
2023-08-25 20:10:40.858 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:40.858 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:40.875 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:40.875 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:40.876 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:40.876 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:40.876 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1208000176, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:40.876 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:40.876 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:40.876 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1188392626, id=1694341922455425024, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:40 CST 2023, tickets=null]
2023-08-25 20:10:40.877 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:40.877 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:40.876(Timestamp), 1694341922455425024(Long)
2023-08-25 20:10:40.906 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:40.906 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.109 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922476396544
2023-08-25 20:10:41.109 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.109 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 349106885, id=1694341922476396544, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:41 CST 2023, tickets=null]
2023-08-25 20:10:41.109 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:41.109 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:41.109(Timestamp), 1694341922476396544(Long)
2023-08-25 20:10:41.141 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965441141nxh  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:41.141 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965441141nxh  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:41.141 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:41.141 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965441141nxh  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:41.142 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.142 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:41.142 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@35ba5ea0
2023-08-25 20:10:41.142 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965441141nxh  [0;39m ------------- 开始 -------------
2023-08-25 20:10:41.143 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965441141nxh  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:41.143 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965441141nxh  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:41.143 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965441141nxh  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:41.143 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:41.143 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965441141nxh  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:41.143 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:41.143 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965441141nxh  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:41.143 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965441141nxh  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:41.159 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965441141nxh  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:41.159 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:41.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965441141nxh  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:41.160 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:41.160 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:41.161 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:41.161 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1874351329, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:41.161 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:41.162 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.162 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 267450991, id=1694341922476396544, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:41 CST 2023, tickets=null]
2023-08-25 20:10:41.162 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:41.162 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:41.162(Timestamp), 1694341922476396544(Long)
2023-08-25 20:10:41.173 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965441141nxh  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:41.174 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965441141nxh  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:41.175 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965441141nxh  [0;39m <==      Total: 1
2023-08-25 20:10:41.175 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965441141nxh  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:41.175 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965441141nxh  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:41.175 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965441141nxh  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2d51a81c
2023-08-25 20:10:41.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965441141nxh  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:41.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965441141nxh  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:41.194 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:41.194 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.221 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965441141nxh  [0;39m <==    Columns: count(*)
2023-08-25 20:10:41.222 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965441141nxh  [0;39m <==        Row: 13854
2023-08-25 20:10:41.222 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965441141nxh  [0;39m <==      Total: 1
2023-08-25 20:10:41.222 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965441141nxh  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:41.223 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965441141nxh  [0;39m 返回结果: {"code":0,"message":"","result":13854,"success":true}
2023-08-25 20:10:41.223 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965441141nxh  [0;39m ------------- 结束 耗时：81 ms -------------
2023-08-25 20:10:41.397 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922476396545
2023-08-25 20:10:41.397 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.397 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2054318253, id=1694341922476396545, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:41 CST 2023, tickets=null]
2023-08-25 20:10:41.398 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:41.398 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:41.397(Timestamp), 1694341922476396545(Long)
2023-08-25 20:10:41.427 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:41.427 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.428 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:41.428 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5f6b9f4b
2023-08-25 20:10:41.429 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:41.429 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:41.444 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:41.444 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:41.445 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:41.445 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:41.445 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 420558079, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:41.446 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:41.446 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.446 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1327857991, id=1694341922476396545, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:41 CST 2023, tickets=null]
2023-08-25 20:10:41.446 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:41.446 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:41.446(Timestamp), 1694341922476396545(Long)
2023-08-25 20:10:41.477 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:41.478 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.641 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965441641yhs  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:41.642 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965441641yhs  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:41.642 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965441641yhs  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:41.643 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965441641yhs  [0;39m ------------- 开始 -------------
2023-08-25 20:10:41.643 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965441641yhs  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:41.643 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965441641yhs  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:41.643 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965441641yhs  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:41.643 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965441641yhs  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:41.643 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965441641yhs  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:41.643 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965441641yhs  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:41.656 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965441641yhs  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:41.657 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965441641yhs  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:41.671 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965441641yhs  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:41.671 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965441641yhs  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:41.672 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965441641yhs  [0;39m <==      Total: 1
2023-08-25 20:10:41.672 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965441641yhs  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:41.673 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965441641yhs  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:41.673 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965441641yhs  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3f13d479
2023-08-25 20:10:41.673 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965441641yhs  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:41.674 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965441641yhs  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:41.678 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922476396546
2023-08-25 20:10:41.678 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.679 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1142597431, id=1694341922476396546, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:41 CST 2023, tickets=null]
2023-08-25 20:10:41.679 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:41.679 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:41.678(Timestamp), 1694341922476396546(Long)
2023-08-25 20:10:41.716 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:41.717 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.717 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:41.717 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@377049ee
2023-08-25 20:10:41.717 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:41.718 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:41.718 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965441641yhs  [0;39m <==    Columns: count(*)
2023-08-25 20:10:41.719 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965441641yhs  [0;39m <==        Row: 13852
2023-08-25 20:10:41.719 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965441641yhs  [0;39m <==      Total: 1
2023-08-25 20:10:41.719 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965441641yhs  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:41.719 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965441641yhs  [0;39m 返回结果: {"code":0,"message":"","result":13852,"success":true}
2023-08-25 20:10:41.719 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965441641yhs  [0;39m ------------- 结束 耗时：76 ms -------------
2023-08-25 20:10:41.746 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:41.747 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:41.748 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:41.748 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:41.748 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1425447689, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:41.748 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:41.748 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.748 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1716841709, id=1694341922476396546, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:41 CST 2023, tickets=null]
2023-08-25 20:10:41.749 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:41.749 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:41.748(Timestamp), 1694341922476396546(Long)
2023-08-25 20:10:41.791 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:41.791 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:41.791 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:41.791 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3306b365
2023-08-25 20:10:41.793 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:41.793 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:41.860 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:41.860 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13852
2023-08-25 20:10:41.861 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:41.861 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:41.862 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:41.886 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:41.887 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922480590848, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.327, 2023-08-23 21:32:48.327, <<BLOB>>
2023-08-25 20:10:41.888 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922526728192, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.338, 2023-08-23 21:32:48.338, <<BLOB>>
2023-08-25 20:10:41.888 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922539311104, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.341, 2023-08-23 21:32:48.341, <<BLOB>>
2023-08-25 20:10:41.889 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922556088320, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.345, 2023-08-23 21:32:48.345, <<BLOB>>
2023-08-25 20:10:41.889 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922560282624, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.346, 2023-08-23 21:32:48.346, <<BLOB>>
2023-08-25 20:10:41.889 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:41.890 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:41.890 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:42.091 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922480590848
2023-08-25 20:10:42.091 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.091 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 820836414, id=1694341922480590848, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:42 CST 2023, tickets=null]
2023-08-25 20:10:42.091 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:42.092 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:42.091(Timestamp), 1694341922480590848(Long)
2023-08-25 20:10:42.126 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:42.126 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.126 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:42.127 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@64225db0
2023-08-25 20:10:42.127 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:42.128 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:42.137 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965442137zqp  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:42.139 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965442137zqp  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:42.139 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965442137zqp  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:42.139 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965442137zqp  [0;39m ------------- 开始 -------------
2023-08-25 20:10:42.139 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965442137zqp  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:42.139 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965442137zqp  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:42.140 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965442137zqp  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:42.140 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965442137zqp  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:42.140 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965442137zqp  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:42.140 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965442137zqp  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:42.143 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:42.144 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:42.145 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:42.145 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:42.145 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 979785383, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:42.145 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:42.145 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.146 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 86540439, id=1694341922480590848, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:42 CST 2023, tickets=null]
2023-08-25 20:10:42.146 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:42.146 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:42.145(Timestamp), 1694341922480590848(Long)
2023-08-25 20:10:42.159 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965442137zqp  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:42.159 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965442137zqp  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:42.183 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:42.183 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.188 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965442137zqp  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:42.188 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965442137zqp  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:42.189 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965442137zqp  [0;39m <==      Total: 1
2023-08-25 20:10:42.189 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965442137zqp  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:42.189 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965442137zqp  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:42.189 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965442137zqp  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@36c79e1
2023-08-25 20:10:42.189 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965442137zqp  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:42.190 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965442137zqp  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:42.237 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965442137zqp  [0;39m <==    Columns: count(*)
2023-08-25 20:10:42.238 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965442137zqp  [0;39m <==        Row: 13850
2023-08-25 20:10:42.238 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965442137zqp  [0;39m <==      Total: 1
2023-08-25 20:10:42.238 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965442137zqp  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:42.238 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965442137zqp  [0;39m 返回结果: {"code":0,"message":"","result":13850,"success":true}
2023-08-25 20:10:42.239 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965442137zqp  [0;39m ------------- 结束 耗时：100 ms -------------
2023-08-25 20:10:42.384 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922526728192
2023-08-25 20:10:42.384 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.384 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2104627057, id=1694341922526728192, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:42 CST 2023, tickets=null]
2023-08-25 20:10:42.384 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:42.384 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:42.384(Timestamp), 1694341922526728192(Long)
2023-08-25 20:10:42.414 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:42.414 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.414 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:42.414 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3444a70c
2023-08-25 20:10:42.415 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:42.415 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:42.431 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:42.431 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:42.432 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:42.432 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:42.432 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 652009248, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:42.432 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:42.432 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.432 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 514131952, id=1694341922526728192, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:42 CST 2023, tickets=null]
2023-08-25 20:10:42.432 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:42.433 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:42.432(Timestamp), 1694341922526728192(Long)
2023-08-25 20:10:42.462 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:42.462 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.638 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965442638r4q  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:42.638 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965442638r4q  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:42.638 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965442638r4q  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:42.639 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965442638r4q  [0;39m ------------- 开始 -------------
2023-08-25 20:10:42.639 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965442638r4q  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:42.639 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965442638r4q  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:42.639 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965442638r4q  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:42.640 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965442638r4q  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:42.640 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965442638r4q  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:42.640 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965442638r4q  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:42.662 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922539311104
2023-08-25 20:10:42.662 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.662 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 104633319, id=1694341922539311104, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:42 CST 2023, tickets=null]
2023-08-25 20:10:42.663 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:42.663 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:42.662(Timestamp), 1694341922539311104(Long)
2023-08-25 20:10:42.694 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965442638r4q  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:42.695 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965442638r4q  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:42.706 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:42.706 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.706 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:42.706 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@70f56c73
2023-08-25 20:10:42.707 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:42.707 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:42.712 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965442638r4q  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:42.713 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965442638r4q  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:42.713 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965442638r4q  [0;39m <==      Total: 1
2023-08-25 20:10:42.713 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965442638r4q  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:42.713 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965442638r4q  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:42.713 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965442638r4q  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@733596a0
2023-08-25 20:10:42.714 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965442638r4q  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:42.714 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965442638r4q  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:42.722 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:42.722 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:42.723 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:42.723 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:42.723 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1489575240, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:42.723 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:42.723 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.723 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1431506975, id=1694341922539311104, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:42 CST 2023, tickets=null]
2023-08-25 20:10:42.723 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:42.724 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:42.723(Timestamp), 1694341922539311104(Long)
2023-08-25 20:10:42.753 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:42.753 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.763 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965442638r4q  [0;39m <==    Columns: count(*)
2023-08-25 20:10:42.763 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965442638r4q  [0;39m <==        Row: 13849
2023-08-25 20:10:42.763 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965442638r4q  [0;39m <==      Total: 1
2023-08-25 20:10:42.763 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965442638r4q  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:42.764 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965442638r4q  [0;39m 返回结果: {"code":0,"message":"","result":13849,"success":true}
2023-08-25 20:10:42.764 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965442638r4q  [0;39m ------------- 结束 耗时：125 ms -------------
2023-08-25 20:10:42.955 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922556088320
2023-08-25 20:10:42.955 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.955 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1954437390, id=1694341922556088320, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:42 CST 2023, tickets=null]
2023-08-25 20:10:42.955 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:42.955 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:42.955(Timestamp), 1694341922556088320(Long)
2023-08-25 20:10:42.984 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:42.984 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:42.984 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:42.984 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@29531eea
2023-08-25 20:10:42.985 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:42.985 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:43.000 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:43.000 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:43.001 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:43.001 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:43.001 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1388427683, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:43.001 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:43.001 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.001 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1607285734, id=1694341922556088320, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:43 CST 2023, tickets=null]
2023-08-25 20:10:43.002 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:43.002 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:43.001(Timestamp), 1694341922556088320(Long)
2023-08-25 20:10:43.033 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:43.033 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.133 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965443133hik  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:43.133 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965443133hik  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:43.134 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965443133hik  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:43.134 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965443133hik  [0;39m ------------- 开始 -------------
2023-08-25 20:10:43.135 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965443133hik  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:43.135 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965443133hik  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:43.135 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965443133hik  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:43.135 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965443133hik  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:43.136 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965443133hik  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:43.137 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965443133hik  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:43.150 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965443133hik  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:43.150 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965443133hik  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:43.165 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965443133hik  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:43.165 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965443133hik  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:43.166 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965443133hik  [0;39m <==      Total: 1
2023-08-25 20:10:43.166 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965443133hik  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:43.166 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965443133hik  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:43.167 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965443133hik  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@403314b
2023-08-25 20:10:43.167 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965443133hik  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:43.168 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965443133hik  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:43.215 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965443133hik  [0;39m <==    Columns: count(*)
2023-08-25 20:10:43.215 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965443133hik  [0;39m <==        Row: 13847
2023-08-25 20:10:43.215 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965443133hik  [0;39m <==      Total: 1
2023-08-25 20:10:43.215 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965443133hik  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:43.216 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965443133hik  [0;39m 返回结果: {"code":0,"message":"","result":13847,"success":true}
2023-08-25 20:10:43.216 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965443133hik  [0;39m ------------- 结束 耗时：82 ms -------------
2023-08-25 20:10:43.236 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922560282624
2023-08-25 20:10:43.236 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.236 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 856959622, id=1694341922560282624, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:43 CST 2023, tickets=null]
2023-08-25 20:10:43.236 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:43.237 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:43.236(Timestamp), 1694341922560282624(Long)
2023-08-25 20:10:43.266 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:43.267 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.267 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:43.267 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5a639583
2023-08-25 20:10:43.267 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:43.268 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:43.283 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:43.284 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:43.284 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:43.284 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:43.284 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1620333986, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:43.284 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:43.284 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.284 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 814522599, id=1694341922560282624, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:43 CST 2023, tickets=null]
2023-08-25 20:10:43.284 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:43.285 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:43.284(Timestamp), 1694341922560282624(Long)
2023-08-25 20:10:43.315 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:43.315 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.315 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:43.315 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@340a86ef
2023-08-25 20:10:43.317 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:43.317 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:43.362 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:43.362 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13847
2023-08-25 20:10:43.362 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:43.362 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:43.363 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:43.385 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:43.386 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922602225664, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.356, 2023-08-23 21:32:48.356, <<BLOB>>
2023-08-25 20:10:43.387 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922606419968, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.357, 2023-08-23 21:32:48.357, <<BLOB>>
2023-08-25 20:10:43.387 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922656751616, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.369, 2023-08-23 21:32:48.369, <<BLOB>>
2023-08-25 20:10:43.387 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922656751617, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.369, 2023-08-23 21:32:48.369, <<BLOB>>
2023-08-25 20:10:43.388 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922673528832, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.373, 2023-08-23 21:32:48.373, <<BLOB>>
2023-08-25 20:10:43.388 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:43.388 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:43.389 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:43.590 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922602225664
2023-08-25 20:10:43.590 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.590 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 445202378, id=1694341922602225664, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:43 CST 2023, tickets=null]
2023-08-25 20:10:43.590 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:43.590 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:43.59(Timestamp), 1694341922602225664(Long)
2023-08-25 20:10:43.619 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:43.619 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.619 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:43.619 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3f1f0653
2023-08-25 20:10:43.620 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:43.620 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:43.635 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:43.636 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:43.636 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:43.636 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:43.637 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 833533630, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:43.637 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:43.637 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.637 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2062357904, id=1694341922602225664, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:43 CST 2023, tickets=null]
2023-08-25 20:10:43.637 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:43.638 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:43.637(Timestamp), 1694341922602225664(Long)
2023-08-25 20:10:43.638 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654436381n9  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:43.638 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654436381n9  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:43.639 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654436381n9  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:43.639 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654436381n9  [0;39m ------------- 开始 -------------
2023-08-25 20:10:43.640 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654436381n9  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:43.640 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654436381n9  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:43.640 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654436381n9  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:43.640 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654436381n9  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:43.640 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654436381n9  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:43.640 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654436381n9  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:43.654 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654436381n9  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:43.654 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654436381n9  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:43.667 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:43.667 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.670 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654436381n9  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:43.670 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654436381n9  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:43.671 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654436381n9  [0;39m <==      Total: 1
2023-08-25 20:10:43.671 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654436381n9  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:43.671 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654436381n9  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:43.672 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654436381n9  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@a80748a
2023-08-25 20:10:43.672 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654436381n9  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:43.673 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654436381n9  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:43.716 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654436381n9  [0;39m <==    Columns: count(*)
2023-08-25 20:10:43.716 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654436381n9  [0;39m <==        Row: 13845
2023-08-25 20:10:43.716 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654436381n9  [0;39m <==      Total: 1
2023-08-25 20:10:43.716 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654436381n9  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:43.716 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654436381n9  [0;39m 返回结果: {"code":0,"message":"","result":13845,"success":true}
2023-08-25 20:10:43.717 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654436381n9  [0;39m ------------- 结束 耗时：78 ms -------------
2023-08-25 20:10:43.867 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922606419968
2023-08-25 20:10:43.867 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.867 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 170411160, id=1694341922606419968, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:43 CST 2023, tickets=null]
2023-08-25 20:10:43.867 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:43.868 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:43.867(Timestamp), 1694341922606419968(Long)
2023-08-25 20:10:43.898 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:43.898 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.899 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:43.899 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5c24c5ee
2023-08-25 20:10:43.899 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:43.899 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:43.915 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:43.915 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:43.915 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:43.915 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:43.916 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 347061058, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:43.916 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:43.916 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:43.916 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1659842498, id=1694341922606419968, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:43 CST 2023, tickets=null]
2023-08-25 20:10:43.916 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:43.916 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:43.916(Timestamp), 1694341922606419968(Long)
2023-08-25 20:10:43.947 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:43.947 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.137 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654441378bg  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:44.137 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654441378bg  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:44.137 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654441378bg  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:44.138 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654441378bg  [0;39m ------------- 开始 -------------
2023-08-25 20:10:44.138 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654441378bg  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:44.138 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654441378bg  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:44.138 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654441378bg  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:44.138 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654441378bg  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:44.138 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654441378bg  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:44.138 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654441378bg  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:44.138 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654441378bg  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:44.138 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654441378bg  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:44.147 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922656751616
2023-08-25 20:10:44.147 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.147 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 498467620, id=1694341922656751616, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:44 CST 2023, tickets=null]
2023-08-25 20:10:44.147 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:44.148 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:44.147(Timestamp), 1694341922656751616(Long)
2023-08-25 20:10:44.167 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654441378bg  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:44.167 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654441378bg  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:44.167 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654441378bg  [0;39m <==      Total: 1
2023-08-25 20:10:44.168 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654441378bg  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:44.168 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654441378bg  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:44.168 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654441378bg  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@611b77f3
2023-08-25 20:10:44.169 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654441378bg  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:44.169 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654441378bg  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:44.181 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:44.182 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.182 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:44.182 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6fa06e03
2023-08-25 20:10:44.182 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:44.183 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:44.198 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:44.198 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:44.199 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:44.199 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:44.199 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 784216814, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:44.199 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:44.199 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.199 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 214263892, id=1694341922656751616, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:44 CST 2023, tickets=null]
2023-08-25 20:10:44.199 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:44.200 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:44.199(Timestamp), 1694341922656751616(Long)
2023-08-25 20:10:44.258 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:44.258 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.259 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654441378bg  [0;39m <==    Columns: count(*)
2023-08-25 20:10:44.260 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654441378bg  [0;39m <==        Row: 13844
2023-08-25 20:10:44.260 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654441378bg  [0;39m <==      Total: 1
2023-08-25 20:10:44.261 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654441378bg  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:44.261 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654441378bg  [0;39m 返回结果: {"code":0,"message":"","result":13844,"success":true}
2023-08-25 20:10:44.261 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654441378bg  [0;39m ------------- 结束 耗时：124 ms -------------
2023-08-25 20:10:44.461 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922656751617
2023-08-25 20:10:44.461 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.462 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 106386918, id=1694341922656751617, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:44 CST 2023, tickets=null]
2023-08-25 20:10:44.462 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:44.462 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:44.461(Timestamp), 1694341922656751617(Long)
2023-08-25 20:10:44.518 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:44.518 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.518 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:44.518 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7e017a38
2023-08-25 20:10:44.519 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:44.519 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:44.534 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:44.535 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:44.535 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:44.535 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:44.535 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1819242944, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:44.536 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:44.536 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.536 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1021970403, id=1694341922656751617, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:44 CST 2023, tickets=null]
2023-08-25 20:10:44.536 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:44.536 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:44.536(Timestamp), 1694341922656751617(Long)
2023-08-25 20:10:44.567 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:44.567 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.629 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965444629oav  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:44.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965444629oav  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:44.630 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965444629oav  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:44.630 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965444629oav  [0;39m ------------- 开始 -------------
2023-08-25 20:10:44.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965444629oav  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:44.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965444629oav  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:44.631 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965444629oav  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:44.631 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965444629oav  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:44.631 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965444629oav  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:44.631 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965444629oav  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:44.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965444629oav  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:44.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965444629oav  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:44.660 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965444629oav  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:44.661 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965444629oav  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:44.661 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965444629oav  [0;39m <==      Total: 1
2023-08-25 20:10:44.661 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965444629oav  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:44.661 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965444629oav  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:44.662 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965444629oav  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2b27a44
2023-08-25 20:10:44.662 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965444629oav  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:44.663 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965444629oav  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:44.706 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965444629oav  [0;39m <==    Columns: count(*)
2023-08-25 20:10:44.707 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965444629oav  [0;39m <==        Row: 13842
2023-08-25 20:10:44.707 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965444629oav  [0;39m <==      Total: 1
2023-08-25 20:10:44.707 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965444629oav  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:44.708 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965444629oav  [0;39m 返回结果: {"code":0,"message":"","result":13842,"success":true}
2023-08-25 20:10:44.708 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965444629oav  [0;39m ------------- 结束 耗时：78 ms -------------
2023-08-25 20:10:44.769 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922673528832
2023-08-25 20:10:44.769 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.769 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1188670677, id=1694341922673528832, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:44 CST 2023, tickets=null]
2023-08-25 20:10:44.769 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:44.770 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:44.769(Timestamp), 1694341922673528832(Long)
2023-08-25 20:10:44.799 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:44.799 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.799 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:44.799 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3d16f466
2023-08-25 20:10:44.800 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:44.800 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:44.814 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:44.815 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:44.815 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:44.815 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:44.816 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 76045204, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:44.816 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:44.816 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.816 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 740990310, id=1694341922673528832, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:44 CST 2023, tickets=null]
2023-08-25 20:10:44.816 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:44.816 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:44.816(Timestamp), 1694341922673528832(Long)
2023-08-25 20:10:44.855 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:44.855 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:44.856 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:44.856 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4eccadc0
2023-08-25 20:10:44.858 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:44.859 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:44.904 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:44.905 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13842
2023-08-25 20:10:44.905 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:44.905 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:44.905 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:44.930 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:44.931 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922673528833, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.373, 2023-08-23 21:32:48.373, <<BLOB>>
2023-08-25 20:10:44.932 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922673528834, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.373, 2023-08-23 21:32:48.373, <<BLOB>>
2023-08-25 20:10:44.932 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922694500352, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.378, 2023-08-23 21:32:48.378, <<BLOB>>
2023-08-25 20:10:44.933 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922711277568, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.382, 2023-08-23 21:32:48.382, <<BLOB>>
2023-08-25 20:10:44.933 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922715471872, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.383, 2023-08-23 21:32:48.383, <<BLOB>>
2023-08-25 20:10:44.933 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:44.934 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:44.934 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:45.132 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965445132uur  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:45.132 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965445132uur  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:45.132 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965445132uur  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:45.133 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965445132uur  [0;39m ------------- 开始 -------------
2023-08-25 20:10:45.133 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965445132uur  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:45.133 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965445132uur  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:45.133 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965445132uur  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:45.133 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965445132uur  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:45.133 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965445132uur  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:45.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965445132uur  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:45.134 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922673528833
2023-08-25 20:10:45.134 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.134 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1387841105, id=1694341922673528833, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:45 CST 2023, tickets=null]
2023-08-25 20:10:45.134 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:45.134 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:45.134(Timestamp), 1694341922673528833(Long)
2023-08-25 20:10:45.153 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965445132uur  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:45.153 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965445132uur  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:45.166 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:45.166 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.166 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:45.166 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@61dc63f3
2023-08-25 20:10:45.167 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:45.167 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:45.171 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965445132uur  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:45.171 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965445132uur  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:45.172 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965445132uur  [0;39m <==      Total: 1
2023-08-25 20:10:45.172 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965445132uur  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:45.172 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965445132uur  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:45.173 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965445132uur  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6118462e
2023-08-25 20:10:45.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965445132uur  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:45.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965445132uur  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:45.183 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:45.184 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:45.184 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:45.184 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:45.185 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 37007006, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:45.185 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:45.185 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.185 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 123914025, id=1694341922673528833, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:45 CST 2023, tickets=null]
2023-08-25 20:10:45.185 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:45.186 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:45.185(Timestamp), 1694341922673528833(Long)
2023-08-25 20:10:45.216 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:45.216 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.222 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965445132uur  [0;39m <==    Columns: count(*)
2023-08-25 20:10:45.222 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965445132uur  [0;39m <==        Row: 13841
2023-08-25 20:10:45.223 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965445132uur  [0;39m <==      Total: 1
2023-08-25 20:10:45.223 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965445132uur  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:45.223 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965445132uur  [0;39m 返回结果: {"code":0,"message":"","result":13841,"success":true}
2023-08-25 20:10:45.223 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965445132uur  [0;39m ------------- 结束 耗时：91 ms -------------
2023-08-25 20:10:45.416 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922673528834
2023-08-25 20:10:45.416 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.416 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1083072485, id=1694341922673528834, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:45 CST 2023, tickets=null]
2023-08-25 20:10:45.416 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:45.416 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:45.416(Timestamp), 1694341922673528834(Long)
2023-08-25 20:10:45.447 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:45.447 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.447 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:45.447 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7623916f
2023-08-25 20:10:45.447 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:45.448 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:45.466 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:45.467 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:45.467 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:45.468 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:45.468 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1588023039, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:45.468 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:45.468 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.468 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1932168422, id=1694341922673528834, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:45 CST 2023, tickets=null]
2023-08-25 20:10:45.468 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:45.468 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:45.468(Timestamp), 1694341922673528834(Long)
2023-08-25 20:10:45.502 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:45.502 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.639 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965445639k4h  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:45.639 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965445639k4h  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:45.639 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965445639k4h  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:45.640 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965445639k4h  [0;39m ------------- 开始 -------------
2023-08-25 20:10:45.641 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965445639k4h  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:45.641 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965445639k4h  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:45.641 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965445639k4h  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:45.641 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965445639k4h  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:45.641 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965445639k4h  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:45.641 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965445639k4h  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:45.660 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965445639k4h  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:45.661 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965445639k4h  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:45.683 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965445639k4h  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:45.683 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965445639k4h  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:45.684 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965445639k4h  [0;39m <==      Total: 1
2023-08-25 20:10:45.684 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965445639k4h  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:45.684 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965445639k4h  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:45.685 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965445639k4h  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@17f1e532
2023-08-25 20:10:45.685 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965445639k4h  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:45.686 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965445639k4h  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:45.703 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922694500352
2023-08-25 20:10:45.703 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.703 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1475200660, id=1694341922694500352, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:45 CST 2023, tickets=null]
2023-08-25 20:10:45.703 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:45.703 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:45.703(Timestamp), 1694341922694500352(Long)
2023-08-25 20:10:45.732 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965445639k4h  [0;39m <==    Columns: count(*)
2023-08-25 20:10:45.733 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965445639k4h  [0;39m <==        Row: 13839
2023-08-25 20:10:45.733 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965445639k4h  [0;39m <==      Total: 1
2023-08-25 20:10:45.733 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965445639k4h  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:45.733 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965445639k4h  [0;39m 返回结果: {"code":0,"message":"","result":13839,"success":true}
2023-08-25 20:10:45.734 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965445639k4h  [0;39m ------------- 结束 耗时：94 ms -------------
2023-08-25 20:10:45.734 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:45.734 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.734 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:45.735 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@14b34d01
2023-08-25 20:10:45.735 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:45.735 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:45.753 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:45.754 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:45.754 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:45.754 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:45.754 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1929175784, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:45.755 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:45.755 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.755 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 202038845, id=1694341922694500352, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:45 CST 2023, tickets=null]
2023-08-25 20:10:45.755 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:45.755 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:45.755(Timestamp), 1694341922694500352(Long)
2023-08-25 20:10:45.784 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:45.784 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.984 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922711277568
2023-08-25 20:10:45.984 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:45.984 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 734655062, id=1694341922711277568, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:45 CST 2023, tickets=null]
2023-08-25 20:10:45.985 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:45.985 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:45.984(Timestamp), 1694341922711277568(Long)
2023-08-25 20:10:46.016 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:46.017 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.017 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:46.017 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@641674a8
2023-08-25 20:10:46.017 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:46.018 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:46.033 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:46.034 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:46.035 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:46.035 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:46.035 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2021762000, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:46.035 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:46.035 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.035 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2076605987, id=1694341922711277568, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:46 CST 2023, tickets=null]
2023-08-25 20:10:46.035 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:46.036 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:46.035(Timestamp), 1694341922711277568(Long)
2023-08-25 20:10:46.070 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:46.071 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.135 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965446135pow  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:46.135 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965446135pow  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:46.136 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965446135pow  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:46.136 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965446135pow  [0;39m ------------- 开始 -------------
2023-08-25 20:10:46.136 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965446135pow  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:46.136 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965446135pow  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:46.136 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965446135pow  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:46.136 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965446135pow  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:46.137 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965446135pow  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:46.137 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965446135pow  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:46.155 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965446135pow  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:46.155 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965446135pow  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:46.171 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965446135pow  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:46.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965446135pow  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:46.172 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965446135pow  [0;39m <==      Total: 1
2023-08-25 20:10:46.172 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965446135pow  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:46.173 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965446135pow  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:46.173 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965446135pow  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3c5c7930
2023-08-25 20:10:46.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965446135pow  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:46.174 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965446135pow  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:46.222 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965446135pow  [0;39m <==    Columns: count(*)
2023-08-25 20:10:46.222 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965446135pow  [0;39m <==        Row: 13837
2023-08-25 20:10:46.222 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965446135pow  [0;39m <==      Total: 1
2023-08-25 20:10:46.222 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965446135pow  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:46.223 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965446135pow  [0;39m 返回结果: {"code":0,"message":"","result":13837,"success":true}
2023-08-25 20:10:46.223 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965446135pow  [0;39m ------------- 结束 耗时：87 ms -------------
2023-08-25 20:10:46.272 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922715471872
2023-08-25 20:10:46.272 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.272 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1170192049, id=1694341922715471872, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:46 CST 2023, tickets=null]
2023-08-25 20:10:46.272 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:46.272 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:46.272(Timestamp), 1694341922715471872(Long)
2023-08-25 20:10:46.302 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:46.302 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.302 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:46.302 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@782a45aa
2023-08-25 20:10:46.303 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:46.303 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:46.323 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:46.324 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:46.324 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:46.324 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:46.324 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2075606089, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:46.325 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:46.325 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.325 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1668143984, id=1694341922715471872, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:46 CST 2023, tickets=null]
2023-08-25 20:10:46.325 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:46.325 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:46.325(Timestamp), 1694341922715471872(Long)
2023-08-25 20:10:46.391 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:46.391 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.391 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:46.391 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@222b7c8c
2023-08-25 20:10:46.393 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:46.393 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:46.437 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:46.438 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13837
2023-08-25 20:10:46.438 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:46.438 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:46.438 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:46.460 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:46.460 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922753220608, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.392, 2023-08-23 21:32:48.392, <<BLOB>>
2023-08-25 20:10:46.461 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922807746560, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.405, 2023-08-23 21:32:48.405, <<BLOB>>
2023-08-25 20:10:46.462 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922811940864, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.406, 2023-08-23 21:32:48.406, <<BLOB>>
2023-08-25 20:10:46.462 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922820329472, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.408, 2023-08-23 21:32:48.408, <<BLOB>>
2023-08-25 20:10:46.462 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922845495296, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.414, 2023-08-23 21:32:48.414, <<BLOB>>
2023-08-25 20:10:46.463 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:46.463 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:46.463 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:46.633 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965446633l55  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:46.634 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965446633l55  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:46.634 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965446633l55  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:46.634 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965446633l55  [0;39m ------------- 开始 -------------
2023-08-25 20:10:46.634 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965446633l55  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:46.635 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965446633l55  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:46.635 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965446633l55  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:46.635 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965446633l55  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:46.635 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965446633l55  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:46.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965446633l55  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:46.653 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965446633l55  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:46.654 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965446633l55  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:46.664 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922753220608
2023-08-25 20:10:46.664 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.664 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1527991003, id=1694341922753220608, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:46 CST 2023, tickets=null]
2023-08-25 20:10:46.664 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:46.665 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:46.664(Timestamp), 1694341922753220608(Long)
2023-08-25 20:10:46.670 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965446633l55  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:46.671 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965446633l55  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:46.672 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965446633l55  [0;39m <==      Total: 1
2023-08-25 20:10:46.672 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965446633l55  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:46.673 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965446633l55  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:46.673 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965446633l55  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3407b73c
2023-08-25 20:10:46.674 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965446633l55  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:46.674 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965446633l55  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:46.694 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:46.694 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.695 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:46.695 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@9736938
2023-08-25 20:10:46.695 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:46.696 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:46.711 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:46.712 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:46.713 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:46.713 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:46.713 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1177819091, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:46.713 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:46.713 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.714 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 230706010, id=1694341922753220608, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:46 CST 2023, tickets=null]
2023-08-25 20:10:46.714 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:46.714 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:46.713(Timestamp), 1694341922753220608(Long)
2023-08-25 20:10:46.718 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965446633l55  [0;39m <==    Columns: count(*)
2023-08-25 20:10:46.718 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965446633l55  [0;39m <==        Row: 13836
2023-08-25 20:10:46.719 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965446633l55  [0;39m <==      Total: 1
2023-08-25 20:10:46.719 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965446633l55  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:46.719 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965446633l55  [0;39m 返回结果: {"code":0,"message":"","result":13836,"success":true}
2023-08-25 20:10:46.719 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965446633l55  [0;39m ------------- 结束 耗时：85 ms -------------
2023-08-25 20:10:46.744 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:46.744 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.946 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922807746560
2023-08-25 20:10:46.946 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.946 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 517622226, id=1694341922807746560, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:46 CST 2023, tickets=null]
2023-08-25 20:10:46.946 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:46.947 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:46.946(Timestamp), 1694341922807746560(Long)
2023-08-25 20:10:46.979 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:46.979 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.980 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:46.980 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@77234192
2023-08-25 20:10:46.980 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:46.980 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:46.995 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:46.995 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:46.996 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:46.996 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:46.996 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1644262804, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:46.996 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:46.996 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:46.996 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 679989862, id=1694341922807746560, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:46 CST 2023, tickets=null]
2023-08-25 20:10:46.997 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:46.997 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:46.996(Timestamp), 1694341922807746560(Long)
2023-08-25 20:10:47.026 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:47.027 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965447128q6l  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:47.128 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965447128q6l  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:47.128 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965447128q6l  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:47.128 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965447128q6l  [0;39m ------------- 开始 -------------
2023-08-25 20:10:47.129 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965447128q6l  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:47.129 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965447128q6l  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:47.129 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965447128q6l  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:47.129 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965447128q6l  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:47.129 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965447128q6l  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:47.129 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965447128q6l  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:47.148 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965447128q6l  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:47.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965447128q6l  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:47.166 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965447128q6l  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:47.167 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965447128q6l  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:47.167 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965447128q6l  [0;39m <==      Total: 1
2023-08-25 20:10:47.167 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965447128q6l  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:47.167 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965447128q6l  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:47.167 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965447128q6l  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2ec3ef40
2023-08-25 20:10:47.168 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965447128q6l  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:47.168 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965447128q6l  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:47.220 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965447128q6l  [0;39m <==    Columns: count(*)
2023-08-25 20:10:47.220 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965447128q6l  [0;39m <==        Row: 13834
2023-08-25 20:10:47.220 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965447128q6l  [0;39m <==      Total: 1
2023-08-25 20:10:47.220 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965447128q6l  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:47.221 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965447128q6l  [0;39m 返回结果: {"code":0,"message":"","result":13834,"success":true}
2023-08-25 20:10:47.221 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965447128q6l  [0;39m ------------- 结束 耗时：93 ms -------------
2023-08-25 20:10:47.228 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922811940864
2023-08-25 20:10:47.228 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.228 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 571576132, id=1694341922811940864, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:47 CST 2023, tickets=null]
2023-08-25 20:10:47.229 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:47.229 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:47.228(Timestamp), 1694341922811940864(Long)
2023-08-25 20:10:47.259 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:47.260 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.260 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:47.260 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5d570cb9
2023-08-25 20:10:47.261 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:47.261 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:47.276 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:47.277 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:47.277 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:47.277 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:47.277 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 527620202, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:47.278 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:47.278 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.278 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2077843208, id=1694341922811940864, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:47 CST 2023, tickets=null]
2023-08-25 20:10:47.278 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:47.278 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:47.278(Timestamp), 1694341922811940864(Long)
2023-08-25 20:10:47.311 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:47.312 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.513 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922820329472
2023-08-25 20:10:47.513 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.513 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 392558042, id=1694341922820329472, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:47 CST 2023, tickets=null]
2023-08-25 20:10:47.513 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:47.513 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:47.513(Timestamp), 1694341922820329472(Long)
2023-08-25 20:10:47.543 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:47.544 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.544 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:47.545 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2f4de308
2023-08-25 20:10:47.546 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:47.546 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:47.563 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:47.565 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:47.566 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:47.566 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:47.567 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2095835205, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:47.567 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:47.567 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.567 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 212873842, id=1694341922820329472, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:47 CST 2023, tickets=null]
2023-08-25 20:10:47.568 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:47.569 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:47.567(Timestamp), 1694341922820329472(Long)
2023-08-25 20:10:47.601 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:47.602 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.649 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965447649hsu  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:47.650 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965447649hsu  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:47.650 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965447649hsu  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:47.651 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965447649hsu  [0;39m ------------- 开始 -------------
2023-08-25 20:10:47.652 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965447649hsu  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:47.652 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965447649hsu  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:47.652 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965447649hsu  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:47.652 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965447649hsu  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:47.653 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965447649hsu  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:47.653 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965447649hsu  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:47.670 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965447649hsu  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:47.671 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965447649hsu  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:47.689 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965447649hsu  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:47.690 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965447649hsu  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:47.691 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965447649hsu  [0;39m <==      Total: 1
2023-08-25 20:10:47.691 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965447649hsu  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:47.692 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965447649hsu  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:47.693 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965447649hsu  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7a70424d
2023-08-25 20:10:47.695 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965447649hsu  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:47.696 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965447649hsu  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:47.744 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965447649hsu  [0;39m <==    Columns: count(*)
2023-08-25 20:10:47.744 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965447649hsu  [0;39m <==        Row: 13832
2023-08-25 20:10:47.745 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965447649hsu  [0;39m <==      Total: 1
2023-08-25 20:10:47.745 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965447649hsu  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:47.745 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965447649hsu  [0;39m 返回结果: {"code":0,"message":"","result":13832,"success":true}
2023-08-25 20:10:47.746 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965447649hsu  [0;39m ------------- 结束 耗时：95 ms -------------
2023-08-25 20:10:47.803 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922845495296
2023-08-25 20:10:47.803 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.804 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1221129124, id=1694341922845495296, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:47 CST 2023, tickets=null]
2023-08-25 20:10:47.804 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:47.804 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:47.803(Timestamp), 1694341922845495296(Long)
2023-08-25 20:10:47.844 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:47.844 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.844 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:47.845 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@666c1f80
2023-08-25 20:10:47.845 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:47.845 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:47.861 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:47.861 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:47.862 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:47.862 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:47.862 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 190523208, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:47.862 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:47.862 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.862 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1962880600, id=1694341922845495296, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:47 CST 2023, tickets=null]
2023-08-25 20:10:47.863 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:47.863 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:47.862(Timestamp), 1694341922845495296(Long)
2023-08-25 20:10:47.900 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:47.901 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:47.901 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:47.901 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7b6ce473
2023-08-25 20:10:47.903 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:47.903 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:47.946 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:47.946 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13832
2023-08-25 20:10:47.946 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:47.946 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:47.947 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:47.968 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:47.968 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922879049728, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.422, 2023-08-23 21:32:48.422, <<BLOB>>
2023-08-25 20:10:47.969 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922895826944, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.426, 2023-08-23 21:32:48.426, <<BLOB>>
2023-08-25 20:10:47.969 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922904215552, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.428, 2023-08-23 21:32:48.428, <<BLOB>>
2023-08-25 20:10:47.970 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922950352896, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.439, 2023-08-23 21:32:48.439, <<BLOB>>
2023-08-25 20:10:47.970 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922958741504, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.441, 2023-08-23 21:32:48.441, <<BLOB>>
2023-08-25 20:10:47.970 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:47.971 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:47.971 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:48.134 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654481344jl  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:48.134 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654481344jl  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:48.134 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654481344jl  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:48.134 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654481344jl  [0;39m ------------- 开始 -------------
2023-08-25 20:10:48.135 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654481344jl  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:48.135 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654481344jl  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:48.135 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654481344jl  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:48.135 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654481344jl  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:48.135 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654481344jl  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:48.135 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654481344jl  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:48.148 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654481344jl  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:48.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654481344jl  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:48.162 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654481344jl  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:48.163 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654481344jl  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:48.164 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654481344jl  [0;39m <==      Total: 1
2023-08-25 20:10:48.164 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654481344jl  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:48.164 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654481344jl  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:48.164 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654481344jl  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@c5d6767
2023-08-25 20:10:48.165 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654481344jl  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:48.165 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654481344jl  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:48.172 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922879049728
2023-08-25 20:10:48.172 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.172 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 127947633, id=1694341922879049728, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:48 CST 2023, tickets=null]
2023-08-25 20:10:48.172 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:48.172 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:48.172(Timestamp), 1694341922879049728(Long)
2023-08-25 20:10:48.203 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:48.203 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.204 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:48.204 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@99a73ae
2023-08-25 20:10:48.205 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:48.205 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:48.210 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654481344jl  [0;39m <==    Columns: count(*)
2023-08-25 20:10:48.211 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654481344jl  [0;39m <==        Row: 13831
2023-08-25 20:10:48.211 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654481344jl  [0;39m <==      Total: 1
2023-08-25 20:10:48.212 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654481344jl  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:48.212 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654481344jl  [0;39m 返回结果: {"code":0,"message":"","result":13831,"success":true}
2023-08-25 20:10:48.212 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654481344jl  [0;39m ------------- 结束 耗时：78 ms -------------
2023-08-25 20:10:48.229 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:48.230 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:48.230 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:48.231 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:48.231 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 206539770, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:48.231 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:48.231 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.231 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1507640362, id=1694341922879049728, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:48 CST 2023, tickets=null]
2023-08-25 20:10:48.231 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:48.232 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:48.231(Timestamp), 1694341922879049728(Long)
2023-08-25 20:10:48.268 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:48.269 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.470 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922895826944
2023-08-25 20:10:48.470 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.471 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 18998072, id=1694341922895826944, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:48 CST 2023, tickets=null]
2023-08-25 20:10:48.471 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:48.471 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:48.47(Timestamp), 1694341922895826944(Long)
2023-08-25 20:10:48.500 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:48.501 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.501 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:48.501 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4e03df3b
2023-08-25 20:10:48.501 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:48.501 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:48.518 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:48.519 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:48.519 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:48.519 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:48.519 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1298444829, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:48.519 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:48.519 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.520 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 823979868, id=1694341922895826944, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:48 CST 2023, tickets=null]
2023-08-25 20:10:48.520 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:48.520 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:48.519(Timestamp), 1694341922895826944(Long)
2023-08-25 20:10:48.551 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:48.551 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.635 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654486342on  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:48.635 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654486342on  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:48.635 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654486342on  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:48.635 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654486342on  [0;39m ------------- 开始 -------------
2023-08-25 20:10:48.636 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654486342on  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:48.636 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654486342on  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:48.636 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654486342on  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:48.636 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654486342on  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:48.636 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654486342on  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:48.636 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654486342on  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:48.649 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654486342on  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:48.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654486342on  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:48.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654486342on  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:48.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654486342on  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:48.665 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654486342on  [0;39m <==      Total: 1
2023-08-25 20:10:48.665 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654486342on  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:48.665 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654486342on  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:48.665 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654486342on  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@72394205
2023-08-25 20:10:48.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654486342on  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:48.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654486342on  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:48.712 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654486342on  [0;39m <==    Columns: count(*)
2023-08-25 20:10:48.712 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654486342on  [0;39m <==        Row: 13829
2023-08-25 20:10:48.712 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654486342on  [0;39m <==      Total: 1
2023-08-25 20:10:48.712 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654486342on  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:48.713 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654486342on  [0;39m 返回结果: {"code":0,"message":"","result":13829,"success":true}
2023-08-25 20:10:48.713 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654486342on  [0;39m ------------- 结束 耗时：78 ms -------------
2023-08-25 20:10:48.753 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922904215552
2023-08-25 20:10:48.753 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.753 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 934875224, id=1694341922904215552, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:48 CST 2023, tickets=null]
2023-08-25 20:10:48.753 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:48.754 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:48.753(Timestamp), 1694341922904215552(Long)
2023-08-25 20:10:48.783 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:48.784 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.784 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:48.784 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@995da5f
2023-08-25 20:10:48.785 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:48.785 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:48.801 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:48.801 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:48.802 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:48.802 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:48.802 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 664023968, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:48.802 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:48.802 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:48.802 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1426341186, id=1694341922904215552, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:48 CST 2023, tickets=null]
2023-08-25 20:10:48.803 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:48.803 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:48.802(Timestamp), 1694341922904215552(Long)
2023-08-25 20:10:48.844 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:48.844 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.047 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922950352896
2023-08-25 20:10:49.047 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.047 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 745756210, id=1694341922950352896, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:49 CST 2023, tickets=null]
2023-08-25 20:10:49.047 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:49.048 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:49.047(Timestamp), 1694341922950352896(Long)
2023-08-25 20:10:49.077 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:49.077 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.077 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:49.078 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5e66af0f
2023-08-25 20:10:49.078 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:49.078 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:49.098 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:49.099 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:49.099 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:49.100 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:49.100 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 951221194, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:49.100 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:49.100 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.100 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1900955874, id=1694341922950352896, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:49 CST 2023, tickets=null]
2023-08-25 20:10:49.100 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:49.101 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:49.1(Timestamp), 1694341922950352896(Long)
2023-08-25 20:10:49.133 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:49.133 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.141 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965449141z35  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:49.142 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965449141z35  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:49.143 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965449141z35  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:49.143 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965449141z35  [0;39m ------------- 开始 -------------
2023-08-25 20:10:49.144 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965449141z35  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:49.144 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965449141z35  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:49.144 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965449141z35  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:49.144 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965449141z35  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:49.145 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965449141z35  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:49.145 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965449141z35  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:49.145 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965449141z35  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:49.145 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965449141z35  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:49.162 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965449141z35  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:49.163 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965449141z35  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:49.164 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965449141z35  [0;39m <==      Total: 1
2023-08-25 20:10:49.164 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965449141z35  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:49.165 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965449141z35  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:49.165 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965449141z35  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@774750bc
2023-08-25 20:10:49.166 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965449141z35  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:49.166 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965449141z35  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:49.215 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965449141z35  [0;39m <==    Columns: count(*)
2023-08-25 20:10:49.215 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965449141z35  [0;39m <==        Row: 13827
2023-08-25 20:10:49.215 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965449141z35  [0;39m <==      Total: 1
2023-08-25 20:10:49.216 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965449141z35  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:49.216 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965449141z35  [0;39m 返回结果: {"code":0,"message":"","result":13827,"success":true}
2023-08-25 20:10:49.217 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965449141z35  [0;39m ------------- 结束 耗时：74 ms -------------
2023-08-25 20:10:49.334 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922958741504
2023-08-25 20:10:49.334 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.334 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 666362860, id=1694341922958741504, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:49 CST 2023, tickets=null]
2023-08-25 20:10:49.334 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:49.335 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:49.334(Timestamp), 1694341922958741504(Long)
2023-08-25 20:10:49.364 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:49.364 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.364 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:49.364 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@ffaf0df
2023-08-25 20:10:49.365 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:49.365 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:49.380 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:49.380 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:49.381 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:49.381 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:49.381 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1372522340, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:49.381 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:49.381 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.381 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1487995598, id=1694341922958741504, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:49 CST 2023, tickets=null]
2023-08-25 20:10:49.381 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:49.382 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:49.381(Timestamp), 1694341922958741504(Long)
2023-08-25 20:10:49.411 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:49.411 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.411 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:49.411 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3073be2c
2023-08-25 20:10:49.413 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:49.413 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:49.456 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:49.456 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13827
2023-08-25 20:10:49.456 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:49.456 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:49.457 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:49.480 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:49.480 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922967130112, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.442, 2023-08-23 21:32:48.442, <<BLOB>>
2023-08-25 20:10:49.481 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922983907328, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.447, 2023-08-23 21:32:48.447, <<BLOB>>
2023-08-25 20:10:49.481 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922996490240, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.450, 2023-08-23 21:32:48.450, <<BLOB>>
2023-08-25 20:10:49.482 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341922996490241, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.450, 2023-08-23 21:32:48.450, <<BLOB>>
2023-08-25 20:10:49.482 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923013267456, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.454, 2023-08-23 21:32:48.454, <<BLOB>>
2023-08-25 20:10:49.483 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:49.483 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:49.483 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:49.633 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965449633rso  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:49.634 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965449633rso  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:49.634 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965449633rso  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:49.634 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965449633rso  [0;39m ------------- 开始 -------------
2023-08-25 20:10:49.635 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965449633rso  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:49.635 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965449633rso  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:49.635 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965449633rso  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:49.635 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965449633rso  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:49.635 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965449633rso  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:49.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965449633rso  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:49.659 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965449633rso  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:49.660 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965449633rso  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:49.674 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965449633rso  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:49.674 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965449633rso  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:49.674 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965449633rso  [0;39m <==      Total: 1
2023-08-25 20:10:49.675 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965449633rso  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:49.675 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965449633rso  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:49.675 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965449633rso  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@39da3b4f
2023-08-25 20:10:49.676 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965449633rso  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:49.676 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965449633rso  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:49.683 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922967130112
2023-08-25 20:10:49.683 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.683 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1335893098, id=1694341922967130112, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:49 CST 2023, tickets=null]
2023-08-25 20:10:49.683 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:49.683 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:49.683(Timestamp), 1694341922967130112(Long)
2023-08-25 20:10:49.714 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:49.714 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.714 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:49.714 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@210d4cbe
2023-08-25 20:10:49.715 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:49.715 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:49.720 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965449633rso  [0;39m <==    Columns: count(*)
2023-08-25 20:10:49.720 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965449633rso  [0;39m <==        Row: 13826
2023-08-25 20:10:49.720 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965449633rso  [0;39m <==      Total: 1
2023-08-25 20:10:49.721 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965449633rso  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:49.721 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965449633rso  [0;39m 返回结果: {"code":0,"message":"","result":13826,"success":true}
2023-08-25 20:10:49.721 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965449633rso  [0;39m ------------- 结束 耗时：87 ms -------------
2023-08-25 20:10:49.733 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:49.734 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:49.735 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:49.735 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:49.735 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1987096011, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:49.735 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:49.735 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.735 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 789242746, id=1694341922967130112, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:49 CST 2023, tickets=null]
2023-08-25 20:10:49.736 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:49.736 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:49.735(Timestamp), 1694341922967130112(Long)
2023-08-25 20:10:49.765 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:49.765 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.966 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922983907328
2023-08-25 20:10:49.966 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:49.966 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 942102891, id=1694341922983907328, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:49 CST 2023, tickets=null]
2023-08-25 20:10:49.966 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:49.966 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:49.966(Timestamp), 1694341922983907328(Long)
2023-08-25 20:10:50.032 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:50.032 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.032 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:50.032 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@33239e71
2023-08-25 20:10:50.033 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:50.033 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:50.051 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:50.052 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:50.052 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:50.052 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:50.052 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 484286922, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:50.053 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:50.053 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.053 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 35913517, id=1694341922983907328, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:50 CST 2023, tickets=null]
2023-08-25 20:10:50.053 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:50.053 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:50.053(Timestamp), 1694341922983907328(Long)
2023-08-25 20:10:50.082 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:50.082 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.129 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965450129pr1  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:50.129 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965450129pr1  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:50.130 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965450129pr1  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:50.130 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965450129pr1  [0;39m ------------- 开始 -------------
2023-08-25 20:10:50.130 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965450129pr1  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:50.130 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965450129pr1  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:50.131 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965450129pr1  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:50.131 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965450129pr1  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:50.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965450129pr1  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:50.131 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965450129pr1  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:50.153 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965450129pr1  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:50.153 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965450129pr1  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:50.171 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965450129pr1  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:50.171 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965450129pr1  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:50.172 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965450129pr1  [0;39m <==      Total: 1
2023-08-25 20:10:50.172 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965450129pr1  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:50.172 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965450129pr1  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:50.172 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965450129pr1  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@72283e1a
2023-08-25 20:10:50.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965450129pr1  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:50.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965450129pr1  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:50.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965450129pr1  [0;39m <==    Columns: count(*)
2023-08-25 20:10:50.224 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965450129pr1  [0;39m <==        Row: 13824
2023-08-25 20:10:50.224 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965450129pr1  [0;39m <==      Total: 1
2023-08-25 20:10:50.224 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965450129pr1  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:50.225 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965450129pr1  [0;39m 返回结果: {"code":0,"message":"","result":13824,"success":true}
2023-08-25 20:10:50.225 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965450129pr1  [0;39m ------------- 结束 耗时：95 ms -------------
2023-08-25 20:10:50.284 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922996490240
2023-08-25 20:10:50.284 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.284 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 688921388, id=1694341922996490240, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:50 CST 2023, tickets=null]
2023-08-25 20:10:50.285 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:50.285 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:50.284(Timestamp), 1694341922996490240(Long)
2023-08-25 20:10:50.314 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:50.315 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.315 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:50.315 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@45757a99
2023-08-25 20:10:50.315 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:50.315 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:50.343 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:50.344 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:50.344 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:50.344 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:50.344 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 550312978, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:50.345 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:50.345 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.345 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1767362474, id=1694341922996490240, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:50 CST 2023, tickets=null]
2023-08-25 20:10:50.345 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:50.345 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:50.345(Timestamp), 1694341922996490240(Long)
2023-08-25 20:10:50.426 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:50.426 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.627 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341922996490241
2023-08-25 20:10:50.627 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.627 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1672099863, id=1694341922996490241, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:50 CST 2023, tickets=null]
2023-08-25 20:10:50.627 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965450627inz  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:50.627 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:50.627 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965450627inz  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:50.628 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:50.627(Timestamp), 1694341922996490241(Long)
2023-08-25 20:10:50.628 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965450627inz  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:50.628 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965450627inz  [0;39m ------------- 开始 -------------
2023-08-25 20:10:50.628 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965450627inz  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:50.628 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965450627inz  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:50.628 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965450627inz  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:50.629 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965450627inz  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:50.629 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965450627inz  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:50.629 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965450627inz  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:50.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965450627inz  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:50.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965450627inz  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:50.660 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:50.660 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.660 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:50.660 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7cb235a0
2023-08-25 20:10:50.661 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:50.661 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:50.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965450627inz  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:50.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965450627inz  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:50.665 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965450627inz  [0;39m <==      Total: 1
2023-08-25 20:10:50.665 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965450627inz  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:50.665 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965450627inz  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:50.665 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965450627inz  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4df35a75
2023-08-25 20:10:50.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965450627inz  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:50.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965450627inz  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:50.678 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:50.679 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:50.679 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:50.680 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:50.680 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 264162095, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:50.680 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:50.681 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.681 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1485426497, id=1694341922996490241, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:50 CST 2023, tickets=null]
2023-08-25 20:10:50.681 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:50.681 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:50.681(Timestamp), 1694341922996490241(Long)
2023-08-25 20:10:50.711 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:50.711 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.713 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965450627inz  [0;39m <==    Columns: count(*)
2023-08-25 20:10:50.713 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965450627inz  [0;39m <==        Row: 13823
2023-08-25 20:10:50.713 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965450627inz  [0;39m <==      Total: 1
2023-08-25 20:10:50.713 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965450627inz  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:50.714 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965450627inz  [0;39m 返回结果: {"code":0,"message":"","result":13823,"success":true}
2023-08-25 20:10:50.714 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965450627inz  [0;39m ------------- 结束 耗时：86 ms -------------
2023-08-25 20:10:50.918 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923013267456
2023-08-25 20:10:50.919 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.919 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 966895864, id=1694341923013267456, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:50 CST 2023, tickets=null]
2023-08-25 20:10:50.923 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:50.924 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:50.919(Timestamp), 1694341923013267456(Long)
2023-08-25 20:10:50.956 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:50.956 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.956 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:50.956 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@565ad7c1
2023-08-25 20:10:50.957 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:50.958 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:50.977 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:50.977 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:50.978 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:50.978 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:50.978 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 141496094, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:50.979 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:50.979 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:50.979 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 926253096, id=1694341923013267456, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:50 CST 2023, tickets=null]
2023-08-25 20:10:50.979 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:50.979 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:50.979(Timestamp), 1694341923013267456(Long)
2023-08-25 20:10:51.008 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:51.009 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.009 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:51.009 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@678cf8ed
2023-08-25 20:10:51.011 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:51.011 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:51.074 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:51.075 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13822
2023-08-25 20:10:51.075 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:51.075 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:51.076 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:51.096 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:51.097 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923021656064, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.456, 2023-08-23 21:32:48.456, <<BLOB>>
2023-08-25 20:10:51.097 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923055210496, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.464, 2023-08-23 21:32:48.464, <<BLOB>>
2023-08-25 20:10:51.098 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923067793408, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.467, 2023-08-23 21:32:48.467, <<BLOB>>
2023-08-25 20:10:51.099 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923088764928, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.472, 2023-08-23 21:32:48.472, <<BLOB>>
2023-08-25 20:10:51.099 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923097153536, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.474, 2023-08-23 21:32:48.474, <<BLOB>>
2023-08-25 20:10:51.099 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:51.099 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:51.099 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:51.127 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965451127tvk  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:51.127 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965451127tvk  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:51.127 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965451127tvk  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:51.128 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965451127tvk  [0;39m ------------- 开始 -------------
2023-08-25 20:10:51.128 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965451127tvk  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:51.128 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965451127tvk  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:51.128 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965451127tvk  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:51.128 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965451127tvk  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:51.128 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965451127tvk  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:51.128 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965451127tvk  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:51.143 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965451127tvk  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:51.144 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965451127tvk  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:51.173 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965451127tvk  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:51.174 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965451127tvk  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:51.174 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965451127tvk  [0;39m <==      Total: 1
2023-08-25 20:10:51.175 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965451127tvk  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:51.175 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965451127tvk  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:51.175 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965451127tvk  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4979416
2023-08-25 20:10:51.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965451127tvk  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:51.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965451127tvk  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:51.222 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965451127tvk  [0;39m <==    Columns: count(*)
2023-08-25 20:10:51.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965451127tvk  [0;39m <==        Row: 13821
2023-08-25 20:10:51.223 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965451127tvk  [0;39m <==      Total: 1
2023-08-25 20:10:51.224 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965451127tvk  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:51.225 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965451127tvk  [0;39m 返回结果: {"code":0,"message":"","result":13821,"success":true}
2023-08-25 20:10:51.225 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965451127tvk  [0;39m ------------- 结束 耗时：97 ms -------------
2023-08-25 20:10:51.301 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923021656064
2023-08-25 20:10:51.302 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.302 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 906638392, id=1694341923021656064, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:51 CST 2023, tickets=null]
2023-08-25 20:10:51.302 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:51.303 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:51.302(Timestamp), 1694341923021656064(Long)
2023-08-25 20:10:51.334 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:51.335 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.335 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:51.335 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@52f1fc9b
2023-08-25 20:10:51.336 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:51.336 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:51.351 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:51.352 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:51.352 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:51.352 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:51.353 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 210348141, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:51.353 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:51.353 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.353 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1000373590, id=1694341923021656064, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:51 CST 2023, tickets=null]
2023-08-25 20:10:51.353 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:51.353 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:51.353(Timestamp), 1694341923021656064(Long)
2023-08-25 20:10:51.382 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:51.382 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.583 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923055210496
2023-08-25 20:10:51.583 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.583 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 582969003, id=1694341923055210496, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:51 CST 2023, tickets=null]
2023-08-25 20:10:51.584 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:51.584 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:51.583(Timestamp), 1694341923055210496(Long)
2023-08-25 20:10:51.617 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:51.617 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.618 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:51.618 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5bc6f3bc
2023-08-25 20:10:51.619 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:51.619 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:51.631 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965451631dme  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:51.631 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965451631dme  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:51.632 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965451631dme  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:51.632 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965451631dme  [0;39m ------------- 开始 -------------
2023-08-25 20:10:51.633 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965451631dme  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:51.633 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965451631dme  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:51.633 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965451631dme  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:51.634 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965451631dme  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:51.634 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965451631dme  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:51.634 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965451631dme  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:51.640 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:51.641 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:51.642 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:51.642 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:51.643 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 637883525, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:51.643 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:51.643 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.644 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1723025140, id=1694341923055210496, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:51 CST 2023, tickets=null]
2023-08-25 20:10:51.644 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:51.644 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:51.643(Timestamp), 1694341923055210496(Long)
2023-08-25 20:10:51.652 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965451631dme  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:51.652 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965451631dme  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:51.668 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965451631dme  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:51.668 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965451631dme  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:51.669 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965451631dme  [0;39m <==      Total: 1
2023-08-25 20:10:51.669 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965451631dme  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:51.670 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965451631dme  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:51.670 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965451631dme  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@65426a98
2023-08-25 20:10:51.671 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965451631dme  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:51.672 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965451631dme  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:51.686 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:51.686 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.728 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965451631dme  [0;39m <==    Columns: count(*)
2023-08-25 20:10:51.728 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965451631dme  [0;39m <==        Row: 13819
2023-08-25 20:10:51.728 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965451631dme  [0;39m <==      Total: 1
2023-08-25 20:10:51.729 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965451631dme  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:51.729 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965451631dme  [0;39m 返回结果: {"code":0,"message":"","result":13819,"success":true}
2023-08-25 20:10:51.729 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965451631dme  [0;39m ------------- 结束 耗时：97 ms -------------
2023-08-25 20:10:51.889 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923067793408
2023-08-25 20:10:51.890 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.890 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1122342168, id=1694341923067793408, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:51 CST 2023, tickets=null]
2023-08-25 20:10:51.891 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:51.892 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:51.89(Timestamp), 1694341923067793408(Long)
2023-08-25 20:10:51.935 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:51.935 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.936 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:51.936 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@32302b66
2023-08-25 20:10:51.936 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:51.937 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:51.966 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:51.967 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:51.967 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:51.968 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:51.968 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1982422171, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:51.968 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:51.968 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:51.969 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2053646171, id=1694341923067793408, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:51 CST 2023, tickets=null]
2023-08-25 20:10:51.969 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:51.969 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:51.968(Timestamp), 1694341923067793408(Long)
2023-08-25 20:10:52.001 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:52.002 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.174 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965452174cbw  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:52.175 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965452174cbw  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:52.175 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965452174cbw  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:52.176 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965452174cbw  [0;39m ------------- 开始 -------------
2023-08-25 20:10:52.176 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965452174cbw  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:52.176 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965452174cbw  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:52.177 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965452174cbw  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:52.177 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965452174cbw  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:52.177 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965452174cbw  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:52.177 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965452174cbw  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:52.203 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923088764928
2023-08-25 20:10:52.203 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.203 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 55450357, id=1694341923088764928, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:52 CST 2023, tickets=null]
2023-08-25 20:10:52.203 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:52.204 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:52.203(Timestamp), 1694341923088764928(Long)
2023-08-25 20:10:52.209 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965452174cbw  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:52.209 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965452174cbw  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:52.236 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965452174cbw  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:52.237 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965452174cbw  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:52.237 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965452174cbw  [0;39m <==      Total: 1
2023-08-25 20:10:52.238 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965452174cbw  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:52.238 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965452174cbw  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:52.239 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965452174cbw  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2b5cbbb6
2023-08-25 20:10:52.240 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965452174cbw  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:52.241 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965452174cbw  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:52.253 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:52.253 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.254 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:52.254 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@456f9d0
2023-08-25 20:10:52.255 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:52.255 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:52.271 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:52.273 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:52.274 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:52.274 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:52.275 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1006905483, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:52.275 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:52.275 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.275 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2044909523, id=1694341923088764928, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:52 CST 2023, tickets=null]
2023-08-25 20:10:52.276 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:52.276 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:52.275(Timestamp), 1694341923088764928(Long)
2023-08-25 20:10:52.290 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965452174cbw  [0;39m <==    Columns: count(*)
2023-08-25 20:10:52.290 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965452174cbw  [0;39m <==        Row: 13818
2023-08-25 20:10:52.291 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965452174cbw  [0;39m <==      Total: 1
2023-08-25 20:10:52.291 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965452174cbw  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:52.292 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965452174cbw  [0;39m 返回结果: {"code":0,"message":"","result":13818,"success":true}
2023-08-25 20:10:52.292 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965452174cbw  [0;39m ------------- 结束 耗时：116 ms -------------
2023-08-25 20:10:52.313 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:52.313 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.516 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923097153536
2023-08-25 20:10:52.516 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.516 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1976143148, id=1694341923097153536, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:52 CST 2023, tickets=null]
2023-08-25 20:10:52.517 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:52.517 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:52.516(Timestamp), 1694341923097153536(Long)
2023-08-25 20:10:52.547 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:52.548 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.548 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:52.548 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7a7ade0
2023-08-25 20:10:52.549 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:52.549 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:52.565 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:52.566 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:52.566 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:52.567 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:52.567 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1035926046, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:52.567 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:52.567 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.568 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1887183108, id=1694341923097153536, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:52 CST 2023, tickets=null]
2023-08-25 20:10:52.568 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:52.568 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:52.567(Timestamp), 1694341923097153536(Long)
2023-08-25 20:10:52.608 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:52.609 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.609 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:52.609 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@732a2133
2023-08-25 20:10:52.612 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:52.613 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:52.636 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169296545263651w  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:52.637 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169296545263651w  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:52.637 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169296545263651w  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:52.638 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169296545263651w  [0;39m ------------- 开始 -------------
2023-08-25 20:10:52.638 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169296545263651w  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:52.639 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169296545263651w  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:52.639 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169296545263651w  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:52.639 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169296545263651w  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:52.640 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296545263651w  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:52.640 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296545263651w  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:52.658 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:52.658 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296545263651w  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:52.659 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13817
2023-08-25 20:10:52.659 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296545263651w  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:52.659 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:52.659 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:52.660 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:52.676 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296545263651w  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:52.677 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296545263651w  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:52.678 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296545263651w  [0;39m <==      Total: 1
2023-08-25 20:10:52.678 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296545263651w  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:52.679 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296545263651w  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:52.679 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296545263651w  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@69d10c51
2023-08-25 20:10:52.680 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296545263651w  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:52.681 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:52.681 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296545263651w  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:52.681 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923097153537, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.474, 2023-08-23 21:32:48.474, <<BLOB>>
2023-08-25 20:10:52.682 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923101347840, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.475, 2023-08-23 21:32:48.475, <<BLOB>>
2023-08-25 20:10:52.683 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923134902272, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.483, 2023-08-23 21:32:48.483, <<BLOB>>
2023-08-25 20:10:52.684 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923134902273, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.483, 2023-08-23 21:32:48.483, <<BLOB>>
2023-08-25 20:10:52.685 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923155873792, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.488, 2023-08-23 21:32:48.488, <<BLOB>>
2023-08-25 20:10:52.685 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:52.685 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:52.686 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:52.728 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296545263651w  [0;39m <==    Columns: count(*)
2023-08-25 20:10:52.729 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296545263651w  [0;39m <==        Row: 13816
2023-08-25 20:10:52.729 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296545263651w  [0;39m <==      Total: 1
2023-08-25 20:10:52.730 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296545263651w  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:52.730 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169296545263651w  [0;39m 返回结果: {"code":0,"message":"","result":13816,"success":true}
2023-08-25 20:10:52.730 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169296545263651w  [0;39m ------------- 结束 耗时：92 ms -------------
2023-08-25 20:10:52.887 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923097153537
2023-08-25 20:10:52.887 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.887 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 848167628, id=1694341923097153537, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:52 CST 2023, tickets=null]
2023-08-25 20:10:52.888 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:52.888 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:52.887(Timestamp), 1694341923097153537(Long)
2023-08-25 20:10:52.921 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:52.921 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.922 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:52.922 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@8c0adc9
2023-08-25 20:10:52.922 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:52.923 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:52.946 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:52.947 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:52.948 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:52.948 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:52.948 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 640361748, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:52.948 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:52.949 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:52.949 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1393809262, id=1694341923097153537, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:52 CST 2023, tickets=null]
2023-08-25 20:10:52.949 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:52.949 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:52.949(Timestamp), 1694341923097153537(Long)
2023-08-25 20:10:52.980 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:52.980 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.132 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654531322w2  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:53.132 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654531322w2  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:53.133 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654531322w2  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:53.133 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654531322w2  [0;39m ------------- 开始 -------------
2023-08-25 20:10:53.133 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654531322w2  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:53.134 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654531322w2  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:53.134 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654531322w2  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:53.134 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654531322w2  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:53.134 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654531322w2  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:53.134 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654531322w2  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:53.148 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654531322w2  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:53.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654531322w2  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:53.163 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654531322w2  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:53.164 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654531322w2  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:53.165 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654531322w2  [0;39m <==      Total: 1
2023-08-25 20:10:53.165 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654531322w2  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:53.165 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654531322w2  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:53.166 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654531322w2  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@18366f0b
2023-08-25 20:10:53.167 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654531322w2  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:53.167 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654531322w2  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:53.183 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923101347840
2023-08-25 20:10:53.183 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.183 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 884082353, id=1694341923101347840, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:53 CST 2023, tickets=null]
2023-08-25 20:10:53.184 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:53.184 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:53.183(Timestamp), 1694341923101347840(Long)
2023-08-25 20:10:53.215 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:53.215 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654531322w2  [0;39m <==    Columns: count(*)
2023-08-25 20:10:53.216 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.216 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654531322w2  [0;39m <==        Row: 13815
2023-08-25 20:10:53.216 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:53.216 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654531322w2  [0;39m <==      Total: 1
2023-08-25 20:10:53.216 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@62b9016
2023-08-25 20:10:53.216 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654531322w2  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:53.216 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654531322w2  [0;39m 返回结果: {"code":0,"message":"","result":13815,"success":true}
2023-08-25 20:10:53.217 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654531322w2  [0;39m ------------- 结束 耗时：84 ms -------------
2023-08-25 20:10:53.217 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:53.217 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:53.237 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:53.238 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:53.239 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:53.239 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:53.240 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2018710980, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:53.240 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:53.240 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.241 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1201129310, id=1694341923101347840, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:53 CST 2023, tickets=null]
2023-08-25 20:10:53.241 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:53.242 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:53.24(Timestamp), 1694341923101347840(Long)
2023-08-25 20:10:53.275 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:53.275 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.477 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923134902272
2023-08-25 20:10:53.477 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.477 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1097933692, id=1694341923134902272, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:53 CST 2023, tickets=null]
2023-08-25 20:10:53.478 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:53.478 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:53.477(Timestamp), 1694341923134902272(Long)
2023-08-25 20:10:53.523 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:53.524 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.524 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:53.524 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@58386de7
2023-08-25 20:10:53.527 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:53.528 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:53.546 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:53.547 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:53.548 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:53.548 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:53.549 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1073186747, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:53.549 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:53.549 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.549 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2034240029, id=1694341923134902272, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:53 CST 2023, tickets=null]
2023-08-25 20:10:53.550 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:53.550 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:53.549(Timestamp), 1694341923134902272(Long)
2023-08-25 20:10:53.583 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:53.583 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.639 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965453639q5y  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:53.641 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965453639q5y  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:53.641 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965453639q5y  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:53.642 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965453639q5y  [0;39m ------------- 开始 -------------
2023-08-25 20:10:53.643 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965453639q5y  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:53.644 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965453639q5y  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:53.644 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965453639q5y  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:53.644 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965453639q5y  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:53.644 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965453639q5y  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:53.644 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965453639q5y  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:53.662 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965453639q5y  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:53.662 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965453639q5y  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:53.705 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965453639q5y  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:53.706 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965453639q5y  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:53.706 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965453639q5y  [0;39m <==      Total: 1
2023-08-25 20:10:53.707 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965453639q5y  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:53.708 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965453639q5y  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:53.708 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965453639q5y  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@57ecaac8
2023-08-25 20:10:53.709 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965453639q5y  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:53.710 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965453639q5y  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:53.754 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965453639q5y  [0;39m <==    Columns: count(*)
2023-08-25 20:10:53.754 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965453639q5y  [0;39m <==        Row: 13813
2023-08-25 20:10:53.755 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965453639q5y  [0;39m <==      Total: 1
2023-08-25 20:10:53.755 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965453639q5y  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:53.756 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965453639q5y  [0;39m 返回结果: {"code":0,"message":"","result":13813,"success":true}
2023-08-25 20:10:53.756 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965453639q5y  [0;39m ------------- 结束 耗时：114 ms -------------
2023-08-25 20:10:53.785 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923134902273
2023-08-25 20:10:53.785 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.785 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1006668152, id=1694341923134902273, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:53 CST 2023, tickets=null]
2023-08-25 20:10:53.786 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:53.786 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:53.785(Timestamp), 1694341923134902273(Long)
2023-08-25 20:10:53.815 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:53.815 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.815 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:53.815 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@46a0fe0a
2023-08-25 20:10:53.816 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:53.816 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:53.831 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:53.832 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:53.833 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:53.833 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:53.833 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2095178709, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:53.833 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:53.833 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:53.833 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 193431214, id=1694341923134902273, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:53 CST 2023, tickets=null]
2023-08-25 20:10:53.833 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:53.834 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:53.833(Timestamp), 1694341923134902273(Long)
2023-08-25 20:10:53.863 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:53.863 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.066 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923155873792
2023-08-25 20:10:54.066 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.066 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 429715463, id=1694341923155873792, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:54 CST 2023, tickets=null]
2023-08-25 20:10:54.067 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:54.067 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:54.066(Timestamp), 1694341923155873792(Long)
2023-08-25 20:10:54.096 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:54.096 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.096 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:54.097 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5d150eb0
2023-08-25 20:10:54.097 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:54.098 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:54.113 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:54.114 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:54.115 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:54.115 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:54.115 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1515434376, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:54.116 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:54.116 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.116 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 848724095, id=1694341923155873792, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:54 CST 2023, tickets=null]
2023-08-25 20:10:54.116 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:54.116 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:54.116(Timestamp), 1694341923155873792(Long)
2023-08-25 20:10:54.132 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965454132211  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:54.132 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965454132211  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:54.133 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965454132211  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:54.133 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965454132211  [0;39m ------------- 开始 -------------
2023-08-25 20:10:54.133 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965454132211  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:54.133 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965454132211  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:54.133 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965454132211  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:54.133 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965454132211  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:54.134 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965454132211  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:54.134 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965454132211  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:54.134 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965454132211  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:54.134 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965454132211  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:54.159 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:54.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965454132211  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:54.159 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.159 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:54.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965454132211  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:54.159 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6893a6cb
2023-08-25 20:10:54.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965454132211  [0;39m <==      Total: 1
2023-08-25 20:10:54.160 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965454132211  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:54.160 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965454132211  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:54.160 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965454132211  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1a989703
2023-08-25 20:10:54.161 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965454132211  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:54.162 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:54.162 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965454132211  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:54.162 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:54.270 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:54.270 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965454132211  [0;39m <==    Columns: count(*)
2023-08-25 20:10:54.270 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13812
2023-08-25 20:10:54.271 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:54.271 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965454132211  [0;39m <==        Row: 13811
2023-08-25 20:10:54.271 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:54.271 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965454132211  [0;39m <==      Total: 1
2023-08-25 20:10:54.271 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:54.271 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965454132211  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:54.271 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965454132211  [0;39m 返回结果: {"code":0,"message":"","result":13811,"success":true}
2023-08-25 20:10:54.272 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965454132211  [0;39m ------------- 结束 耗时：139 ms -------------
2023-08-25 20:10:54.294 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:54.295 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923206205440, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.500, 2023-08-23 21:32:48.500, <<BLOB>>
2023-08-25 20:10:54.295 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923222982656, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.504, 2023-08-23 21:32:48.504, <<BLOB>>
2023-08-25 20:10:54.296 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923235565568, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.507, 2023-08-23 21:32:48.507, <<BLOB>>
2023-08-25 20:10:54.296 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923239759872, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.508, 2023-08-23 21:32:48.508, <<BLOB>>
2023-08-25 20:10:54.297 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923252342784, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.511, 2023-08-23 21:32:48.511, <<BLOB>>
2023-08-25 20:10:54.297 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:54.297 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:54.297 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:54.499 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923206205440
2023-08-25 20:10:54.499 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.499 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 5742083, id=1694341923206205440, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:54 CST 2023, tickets=null]
2023-08-25 20:10:54.499 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:54.500 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:54.499(Timestamp), 1694341923206205440(Long)
2023-08-25 20:10:54.546 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:54.546 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.547 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:54.547 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@191a1cc7
2023-08-25 20:10:54.548 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:54.548 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:54.563 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:54.563 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:54.564 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:54.564 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:54.564 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1846645853, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:54.564 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:54.564 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.564 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 202948478, id=1694341923206205440, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:54 CST 2023, tickets=null]
2023-08-25 20:10:54.565 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:54.565 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:54.564(Timestamp), 1694341923206205440(Long)
2023-08-25 20:10:54.594 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:54.594 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.633 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965454633cin  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:54.633 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965454633cin  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:54.633 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965454633cin  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:54.634 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965454633cin  [0;39m ------------- 开始 -------------
2023-08-25 20:10:54.634 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965454633cin  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:54.634 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965454633cin  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:54.634 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965454633cin  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:54.634 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965454633cin  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:54.634 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965454633cin  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:54.634 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965454633cin  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:54.654 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965454633cin  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:54.654 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965454633cin  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:54.671 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965454633cin  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:54.672 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965454633cin  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:54.672 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965454633cin  [0;39m <==      Total: 1
2023-08-25 20:10:54.673 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965454633cin  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:54.673 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965454633cin  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:54.673 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965454633cin  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@56018efd
2023-08-25 20:10:54.674 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965454633cin  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:54.674 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965454633cin  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:54.724 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965454633cin  [0;39m <==    Columns: count(*)
2023-08-25 20:10:54.725 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965454633cin  [0;39m <==        Row: 13810
2023-08-25 20:10:54.725 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965454633cin  [0;39m <==      Total: 1
2023-08-25 20:10:54.725 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965454633cin  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:54.726 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965454633cin  [0;39m 返回结果: {"code":0,"message":"","result":13810,"success":true}
2023-08-25 20:10:54.726 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965454633cin  [0;39m ------------- 结束 耗时：92 ms -------------
2023-08-25 20:10:54.797 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923222982656
2023-08-25 20:10:54.797 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.797 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1113354197, id=1694341923222982656, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:54 CST 2023, tickets=null]
2023-08-25 20:10:54.797 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:54.798 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:54.797(Timestamp), 1694341923222982656(Long)
2023-08-25 20:10:54.862 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:54.862 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.862 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:54.862 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@69a7009f
2023-08-25 20:10:54.863 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:54.863 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:54.879 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:54.879 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:54.880 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:54.880 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:54.880 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1721203667, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:54.880 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:54.880 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:54.880 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 722665454, id=1694341923222982656, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:54 CST 2023, tickets=null]
2023-08-25 20:10:54.880 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:54.881 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:54.88(Timestamp), 1694341923222982656(Long)
2023-08-25 20:10:54.918 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:54.918 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.121 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923235565568
2023-08-25 20:10:55.121 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.121 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 421958922, id=1694341923235565568, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:55 CST 2023, tickets=null]
2023-08-25 20:10:55.121 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:55.122 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:55.121(Timestamp), 1694341923235565568(Long)
2023-08-25 20:10:55.131 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169296545513123o  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:55.131 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169296545513123o  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:55.132 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169296545513123o  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:55.132 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169296545513123o  [0;39m ------------- 开始 -------------
2023-08-25 20:10:55.132 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169296545513123o  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:55.132 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169296545513123o  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:55.132 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169296545513123o  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:55.132 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169296545513123o  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:55.132 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296545513123o  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:55.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296545513123o  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:55.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296545513123o  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:55.151 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296545513123o  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:55.152 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:55.152 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.153 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:55.153 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@78e356f9
2023-08-25 20:10:55.153 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:55.153 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:55.171 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:55.171 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296545513123o  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:55.172 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:55.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296545513123o  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:55.172 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296545513123o  [0;39m <==      Total: 1
2023-08-25 20:10:55.172 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:55.172 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:55.172 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296545513123o  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:55.172 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 709891270, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:55.172 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296545513123o  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:55.172 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:55.172 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296545513123o  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@155d3608
2023-08-25 20:10:55.172 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.173 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2136448846, id=1694341923235565568, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:55 CST 2023, tickets=null]
2023-08-25 20:10:55.173 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:55.173 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:55.172(Timestamp), 1694341923235565568(Long)
2023-08-25 20:10:55.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296545513123o  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:55.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296545513123o  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:55.202 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:55.202 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.226 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296545513123o  [0;39m <==    Columns: count(*)
2023-08-25 20:10:55.226 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296545513123o  [0;39m <==        Row: 13809
2023-08-25 20:10:55.227 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296545513123o  [0;39m <==      Total: 1
2023-08-25 20:10:55.227 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296545513123o  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:55.227 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169296545513123o  [0;39m 返回结果: {"code":0,"message":"","result":13809,"success":true}
2023-08-25 20:10:55.227 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169296545513123o  [0;39m ------------- 结束 耗时：95 ms -------------
2023-08-25 20:10:55.404 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923239759872
2023-08-25 20:10:55.404 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.404 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 15741679, id=1694341923239759872, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:55 CST 2023, tickets=null]
2023-08-25 20:10:55.405 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:55.405 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:55.404(Timestamp), 1694341923239759872(Long)
2023-08-25 20:10:55.434 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:55.434 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.435 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:55.435 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@69c2b7e7
2023-08-25 20:10:55.435 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:55.435 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:55.450 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:55.452 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:55.452 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:55.452 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:55.452 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2131033399, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:55.453 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:55.453 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.453 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 845526700, id=1694341923239759872, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:55 CST 2023, tickets=null]
2023-08-25 20:10:55.453 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:55.453 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:55.453(Timestamp), 1694341923239759872(Long)
2023-08-25 20:10:55.483 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:55.484 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.644 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654556447g8  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:55.645 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654556447g8  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:55.645 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654556447g8  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:55.646 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654556447g8  [0;39m ------------- 开始 -------------
2023-08-25 20:10:55.646 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654556447g8  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:55.647 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654556447g8  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:55.647 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654556447g8  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:55.647 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654556447g8  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:55.648 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654556447g8  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:55.648 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654556447g8  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:55.664 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654556447g8  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:55.665 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654556447g8  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:55.682 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654556447g8  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:55.682 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654556447g8  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:55.683 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654556447g8  [0;39m <==      Total: 1
2023-08-25 20:10:55.683 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654556447g8  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:55.683 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654556447g8  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:55.684 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654556447g8  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@75a8a026
2023-08-25 20:10:55.684 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923252342784
2023-08-25 20:10:55.684 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.684 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 638905381, id=1694341923252342784, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:55 CST 2023, tickets=null]
2023-08-25 20:10:55.684 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:55.684 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654556447g8  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:55.685 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:55.684(Timestamp), 1694341923252342784(Long)
2023-08-25 20:10:55.685 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654556447g8  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:55.714 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:55.714 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.715 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:55.715 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@616e493b
2023-08-25 20:10:55.715 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:55.715 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:55.730 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:55.731 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:55.731 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:55.731 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:55.732 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 201725907, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:55.732 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:55.732 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.732 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2027408190, id=1694341923252342784, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:55 CST 2023, tickets=null]
2023-08-25 20:10:55.732 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:55.732 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:55.732(Timestamp), 1694341923252342784(Long)
2023-08-25 20:10:55.766 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:55.766 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654556447g8  [0;39m <==    Columns: count(*)
2023-08-25 20:10:55.766 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:55.766 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654556447g8  [0;39m <==        Row: 13807
2023-08-25 20:10:55.766 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:55.766 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@73b56639
2023-08-25 20:10:55.766 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654556447g8  [0;39m <==      Total: 1
2023-08-25 20:10:55.766 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654556447g8  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:55.767 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654556447g8  [0;39m 返回结果: {"code":0,"message":"","result":13807,"success":true}
2023-08-25 20:10:55.767 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654556447g8  [0;39m ------------- 结束 耗时：121 ms -------------
2023-08-25 20:10:55.768 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:55.768 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:55.872 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:55.873 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13807
2023-08-25 20:10:55.873 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:55.873 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:55.874 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:55.921 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:55.921 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923264925696, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.514, 2023-08-23 21:32:48.514, <<BLOB>>
2023-08-25 20:10:55.922 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923281702912, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.518, 2023-08-23 21:32:48.518, <<BLOB>>
2023-08-25 20:10:55.923 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923298480128, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.522, 2023-08-23 21:32:48.522, <<BLOB>>
2023-08-25 20:10:55.924 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923323645952, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.528, 2023-08-23 21:32:48.528, <<BLOB>>
2023-08-25 20:10:55.925 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923348811776, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.534, 2023-08-23 21:32:48.534, <<BLOB>>
2023-08-25 20:10:55.925 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:55.925 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:55.925 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:56.128 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923264925696
2023-08-25 20:10:56.128 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.128 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 555918075, id=1694341923264925696, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:56 CST 2023, tickets=null]
2023-08-25 20:10:56.128 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:56.129 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:56.128(Timestamp), 1694341923264925696(Long)
2023-08-25 20:10:56.129 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965456129425  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:56.129 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965456129425  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:56.130 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965456129425  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:56.130 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965456129425  [0;39m ------------- 开始 -------------
2023-08-25 20:10:56.130 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965456129425  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:56.130 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965456129425  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:56.130 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965456129425  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:56.131 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965456129425  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:56.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965456129425  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:56.131 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965456129425  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:56.144 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965456129425  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:56.145 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965456129425  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:56.158 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:56.158 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.158 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:56.158 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@228eb10d
2023-08-25 20:10:56.159 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:56.159 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:56.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965456129425  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:56.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965456129425  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:56.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965456129425  [0;39m <==      Total: 1
2023-08-25 20:10:56.161 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965456129425  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:56.161 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965456129425  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:56.161 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965456129425  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@34b64773
2023-08-25 20:10:56.162 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965456129425  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:56.162 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965456129425  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:56.174 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:56.175 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:56.175 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:56.175 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:56.175 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 457618553, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:56.176 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:56.176 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.176 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 247278074, id=1694341923264925696, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:56 CST 2023, tickets=null]
2023-08-25 20:10:56.176 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:56.176 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:56.176(Timestamp), 1694341923264925696(Long)
2023-08-25 20:10:56.208 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965456129425  [0;39m <==    Columns: count(*)
2023-08-25 20:10:56.208 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965456129425  [0;39m <==        Row: 13806
2023-08-25 20:10:56.208 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965456129425  [0;39m <==      Total: 1
2023-08-25 20:10:56.208 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965456129425  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:56.209 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965456129425  [0;39m 返回结果: {"code":0,"message":"","result":13806,"success":true}
2023-08-25 20:10:56.209 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965456129425  [0;39m ------------- 结束 耗时：79 ms -------------
2023-08-25 20:10:56.211 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:56.211 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.412 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923281702912
2023-08-25 20:10:56.412 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.412 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1229698362, id=1694341923281702912, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:56 CST 2023, tickets=null]
2023-08-25 20:10:56.412 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:56.413 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:56.412(Timestamp), 1694341923281702912(Long)
2023-08-25 20:10:56.442 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:56.442 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.442 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:56.442 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1522e5
2023-08-25 20:10:56.443 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:56.443 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:56.457 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:56.458 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:56.458 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:56.458 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:56.459 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 705617569, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:56.459 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:56.459 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.459 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1287681651, id=1694341923281702912, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:56 CST 2023, tickets=null]
2023-08-25 20:10:56.459 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:56.459 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:56.459(Timestamp), 1694341923281702912(Long)
2023-08-25 20:10:56.489 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:56.490 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.633 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965456633yj3  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:56.634 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965456633yj3  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:56.634 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965456633yj3  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:56.635 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965456633yj3  [0;39m ------------- 开始 -------------
2023-08-25 20:10:56.635 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965456633yj3  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:56.636 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965456633yj3  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:56.636 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965456633yj3  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:56.636 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965456633yj3  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:56.636 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965456633yj3  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:56.636 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965456633yj3  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:56.649 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965456633yj3  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:56.649 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965456633yj3  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:56.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965456633yj3  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:56.665 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965456633yj3  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:56.665 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965456633yj3  [0;39m <==      Total: 1
2023-08-25 20:10:56.665 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965456633yj3  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:56.665 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965456633yj3  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:56.666 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965456633yj3  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@77f3d4d8
2023-08-25 20:10:56.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965456633yj3  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:56.667 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965456633yj3  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:56.691 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923298480128
2023-08-25 20:10:56.691 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.691 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 429831246, id=1694341923298480128, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:56 CST 2023, tickets=null]
2023-08-25 20:10:56.691 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:56.692 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:56.691(Timestamp), 1694341923298480128(Long)
2023-08-25 20:10:56.730 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:56.730 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.730 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:56.730 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@a850f30
2023-08-25 20:10:56.731 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:56.731 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:56.746 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:56.747 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:56.747 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:56.747 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:56.747 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1488483380, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:56.747 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:56.747 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.748 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1373166835, id=1694341923298480128, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:56 CST 2023, tickets=null]
2023-08-25 20:10:56.748 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:56.748 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:56.747(Timestamp), 1694341923298480128(Long)
2023-08-25 20:10:56.755 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965456633yj3  [0;39m <==    Columns: count(*)
2023-08-25 20:10:56.755 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965456633yj3  [0;39m <==        Row: 13804
2023-08-25 20:10:56.755 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965456633yj3  [0;39m <==      Total: 1
2023-08-25 20:10:56.756 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965456633yj3  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:56.756 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965456633yj3  [0;39m 返回结果: {"code":0,"message":"","result":13804,"success":true}
2023-08-25 20:10:56.756 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965456633yj3  [0;39m ------------- 结束 耗时：121 ms -------------
2023-08-25 20:10:56.779 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:56.779 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.980 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923323645952
2023-08-25 20:10:56.980 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:56.980 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 63901878, id=1694341923323645952, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:56 CST 2023, tickets=null]
2023-08-25 20:10:56.980 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:56.981 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:56.98(Timestamp), 1694341923323645952(Long)
2023-08-25 20:10:57.043 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:57.043 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.043 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:57.044 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@fe5a581
2023-08-25 20:10:57.044 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:57.044 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:57.062 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:57.063 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:57.064 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:57.064 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:57.064 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 851441440, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:57.064 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:57.064 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.064 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1156407549, id=1694341923323645952, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:57 CST 2023, tickets=null]
2023-08-25 20:10:57.064 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:57.064 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:57.064(Timestamp), 1694341923323645952(Long)
2023-08-25 20:10:57.097 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:57.097 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965457128t2j  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:57.129 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965457128t2j  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:57.129 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965457128t2j  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:57.129 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965457128t2j  [0;39m ------------- 开始 -------------
2023-08-25 20:10:57.130 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965457128t2j  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:57.130 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965457128t2j  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:57.130 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965457128t2j  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:57.131 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965457128t2j  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:57.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965457128t2j  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:57.131 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965457128t2j  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:57.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965457128t2j  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:57.149 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965457128t2j  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:57.166 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965457128t2j  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:57.167 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965457128t2j  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:57.167 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965457128t2j  [0;39m <==      Total: 1
2023-08-25 20:10:57.167 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965457128t2j  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:57.167 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965457128t2j  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:57.168 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965457128t2j  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@69ef45f0
2023-08-25 20:10:57.168 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965457128t2j  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:57.168 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965457128t2j  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:57.219 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965457128t2j  [0;39m <==    Columns: count(*)
2023-08-25 20:10:57.219 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965457128t2j  [0;39m <==        Row: 13802
2023-08-25 20:10:57.220 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965457128t2j  [0;39m <==      Total: 1
2023-08-25 20:10:57.220 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965457128t2j  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:57.220 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965457128t2j  [0;39m 返回结果: {"code":0,"message":"","result":13802,"success":true}
2023-08-25 20:10:57.220 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965457128t2j  [0;39m ------------- 结束 耗时：91 ms -------------
2023-08-25 20:10:57.297 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923348811776
2023-08-25 20:10:57.297 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.297 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1594987191, id=1694341923348811776, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:57 CST 2023, tickets=null]
2023-08-25 20:10:57.297 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:57.298 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:57.297(Timestamp), 1694341923348811776(Long)
2023-08-25 20:10:57.327 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:57.327 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.327 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:57.327 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3d1f08bc
2023-08-25 20:10:57.328 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:57.328 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:57.379 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:57.379 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:57.380 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:57.380 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:57.380 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 947528919, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:57.380 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:57.380 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.380 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2040878370, id=1694341923348811776, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:57 CST 2023, tickets=null]
2023-08-25 20:10:57.381 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:57.381 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:57.38(Timestamp), 1694341923348811776(Long)
2023-08-25 20:10:57.413 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:57.413 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.413 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:57.413 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@3ba90405
2023-08-25 20:10:57.415 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:57.416 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:57.467 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:57.467 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13802
2023-08-25 20:10:57.467 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:57.468 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:57.468 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:57.493 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:57.494 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923348811777, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.534, 2023-08-23 21:32:48.534, <<BLOB>>
2023-08-25 20:10:57.494 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923420114944, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.551, 2023-08-23 21:32:48.551, <<BLOB>>
2023-08-25 20:10:57.495 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923420114945, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.551, 2023-08-23 21:32:48.551, <<BLOB>>
2023-08-25 20:10:57.495 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923420114946, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.551, 2023-08-23 21:32:48.551, <<BLOB>>
2023-08-25 20:10:57.496 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923424309248, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.552, 2023-08-23 21:32:48.552, <<BLOB>>
2023-08-25 20:10:57.496 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:57.496 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:57.496 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:57.634 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965457634xn8  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:57.634 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965457634xn8  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:57.634 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965457634xn8  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:57.635 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965457634xn8  [0;39m ------------- 开始 -------------
2023-08-25 20:10:57.635 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965457634xn8  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:57.635 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965457634xn8  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:57.635 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965457634xn8  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:57.635 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965457634xn8  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:57.635 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965457634xn8  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:57.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965457634xn8  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:57.651 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965457634xn8  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:57.651 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965457634xn8  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:57.670 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965457634xn8  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:57.671 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965457634xn8  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:57.672 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965457634xn8  [0;39m <==      Total: 1
2023-08-25 20:10:57.673 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965457634xn8  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:57.673 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965457634xn8  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:57.674 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965457634xn8  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5b283a3d
2023-08-25 20:10:57.675 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965457634xn8  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:57.675 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965457634xn8  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:57.698 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923348811777
2023-08-25 20:10:57.698 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.698 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 422197502, id=1694341923348811777, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:57 CST 2023, tickets=null]
2023-08-25 20:10:57.698 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:57.698 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:57.698(Timestamp), 1694341923348811777(Long)
2023-08-25 20:10:57.722 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965457634xn8  [0;39m <==    Columns: count(*)
2023-08-25 20:10:57.722 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965457634xn8  [0;39m <==        Row: 13801
2023-08-25 20:10:57.723 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965457634xn8  [0;39m <==      Total: 1
2023-08-25 20:10:57.723 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965457634xn8  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:57.724 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965457634xn8  [0;39m 返回结果: {"code":0,"message":"","result":13801,"success":true}
2023-08-25 20:10:57.724 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965457634xn8  [0;39m ------------- 结束 耗时：89 ms -------------
2023-08-25 20:10:57.730 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:57.731 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.732 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:57.733 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@30c58baf
2023-08-25 20:10:57.735 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:57.736 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:57.751 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:57.754 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:57.754 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:57.755 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:57.755 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 375037739, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:57.756 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:57.756 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.756 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1713263734, id=1694341923348811777, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:57 CST 2023, tickets=null]
2023-08-25 20:10:57.757 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:57.757 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:57.756(Timestamp), 1694341923348811777(Long)
2023-08-25 20:10:57.790 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:57.791 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.991 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923420114944
2023-08-25 20:10:57.991 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:57.991 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1506339913, id=1694341923420114944, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:57 CST 2023, tickets=null]
2023-08-25 20:10:57.992 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:57.992 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:57.991(Timestamp), 1694341923420114944(Long)
2023-08-25 20:10:58.021 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:58.021 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.021 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:58.021 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@f00d96b
2023-08-25 20:10:58.022 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:58.023 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:58.040 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:58.040 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:58.041 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:58.041 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:58.041 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 983219297, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:58.041 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:58.041 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.041 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1845001693, id=1694341923420114944, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:58 CST 2023, tickets=null]
2023-08-25 20:10:58.042 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:58.042 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:58.041(Timestamp), 1694341923420114944(Long)
2023-08-25 20:10:58.071 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:58.071 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.130 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654581306ob  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:58.131 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654581306ob  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:58.131 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654581306ob  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:58.131 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654581306ob  [0;39m ------------- 开始 -------------
2023-08-25 20:10:58.131 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654581306ob  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:58.131 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654581306ob  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:58.131 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654581306ob  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:58.132 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654581306ob  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:58.132 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654581306ob  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:58.132 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654581306ob  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:58.145 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654581306ob  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:58.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654581306ob  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:58.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654581306ob  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:58.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654581306ob  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:58.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654581306ob  [0;39m <==      Total: 1
2023-08-25 20:10:58.161 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654581306ob  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:58.161 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654581306ob  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:58.161 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654581306ob  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2b3c54bd
2023-08-25 20:10:58.161 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654581306ob  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:58.162 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654581306ob  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:58.216 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654581306ob  [0;39m <==    Columns: count(*)
2023-08-25 20:10:58.216 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654581306ob  [0;39m <==        Row: 13799
2023-08-25 20:10:58.216 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654581306ob  [0;39m <==      Total: 1
2023-08-25 20:10:58.216 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654581306ob  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:58.217 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654581306ob  [0;39m 返回结果: {"code":0,"message":"","result":13799,"success":true}
2023-08-25 20:10:58.217 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654581306ob  [0;39m ------------- 结束 耗时：86 ms -------------
2023-08-25 20:10:58.274 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923420114945
2023-08-25 20:10:58.274 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.274 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 896910968, id=1694341923420114945, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:58 CST 2023, tickets=null]
2023-08-25 20:10:58.274 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:58.275 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:58.274(Timestamp), 1694341923420114945(Long)
2023-08-25 20:10:58.308 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:58.308 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.308 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:58.308 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@74db9517
2023-08-25 20:10:58.309 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:58.309 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:58.324 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:58.325 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:58.325 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:58.325 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:58.325 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1516099360, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:58.325 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:58.325 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.325 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 403980925, id=1694341923420114945, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:58 CST 2023, tickets=null]
2023-08-25 20:10:58.326 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:58.326 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:58.325(Timestamp), 1694341923420114945(Long)
2023-08-25 20:10:58.358 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:58.358 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.560 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923420114946
2023-08-25 20:10:58.560 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.560 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1970347485, id=1694341923420114946, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:58 CST 2023, tickets=null]
2023-08-25 20:10:58.560 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:58.560 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:58.56(Timestamp), 1694341923420114946(Long)
2023-08-25 20:10:58.589 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:58.590 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.590 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:58.590 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7b1c9577
2023-08-25 20:10:58.590 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:58.591 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:58.606 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:58.607 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:58.607 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:58.607 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:58.607 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1317270562, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:58.607 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:58.608 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.608 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 107923574, id=1694341923420114946, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:58 CST 2023, tickets=null]
2023-08-25 20:10:58.608 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:58.608 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:58.608(Timestamp), 1694341923420114946(Long)
2023-08-25 20:10:58.629 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965458629amr  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:58.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965458629amr  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:58.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965458629amr  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:58.630 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965458629amr  [0;39m ------------- 开始 -------------
2023-08-25 20:10:58.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965458629amr  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:58.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965458629amr  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:58.630 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965458629amr  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:58.630 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965458629amr  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:58.630 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965458629amr  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:58.630 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965458629amr  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:58.637 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:58.637 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.643 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965458629amr  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:58.644 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965458629amr  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:58.658 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965458629amr  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:58.658 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965458629amr  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:58.659 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965458629amr  [0;39m <==      Total: 1
2023-08-25 20:10:58.659 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965458629amr  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:58.659 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965458629amr  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:58.659 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965458629amr  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7a4dc29d
2023-08-25 20:10:58.660 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965458629amr  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:58.660 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965458629amr  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:58.707 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965458629amr  [0;39m <==    Columns: count(*)
2023-08-25 20:10:58.708 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965458629amr  [0;39m <==        Row: 13797
2023-08-25 20:10:58.708 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965458629amr  [0;39m <==      Total: 1
2023-08-25 20:10:58.708 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965458629amr  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:58.708 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965458629amr  [0;39m 返回结果: {"code":0,"message":"","result":13797,"success":true}
2023-08-25 20:10:58.708 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965458629amr  [0;39m ------------- 结束 耗时：78 ms -------------
2023-08-25 20:10:58.837 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923424309248
2023-08-25 20:10:58.837 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.837 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 651910023, id=1694341923424309248, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:58 CST 2023, tickets=null]
2023-08-25 20:10:58.838 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:58.838 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:58.837(Timestamp), 1694341923424309248(Long)
2023-08-25 20:10:58.870 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:58.871 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.871 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:58.871 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@775d271
2023-08-25 20:10:58.872 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:58.872 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:58.887 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:58.888 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:58.888 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:58.889 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:58.889 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1358215233, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:58.890 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:58.890 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.890 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1671634828, id=1694341923424309248, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:58 CST 2023, tickets=null]
2023-08-25 20:10:58.890 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:58.891 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:58.89(Timestamp), 1694341923424309248(Long)
2023-08-25 20:10:58.920 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:58.921 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:58.921 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:58.921 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@18f80953
2023-08-25 20:10:58.923 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:10:58.924 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:10:58.966 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:10:58.966 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13797
2023-08-25 20:10:58.966 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:58.967 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:10:58.967 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:10:58.988 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:58.988 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923432697856, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.554, 2023-08-23 21:32:48.554, <<BLOB>>
2023-08-25 20:10:58.990 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923470446592, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.563, 2023-08-23 21:32:48.563, <<BLOB>>
2023-08-25 20:10:58.991 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923491418112, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.568, 2023-08-23 21:32:48.568, <<BLOB>>
2023-08-25 20:10:58.991 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923520778240, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.575, 2023-08-23 21:32:48.575, <<BLOB>>
2023-08-25 20:10:58.992 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923566915584, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.586, 2023-08-23 21:32:48.586, <<BLOB>>
2023-08-25 20:10:58.992 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:10:58.992 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:10:58.992 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:10:59.134 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965459134h7t  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:59.135 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965459134h7t  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:59.135 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965459134h7t  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:59.135 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965459134h7t  [0;39m ------------- 开始 -------------
2023-08-25 20:10:59.135 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965459134h7t  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:59.136 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965459134h7t  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:59.136 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965459134h7t  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:59.136 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965459134h7t  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:59.136 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965459134h7t  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:59.136 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965459134h7t  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:59.136 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965459134h7t  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:59.137 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965459134h7t  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:59.153 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965459134h7t  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:59.154 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965459134h7t  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:59.155 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965459134h7t  [0;39m <==      Total: 1
2023-08-25 20:10:59.156 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965459134h7t  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:59.156 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965459134h7t  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:59.156 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965459134h7t  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@76e29fab
2023-08-25 20:10:59.157 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965459134h7t  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:59.157 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965459134h7t  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:59.194 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923432697856
2023-08-25 20:10:59.194 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.194 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1640510008, id=1694341923432697856, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:59 CST 2023, tickets=null]
2023-08-25 20:10:59.194 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:59.194 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:59.194(Timestamp), 1694341923432697856(Long)
2023-08-25 20:10:59.233 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:59.234 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.234 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:59.234 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3b5ce7dc
2023-08-25 20:10:59.235 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:59.235 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:59.252 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:59.253 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:59.253 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965459134h7t  [0;39m <==    Columns: count(*)
2023-08-25 20:10:59.253 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965459134h7t  [0;39m <==        Row: 13796
2023-08-25 20:10:59.253 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:59.253 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965459134h7t  [0;39m <==      Total: 1
2023-08-25 20:10:59.253 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:59.253 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965459134h7t  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:59.253 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 840481673, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:59.253 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965459134h7t  [0;39m 返回结果: {"code":0,"message":"","result":13796,"success":true}
2023-08-25 20:10:59.254 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:59.254 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965459134h7t  [0;39m ------------- 结束 耗时：119 ms -------------
2023-08-25 20:10:59.254 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.254 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1525807318, id=1694341923432697856, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:59 CST 2023, tickets=null]
2023-08-25 20:10:59.254 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:59.254 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:59.254(Timestamp), 1694341923432697856(Long)
2023-08-25 20:10:59.284 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:59.284 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.485 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923470446592
2023-08-25 20:10:59.485 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.485 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 472124911, id=1694341923470446592, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:59 CST 2023, tickets=null]
2023-08-25 20:10:59.485 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:59.485 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:59.485(Timestamp), 1694341923470446592(Long)
2023-08-25 20:10:59.516 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:59.516 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.517 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:59.517 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3ef55bed
2023-08-25 20:10:59.517 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:59.517 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:59.533 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:59.533 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:59.534 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:59.534 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:59.534 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2021988714, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:59.534 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:59.534 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.534 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 705198298, id=1694341923470446592, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:59 CST 2023, tickets=null]
2023-08-25 20:10:59.535 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:59.535 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:59.534(Timestamp), 1694341923470446592(Long)
2023-08-25 20:10:59.563 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:59.563 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.625 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654596257px  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:10:59.626 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654596257px  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:59.626 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654596257px  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:10:59.626 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654596257px  [0;39m ------------- 开始 -------------
2023-08-25 20:10:59.626 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654596257px  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:10:59.627 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654596257px  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:10:59.627 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654596257px  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:10:59.627 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654596257px  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:10:59.627 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654596257px  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:59.627 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654596257px  [0;39m 参数值: 1695045845151518720
2023-08-25 20:10:59.641 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654596257px  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:10:59.641 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654596257px  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:10:59.656 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654596257px  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:10:59.657 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654596257px  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:10:59.657 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654596257px  [0;39m <==      Total: 1
2023-08-25 20:10:59.657 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654596257px  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:10:59.657 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654596257px  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:59.657 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654596257px  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@312615c
2023-08-25 20:10:59.658 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654596257px  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:10:59.658 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654596257px  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:10:59.703 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654596257px  [0;39m <==    Columns: count(*)
2023-08-25 20:10:59.703 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654596257px  [0;39m <==        Row: 13794
2023-08-25 20:10:59.704 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654596257px  [0;39m <==      Total: 1
2023-08-25 20:10:59.704 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654596257px  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:10:59.704 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654596257px  [0;39m 返回结果: {"code":0,"message":"","result":13794,"success":true}
2023-08-25 20:10:59.705 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654596257px  [0;39m ------------- 结束 耗时：79 ms -------------
2023-08-25 20:10:59.765 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923491418112
2023-08-25 20:10:59.765 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.766 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1810539938, id=1694341923491418112, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:10:59 CST 2023, tickets=null]
2023-08-25 20:10:59.766 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:59.766 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:10:59.765(Timestamp), 1694341923491418112(Long)
2023-08-25 20:10:59.795 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:59.795 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.795 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:59.795 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5253cef0
2023-08-25 20:10:59.796 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:10:59.797 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:10:59.812 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:10:59.813 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:10:59.813 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:10:59.813 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:10:59.813 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1630758237, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:10:59.813 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:10:59.813 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:10:59.813 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2133241288, id=1694341923491418112, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:10:59 CST 2023, tickets=null]
2023-08-25 20:10:59.814 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:10:59.814 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:10:59.813(Timestamp), 1694341923491418112(Long)
2023-08-25 20:10:59.845 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:10:59.845 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.045 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923520778240
2023-08-25 20:11:00.045 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.045 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1022260700, id=1694341923520778240, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:00 CST 2023, tickets=null]
2023-08-25 20:11:00.045 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:00.046 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:00.045(Timestamp), 1694341923520778240(Long)
2023-08-25 20:11:00.076 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:00.076 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.076 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:00.076 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@c8f5b75
2023-08-25 20:11:00.076 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:00.077 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:00.091 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:00.092 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:00.093 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:00.093 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:00.093 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 114279503, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:00.093 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:00.093 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.093 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 794792809, id=1694341923520778240, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:00 CST 2023, tickets=null]
2023-08-25 20:11:00.093 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:00.093 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:00.093(Timestamp), 1694341923520778240(Long)
2023-08-25 20:11:00.123 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:00.123 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.131 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965460131z9u  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:00.132 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965460131z9u  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:00.132 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965460131z9u  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:00.132 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965460131z9u  [0;39m ------------- 开始 -------------
2023-08-25 20:11:00.132 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965460131z9u  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:00.132 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965460131z9u  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:00.132 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965460131z9u  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:00.133 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965460131z9u  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:00.133 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965460131z9u  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:00.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965460131z9u  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:00.150 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965460131z9u  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:00.150 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965460131z9u  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:00.169 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965460131z9u  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:00.170 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965460131z9u  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:00.170 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965460131z9u  [0;39m <==      Total: 1
2023-08-25 20:11:00.170 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965460131z9u  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:00.170 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965460131z9u  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:00.170 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965460131z9u  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6fe80bc6
2023-08-25 20:11:00.171 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965460131z9u  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:00.171 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965460131z9u  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:00.220 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965460131z9u  [0;39m <==    Columns: count(*)
2023-08-25 20:11:00.220 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965460131z9u  [0;39m <==        Row: 13792
2023-08-25 20:11:00.221 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965460131z9u  [0;39m <==      Total: 1
2023-08-25 20:11:00.221 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965460131z9u  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:00.221 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965460131z9u  [0;39m 返回结果: {"code":0,"message":"","result":13792,"success":true}
2023-08-25 20:11:00.221 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965460131z9u  [0;39m ------------- 结束 耗时：89 ms -------------
2023-08-25 20:11:00.324 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923566915584
2023-08-25 20:11:00.324 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.324 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 271963133, id=1694341923566915584, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:00 CST 2023, tickets=null]
2023-08-25 20:11:00.324 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:00.325 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:00.324(Timestamp), 1694341923566915584(Long)
2023-08-25 20:11:00.360 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:00.360 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.360 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:00.360 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3b3792ae
2023-08-25 20:11:00.360 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:00.361 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:00.375 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:00.377 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:00.377 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:00.377 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:00.377 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 904294757, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:00.377 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:00.377 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.378 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1495963393, id=1694341923566915584, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:00 CST 2023, tickets=null]
2023-08-25 20:11:00.378 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:00.378 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:00.377(Timestamp), 1694341923566915584(Long)
2023-08-25 20:11:00.415 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:00.415 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.416 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:00.416 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@426fb2ed
2023-08-25 20:11:00.418 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:00.418 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:00.489 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:00.489 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13792
2023-08-25 20:11:00.489 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:00.489 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:00.489 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:00.512 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:00.513 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923566915585, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.586, 2023-08-23 21:32:48.586, <<BLOB>>
2023-08-25 20:11:00.513 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923566915586, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.586, 2023-08-23 21:32:48.586, <<BLOB>>
2023-08-25 20:11:00.514 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923587887104, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.591, 2023-08-23 21:32:48.591, <<BLOB>>
2023-08-25 20:11:00.514 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923722104832, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.623, 2023-08-23 21:32:48.623, <<BLOB>>
2023-08-25 20:11:00.515 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923726299136, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.624, 2023-08-23 21:32:48.624, <<BLOB>>
2023-08-25 20:11:00.515 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:00.515 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:00.515 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:00.633 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965460633bx8  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:00.634 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965460633bx8  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:00.634 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965460633bx8  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:00.634 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965460633bx8  [0;39m ------------- 开始 -------------
2023-08-25 20:11:00.634 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965460633bx8  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:00.634 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965460633bx8  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:00.634 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965460633bx8  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:00.635 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965460633bx8  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:00.635 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965460633bx8  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:00.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965460633bx8  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:00.687 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965460633bx8  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:00.688 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965460633bx8  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:00.705 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965460633bx8  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:00.705 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965460633bx8  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:00.705 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965460633bx8  [0;39m <==      Total: 1
2023-08-25 20:11:00.706 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965460633bx8  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:00.706 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965460633bx8  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:00.706 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965460633bx8  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1fa17665
2023-08-25 20:11:00.707 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965460633bx8  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:00.707 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965460633bx8  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:00.716 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923566915585
2023-08-25 20:11:00.716 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.716 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1452297560, id=1694341923566915585, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:00 CST 2023, tickets=null]
2023-08-25 20:11:00.717 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:00.717 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:00.716(Timestamp), 1694341923566915585(Long)
2023-08-25 20:11:00.746 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:00.746 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.746 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:00.746 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@23520331
2023-08-25 20:11:00.746 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:00.747 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:00.755 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965460633bx8  [0;39m <==    Columns: count(*)
2023-08-25 20:11:00.755 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965460633bx8  [0;39m <==        Row: 13791
2023-08-25 20:11:00.755 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965460633bx8  [0;39m <==      Total: 1
2023-08-25 20:11:00.756 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965460633bx8  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:00.756 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965460633bx8  [0;39m 返回结果: {"code":0,"message":"","result":13791,"success":true}
2023-08-25 20:11:00.756 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965460633bx8  [0;39m ------------- 结束 耗时：122 ms -------------
2023-08-25 20:11:00.763 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:00.763 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:00.764 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:00.764 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:00.764 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 627827113, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:00.764 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:00.764 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:00.764 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 361768821, id=1694341923566915585, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:00 CST 2023, tickets=null]
2023-08-25 20:11:00.765 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:00.765 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:00.764(Timestamp), 1694341923566915585(Long)
2023-08-25 20:11:00.797 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:00.797 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.000 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923566915586
2023-08-25 20:11:01.000 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.000 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2066894412, id=1694341923566915586, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:01 CST 2023, tickets=null]
2023-08-25 20:11:01.000 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:01.000 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:01.0(Timestamp), 1694341923566915586(Long)
2023-08-25 20:11:01.032 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:01.032 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.032 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:01.032 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1511aaf5
2023-08-25 20:11:01.032 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:01.032 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:01.068 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:01.069 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:01.069 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:01.069 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:01.069 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 496670419, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:01.070 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:01.070 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.070 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1756402820, id=1694341923566915586, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:01 CST 2023, tickets=null]
2023-08-25 20:11:01.070 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:01.071 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:01.07(Timestamp), 1694341923566915586(Long)
2023-08-25 20:11:01.100 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:01.101 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.130 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965461130mmm  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:01.130 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965461130mmm  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:01.130 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965461130mmm  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:01.130 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965461130mmm  [0;39m ------------- 开始 -------------
2023-08-25 20:11:01.130 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965461130mmm  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:01.130 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965461130mmm  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:01.131 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965461130mmm  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:01.131 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965461130mmm  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:01.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965461130mmm  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:01.131 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965461130mmm  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:01.144 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965461130mmm  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:01.145 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965461130mmm  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:01.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965461130mmm  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:01.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965461130mmm  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:01.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965461130mmm  [0;39m <==      Total: 1
2023-08-25 20:11:01.160 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965461130mmm  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:01.160 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965461130mmm  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:01.160 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965461130mmm  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1d0857e5
2023-08-25 20:11:01.161 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965461130mmm  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:01.161 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965461130mmm  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:01.211 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965461130mmm  [0;39m <==    Columns: count(*)
2023-08-25 20:11:01.211 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965461130mmm  [0;39m <==        Row: 13789
2023-08-25 20:11:01.211 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965461130mmm  [0;39m <==      Total: 1
2023-08-25 20:11:01.211 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965461130mmm  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:01.212 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965461130mmm  [0;39m 返回结果: {"code":0,"message":"","result":13789,"success":true}
2023-08-25 20:11:01.212 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965461130mmm  [0;39m ------------- 结束 耗时：82 ms -------------
2023-08-25 20:11:01.302 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923587887104
2023-08-25 20:11:01.302 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.302 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 461873041, id=1694341923587887104, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:01 CST 2023, tickets=null]
2023-08-25 20:11:01.303 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:01.303 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:01.302(Timestamp), 1694341923587887104(Long)
2023-08-25 20:11:01.337 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:01.338 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.338 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:01.338 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3e1a1450
2023-08-25 20:11:01.339 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:01.340 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:01.356 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:01.356 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:01.357 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:01.357 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:01.357 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 533010566, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:01.357 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:01.357 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.357 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1485948428, id=1694341923587887104, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:01 CST 2023, tickets=null]
2023-08-25 20:11:01.357 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:01.357 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:01.357(Timestamp), 1694341923587887104(Long)
2023-08-25 20:11:01.386 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:01.387 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.587 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923722104832
2023-08-25 20:11:01.587 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.587 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1169526138, id=1694341923722104832, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:01 CST 2023, tickets=null]
2023-08-25 20:11:01.587 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:01.588 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:01.587(Timestamp), 1694341923722104832(Long)
2023-08-25 20:11:01.616 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:01.617 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.617 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:01.617 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2474a598
2023-08-25 20:11:01.617 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:01.617 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:01.630 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965461630w1v  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:01.631 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965461630w1v  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:01.631 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965461630w1v  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:01.631 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965461630w1v  [0;39m ------------- 开始 -------------
2023-08-25 20:11:01.631 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965461630w1v  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:01.631 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965461630w1v  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:01.631 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965461630w1v  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:01.631 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965461630w1v  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:01.631 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965461630w1v  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:01.632 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965461630w1v  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:01.633 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:01.634 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:01.635 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:01.635 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:01.635 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1141067628, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:01.635 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:01.635 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 730598194, id=1694341923722104832, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:01 CST 2023, tickets=null]
2023-08-25 20:11:01.635 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:01.635 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:01.635(Timestamp), 1694341923722104832(Long)
2023-08-25 20:11:01.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965461630w1v  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:01.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965461630w1v  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:01.668 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:01.668 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965461630w1v  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:01.669 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.669 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965461630w1v  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:01.669 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965461630w1v  [0;39m <==      Total: 1
2023-08-25 20:11:01.669 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965461630w1v  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:01.670 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965461630w1v  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:01.670 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965461630w1v  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2076b701
2023-08-25 20:11:01.670 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965461630w1v  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:01.671 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965461630w1v  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:01.723 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965461630w1v  [0;39m <==    Columns: count(*)
2023-08-25 20:11:01.724 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965461630w1v  [0;39m <==        Row: 13787
2023-08-25 20:11:01.724 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965461630w1v  [0;39m <==      Total: 1
2023-08-25 20:11:01.724 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965461630w1v  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:01.724 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965461630w1v  [0;39m 返回结果: {"code":0,"message":"","result":13787,"success":true}
2023-08-25 20:11:01.724 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965461630w1v  [0;39m ------------- 结束 耗时：93 ms -------------
2023-08-25 20:11:01.869 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923726299136
2023-08-25 20:11:01.869 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.869 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 564526264, id=1694341923726299136, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:01 CST 2023, tickets=null]
2023-08-25 20:11:01.870 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:01.870 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:01.869(Timestamp), 1694341923726299136(Long)
2023-08-25 20:11:01.899 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:01.899 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.899 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:01.899 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@341dfe86
2023-08-25 20:11:01.900 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:01.900 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:01.915 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:01.915 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:01.915 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:01.916 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:01.916 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 957876502, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:01.916 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:01.916 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.916 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1535583293, id=1694341923726299136, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:01 CST 2023, tickets=null]
2023-08-25 20:11:01.916 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:01.916 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:01.916(Timestamp), 1694341923726299136(Long)
2023-08-25 20:11:01.946 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:01.946 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:01.946 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:01.946 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4fc7658
2023-08-25 20:11:01.948 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:01.948 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:01.991 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:01.991 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13787
2023-08-25 20:11:01.991 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:01.992 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:01.992 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:02.014 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:02.014 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923726299137, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.624, 2023-08-23 21:32:48.624, <<BLOB>>
2023-08-25 20:11:02.015 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923814379520, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.645, 2023-08-23 21:32:48.645, <<BLOB>>
2023-08-25 20:11:02.016 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923822768128, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.647, 2023-08-23 21:32:48.647, <<BLOB>>
2023-08-25 20:11:02.017 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923822768129, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.647, 2023-08-23 21:32:48.647, <<BLOB>>
2023-08-25 20:11:02.017 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923873099776, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.659, 2023-08-23 21:32:48.659, <<BLOB>>
2023-08-25 20:11:02.018 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:02.018 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:02.018 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:02.134 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965462134qkm  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:02.134 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965462134qkm  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:02.134 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965462134qkm  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:02.135 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965462134qkm  [0;39m ------------- 开始 -------------
2023-08-25 20:11:02.135 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965462134qkm  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:02.135 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965462134qkm  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:02.135 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965462134qkm  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:02.135 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965462134qkm  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:02.135 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965462134qkm  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:02.136 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965462134qkm  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:02.155 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965462134qkm  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:02.156 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965462134qkm  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:02.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965462134qkm  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:02.174 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965462134qkm  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:02.174 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965462134qkm  [0;39m <==      Total: 1
2023-08-25 20:11:02.174 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965462134qkm  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:02.174 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965462134qkm  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:02.174 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965462134qkm  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@32561984
2023-08-25 20:11:02.174 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965462134qkm  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:02.175 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965462134qkm  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:02.219 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923726299137
2023-08-25 20:11:02.219 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.219 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1357234915, id=1694341923726299137, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:02 CST 2023, tickets=null]
2023-08-25 20:11:02.219 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:02.220 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:02.219(Timestamp), 1694341923726299137(Long)
2023-08-25 20:11:02.226 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965462134qkm  [0;39m <==    Columns: count(*)
2023-08-25 20:11:02.226 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965462134qkm  [0;39m <==        Row: 13786
2023-08-25 20:11:02.226 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965462134qkm  [0;39m <==      Total: 1
2023-08-25 20:11:02.226 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965462134qkm  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:02.226 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965462134qkm  [0;39m 返回结果: {"code":0,"message":"","result":13786,"success":true}
2023-08-25 20:11:02.226 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965462134qkm  [0;39m ------------- 结束 耗时：91 ms -------------
2023-08-25 20:11:02.253 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:02.253 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.254 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:02.255 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@114a8baa
2023-08-25 20:11:02.255 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:02.256 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:02.271 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:02.272 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:02.272 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:02.273 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:02.273 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 960208548, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:02.273 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:02.273 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.273 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1773875378, id=1694341923726299137, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:02 CST 2023, tickets=null]
2023-08-25 20:11:02.273 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:02.274 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:02.273(Timestamp), 1694341923726299137(Long)
2023-08-25 20:11:02.307 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:02.307 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.508 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923814379520
2023-08-25 20:11:02.508 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.508 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1456948980, id=1694341923814379520, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:02 CST 2023, tickets=null]
2023-08-25 20:11:02.509 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:02.509 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:02.508(Timestamp), 1694341923814379520(Long)
2023-08-25 20:11:02.545 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:02.545 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.546 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:02.546 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@372b459
2023-08-25 20:11:02.546 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:02.547 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:02.562 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:02.563 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:02.563 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:02.564 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:02.564 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 209394062, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:02.564 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:02.564 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.564 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1580505513, id=1694341923814379520, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:02 CST 2023, tickets=null]
2023-08-25 20:11:02.564 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:02.564 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:02.564(Timestamp), 1694341923814379520(Long)
2023-08-25 20:11:02.593 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:02.593 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.629 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654626293tp  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:02.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654626293tp  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:02.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654626293tp  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:02.630 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654626293tp  [0;39m ------------- 开始 -------------
2023-08-25 20:11:02.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654626293tp  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:02.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654626293tp  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:02.630 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654626293tp  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:02.630 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654626293tp  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:02.630 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654626293tp  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:02.630 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654626293tp  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:02.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654626293tp  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:02.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654626293tp  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:02.669 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654626293tp  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:02.670 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654626293tp  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:02.671 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654626293tp  [0;39m <==      Total: 1
2023-08-25 20:11:02.671 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654626293tp  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:02.672 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654626293tp  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:02.672 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654626293tp  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@42a949c2
2023-08-25 20:11:02.673 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654626293tp  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:02.673 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654626293tp  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:02.723 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654626293tp  [0;39m <==    Columns: count(*)
2023-08-25 20:11:02.723 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654626293tp  [0;39m <==        Row: 13784
2023-08-25 20:11:02.723 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654626293tp  [0;39m <==      Total: 1
2023-08-25 20:11:02.723 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654626293tp  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:02.724 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654626293tp  [0;39m 返回结果: {"code":0,"message":"","result":13784,"success":true}
2023-08-25 20:11:02.724 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654626293tp  [0;39m ------------- 结束 耗时：94 ms -------------
2023-08-25 20:11:02.795 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923822768128
2023-08-25 20:11:02.795 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.795 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 272752453, id=1694341923822768128, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:02 CST 2023, tickets=null]
2023-08-25 20:11:02.796 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:02.796 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:02.795(Timestamp), 1694341923822768128(Long)
2023-08-25 20:11:02.835 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:02.835 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.836 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:02.836 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3e213356
2023-08-25 20:11:02.837 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:02.838 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:02.853 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:02.854 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:02.855 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:02.855 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:02.855 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2044566267, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:02.856 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:02.856 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:02.856 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 758540585, id=1694341923822768128, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:02 CST 2023, tickets=null]
2023-08-25 20:11:02.856 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:02.856 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:02.856(Timestamp), 1694341923822768128(Long)
2023-08-25 20:11:02.894 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:02.894 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.095 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923822768129
2023-08-25 20:11:03.095 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.095 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1001820369, id=1694341923822768129, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:03 CST 2023, tickets=null]
2023-08-25 20:11:03.096 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:03.096 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:03.095(Timestamp), 1694341923822768129(Long)
2023-08-25 20:11:03.125 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:03.126 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.126 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:03.126 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@30c894d3
2023-08-25 20:11:03.127 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:03.127 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:03.131 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965463131ixq  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:03.132 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965463131ixq  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:03.132 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965463131ixq  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:03.132 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965463131ixq  [0;39m ------------- 开始 -------------
2023-08-25 20:11:03.132 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965463131ixq  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:03.133 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965463131ixq  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:03.133 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965463131ixq  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:03.133 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965463131ixq  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:03.133 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965463131ixq  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:03.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965463131ixq  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:03.142 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:03.142 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:03.143 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:03.143 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:03.143 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1999088094, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:03.143 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:03.143 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.143 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 387373339, id=1694341923822768129, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:03 CST 2023, tickets=null]
2023-08-25 20:11:03.143 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:03.144 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:03.143(Timestamp), 1694341923822768129(Long)
2023-08-25 20:11:03.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965463131ixq  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:03.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965463131ixq  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:03.161 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965463131ixq  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:03.162 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965463131ixq  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:03.162 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965463131ixq  [0;39m <==      Total: 1
2023-08-25 20:11:03.163 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965463131ixq  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:03.163 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965463131ixq  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:03.163 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965463131ixq  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@136710b8
2023-08-25 20:11:03.163 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965463131ixq  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:03.164 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965463131ixq  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:03.175 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:03.175 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.213 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965463131ixq  [0;39m <==    Columns: count(*)
2023-08-25 20:11:03.213 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965463131ixq  [0;39m <==        Row: 13782
2023-08-25 20:11:03.213 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965463131ixq  [0;39m <==      Total: 1
2023-08-25 20:11:03.214 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965463131ixq  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:03.214 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965463131ixq  [0;39m 返回结果: {"code":0,"message":"","result":13782,"success":true}
2023-08-25 20:11:03.214 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965463131ixq  [0;39m ------------- 结束 耗时：82 ms -------------
2023-08-25 20:11:03.376 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923873099776
2023-08-25 20:11:03.376 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.376 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1599632253, id=1694341923873099776, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:03 CST 2023, tickets=null]
2023-08-25 20:11:03.377 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:03.377 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:03.376(Timestamp), 1694341923873099776(Long)
2023-08-25 20:11:03.406 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:03.407 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.407 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:03.407 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@340485b4
2023-08-25 20:11:03.407 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:03.408 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:03.424 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:03.424 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:03.425 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:03.425 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:03.425 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 781746485, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:03.425 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:03.425 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.425 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1634533175, id=1694341923873099776, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:03 CST 2023, tickets=null]
2023-08-25 20:11:03.426 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:03.426 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:03.425(Timestamp), 1694341923873099776(Long)
2023-08-25 20:11:03.455 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:03.455 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.455 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:03.455 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7de2cdad
2023-08-25 20:11:03.457 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:03.457 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:03.500 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:03.501 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13782
2023-08-25 20:11:03.501 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:03.501 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:03.501 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:03.523 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:03.524 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923915042816, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.669, 2023-08-23 21:32:48.669, <<BLOB>>
2023-08-25 20:11:03.524 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923923431424, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.671, 2023-08-23 21:32:48.671, <<BLOB>>
2023-08-25 20:11:03.525 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923940208640, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.675, 2023-08-23 21:32:48.675, <<BLOB>>
2023-08-25 20:11:03.526 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923969568768, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.682, 2023-08-23 21:32:48.682, <<BLOB>>
2023-08-25 20:11:03.527 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923969568769, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.682, 2023-08-23 21:32:48.682, <<BLOB>>
2023-08-25 20:11:03.527 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:03.527 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:03.527 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:03.634 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965463633ph2  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:03.634 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965463633ph2  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:03.634 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965463633ph2  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:03.634 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965463633ph2  [0;39m ------------- 开始 -------------
2023-08-25 20:11:03.634 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965463633ph2  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:03.635 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965463633ph2  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:03.635 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965463633ph2  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:03.635 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965463633ph2  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:03.635 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965463633ph2  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:03.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965463633ph2  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:03.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965463633ph2  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:03.650 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965463633ph2  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:03.668 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965463633ph2  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:03.669 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965463633ph2  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:03.669 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965463633ph2  [0;39m <==      Total: 1
2023-08-25 20:11:03.670 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965463633ph2  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:03.670 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965463633ph2  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:03.670 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965463633ph2  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@70c69b26
2023-08-25 20:11:03.671 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965463633ph2  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:03.672 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965463633ph2  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:03.729 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923915042816
2023-08-25 20:11:03.729 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.729 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 614012260, id=1694341923915042816, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:03 CST 2023, tickets=null]
2023-08-25 20:11:03.729 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:03.729 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:03.729(Timestamp), 1694341923915042816(Long)
2023-08-25 20:11:03.757 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965463633ph2  [0;39m <==    Columns: count(*)
2023-08-25 20:11:03.758 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965463633ph2  [0;39m <==        Row: 13781
2023-08-25 20:11:03.758 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965463633ph2  [0;39m <==      Total: 1
2023-08-25 20:11:03.758 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965463633ph2  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:03.758 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965463633ph2  [0;39m 返回结果: {"code":0,"message":"","result":13781,"success":true}
2023-08-25 20:11:03.759 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965463633ph2  [0;39m ------------- 结束 耗时：125 ms -------------
2023-08-25 20:11:03.762 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:03.762 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.762 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:03.762 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3c9651bd
2023-08-25 20:11:03.763 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:03.763 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:03.778 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:03.779 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:03.779 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:03.779 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:03.779 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1990665628, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:03.780 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:03.780 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:03.780 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1818651322, id=1694341923915042816, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:03 CST 2023, tickets=null]
2023-08-25 20:11:03.780 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:03.780 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:03.78(Timestamp), 1694341923915042816(Long)
2023-08-25 20:11:03.809 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:03.809 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.011 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923923431424
2023-08-25 20:11:04.011 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.011 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 836083023, id=1694341923923431424, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:04 CST 2023, tickets=null]
2023-08-25 20:11:04.011 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:04.012 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:04.011(Timestamp), 1694341923923431424(Long)
2023-08-25 20:11:04.041 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:04.041 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.041 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:04.041 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@21fd53ee
2023-08-25 20:11:04.042 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:04.042 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:04.057 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:04.057 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:04.058 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:04.058 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:04.058 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1081706919, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:04.058 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:04.058 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.058 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 808520737, id=1694341923923431424, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:04 CST 2023, tickets=null]
2023-08-25 20:11:04.058 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:04.059 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:04.058(Timestamp), 1694341923923431424(Long)
2023-08-25 20:11:04.089 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:04.089 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965464128tbp  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:04.129 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965464128tbp  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:04.129 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965464128tbp  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:04.129 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965464128tbp  [0;39m ------------- 开始 -------------
2023-08-25 20:11:04.129 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965464128tbp  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:04.129 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965464128tbp  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:04.129 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965464128tbp  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:04.129 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965464128tbp  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:04.130 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965464128tbp  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:04.130 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965464128tbp  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:04.130 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965464128tbp  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:04.130 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965464128tbp  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:04.144 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965464128tbp  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:04.145 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965464128tbp  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:04.146 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965464128tbp  [0;39m <==      Total: 1
2023-08-25 20:11:04.146 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965464128tbp  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:04.146 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965464128tbp  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:04.146 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965464128tbp  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2068976b
2023-08-25 20:11:04.147 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965464128tbp  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:04.148 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965464128tbp  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:04.200 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965464128tbp  [0;39m <==    Columns: count(*)
2023-08-25 20:11:04.200 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965464128tbp  [0;39m <==        Row: 13779
2023-08-25 20:11:04.200 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965464128tbp  [0;39m <==      Total: 1
2023-08-25 20:11:04.200 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965464128tbp  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:04.200 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965464128tbp  [0;39m 返回结果: {"code":0,"message":"","result":13779,"success":true}
2023-08-25 20:11:04.201 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965464128tbp  [0;39m ------------- 结束 耗时：72 ms -------------
2023-08-25 20:11:04.289 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923940208640
2023-08-25 20:11:04.289 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.290 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2088841799, id=1694341923940208640, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:04 CST 2023, tickets=null]
2023-08-25 20:11:04.291 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:04.292 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:04.289(Timestamp), 1694341923940208640(Long)
2023-08-25 20:11:04.327 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:04.327 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.327 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:04.328 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@48d1e2f3
2023-08-25 20:11:04.328 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:04.328 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:04.365 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:04.365 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:04.365 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:04.366 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:04.366 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 71934048, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:04.366 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:04.366 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.366 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 965443480, id=1694341923940208640, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:04 CST 2023, tickets=null]
2023-08-25 20:11:04.366 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:04.366 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:04.366(Timestamp), 1694341923940208640(Long)
2023-08-25 20:11:04.399 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:04.399 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.600 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923969568768
2023-08-25 20:11:04.600 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.600 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1913727774, id=1694341923969568768, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:04 CST 2023, tickets=null]
2023-08-25 20:11:04.600 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:04.600 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:04.6(Timestamp), 1694341923969568768(Long)
2023-08-25 20:11:04.630 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965464629770  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:04.630 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965464629770  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:04.630 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965464629770  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:04.630 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965464629770  [0;39m ------------- 开始 -------------
2023-08-25 20:11:04.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965464629770  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:04.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965464629770  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:04.631 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965464629770  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:04.631 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965464629770  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:04.631 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965464629770  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:04.631 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965464629770  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:04.632 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:04.632 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.632 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:04.632 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@598710c9
2023-08-25 20:11:04.633 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:04.633 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:04.646 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965464629770  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:04.646 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965464629770  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:04.648 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:04.649 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:04.649 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:04.649 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:04.649 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 171374824, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:04.650 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:04.650 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.650 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 670378013, id=1694341923969568768, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:04 CST 2023, tickets=null]
2023-08-25 20:11:04.650 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:04.650 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:04.65(Timestamp), 1694341923969568768(Long)
2023-08-25 20:11:04.662 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965464629770  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:04.663 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965464629770  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:04.663 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965464629770  [0;39m <==      Total: 1
2023-08-25 20:11:04.663 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965464629770  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:04.663 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965464629770  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:04.664 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965464629770  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4207e89f
2023-08-25 20:11:04.664 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965464629770  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:04.665 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965464629770  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:04.680 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:04.680 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.712 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965464629770  [0;39m <==    Columns: count(*)
2023-08-25 20:11:04.712 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965464629770  [0;39m <==        Row: 13778
2023-08-25 20:11:04.713 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965464629770  [0;39m <==      Total: 1
2023-08-25 20:11:04.713 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965464629770  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:04.713 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965464629770  [0;39m 返回结果: {"code":0,"message":"","result":13778,"success":true}
2023-08-25 20:11:04.713 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965464629770  [0;39m ------------- 结束 耗时：83 ms -------------
2023-08-25 20:11:04.882 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923969568769
2023-08-25 20:11:04.883 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.883 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 350438689, id=1694341923969568769, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:04 CST 2023, tickets=null]
2023-08-25 20:11:04.884 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:04.884 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:04.883(Timestamp), 1694341923969568769(Long)
2023-08-25 20:11:04.922 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:04.923 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.923 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:04.923 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@27947e15
2023-08-25 20:11:04.924 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:04.925 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:04.944 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:04.949 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:04.951 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:04.952 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:04.953 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1149448004, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:04.954 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:04.954 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.954 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 361367903, id=1694341923969568769, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:04 CST 2023, tickets=null]
2023-08-25 20:11:04.955 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:04.955 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:04.954(Timestamp), 1694341923969568769(Long)
2023-08-25 20:11:04.996 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:04.996 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:04.996 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:04.997 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6651d6d1
2023-08-25 20:11:05.041 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:05.041 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:05.085 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:05.086 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13777
2023-08-25 20:11:05.086 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:05.086 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:05.087 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:05.110 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:05.111 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923973763072, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.682, 2023-08-23 21:32:48.682, <<BLOB>>
2023-08-25 20:11:05.112 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341923990540288, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.687, 2023-08-23 21:32:48.687, <<BLOB>>
2023-08-25 20:11:05.112 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924011511808, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.691, 2023-08-23 21:32:48.691, <<BLOB>>
2023-08-25 20:11:05.113 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924015706112, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.693, 2023-08-23 21:32:48.693, <<BLOB>>
2023-08-25 20:11:05.114 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924024094720, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.695, 2023-08-23 21:32:48.695, <<BLOB>>
2023-08-25 20:11:05.114 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:05.115 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:05.115 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:05.131 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965465131gph  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:05.132 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965465131gph  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:05.132 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965465131gph  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:05.133 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965465131gph  [0;39m ------------- 开始 -------------
2023-08-25 20:11:05.133 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965465131gph  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:05.133 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965465131gph  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:05.133 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965465131gph  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:05.134 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965465131gph  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:05.134 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965465131gph  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:05.134 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965465131gph  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:05.154 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965465131gph  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:05.154 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965465131gph  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:05.174 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965465131gph  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:05.175 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965465131gph  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:05.176 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965465131gph  [0;39m <==      Total: 1
2023-08-25 20:11:05.176 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965465131gph  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:05.176 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965465131gph  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:05.177 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965465131gph  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@76de3b91
2023-08-25 20:11:05.177 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965465131gph  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:05.178 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965465131gph  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:05.227 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965465131gph  [0;39m <==    Columns: count(*)
2023-08-25 20:11:05.227 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965465131gph  [0;39m <==        Row: 13776
2023-08-25 20:11:05.228 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965465131gph  [0;39m <==      Total: 1
2023-08-25 20:11:05.228 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965465131gph  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:05.228 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965465131gph  [0;39m 返回结果: {"code":0,"message":"","result":13776,"success":true}
2023-08-25 20:11:05.229 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965465131gph  [0;39m ------------- 结束 耗时：96 ms -------------
2023-08-25 20:11:05.317 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923973763072
2023-08-25 20:11:05.317 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.317 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1385716095, id=1694341923973763072, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:05 CST 2023, tickets=null]
2023-08-25 20:11:05.317 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:05.318 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:05.317(Timestamp), 1694341923973763072(Long)
2023-08-25 20:11:05.347 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:05.347 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.348 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:05.348 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3ec7cec9
2023-08-25 20:11:05.348 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:05.349 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:05.364 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:05.365 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:05.366 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:05.366 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:05.366 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 724300151, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:05.367 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:05.367 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.367 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 5982138, id=1694341923973763072, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:05 CST 2023, tickets=null]
2023-08-25 20:11:05.367 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:05.368 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:05.367(Timestamp), 1694341923973763072(Long)
2023-08-25 20:11:05.400 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:05.400 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.604 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341923990540288
2023-08-25 20:11:05.604 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.604 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2078218755, id=1694341923990540288, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:05 CST 2023, tickets=null]
2023-08-25 20:11:05.605 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:05.605 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:05.604(Timestamp), 1694341923990540288(Long)
2023-08-25 20:11:05.630 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654656301fb  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:05.630 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654656301fb  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:05.630 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654656301fb  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:05.631 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654656301fb  [0;39m ------------- 开始 -------------
2023-08-25 20:11:05.631 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654656301fb  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:05.631 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654656301fb  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:05.631 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654656301fb  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:05.631 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654656301fb  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:05.631 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654656301fb  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:05.631 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654656301fb  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:05.635 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:05.635 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.635 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:05.635 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@55370c8a
2023-08-25 20:11:05.636 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:05.636 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:05.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654656301fb  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:05.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654656301fb  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:05.651 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:05.651 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:05.652 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:05.652 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:05.652 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 84240002, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:05.652 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:05.653 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.653 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1438438328, id=1694341923990540288, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:05 CST 2023, tickets=null]
2023-08-25 20:11:05.653 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:05.653 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:05.652(Timestamp), 1694341923990540288(Long)
2023-08-25 20:11:05.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654656301fb  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:05.664 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654656301fb  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:05.665 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654656301fb  [0;39m <==      Total: 1
2023-08-25 20:11:05.665 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654656301fb  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:05.665 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654656301fb  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:05.665 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654656301fb  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@54af59d8
2023-08-25 20:11:05.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654656301fb  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:05.666 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654656301fb  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:05.683 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:05.683 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.716 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654656301fb  [0;39m <==    Columns: count(*)
2023-08-25 20:11:05.717 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654656301fb  [0;39m <==        Row: 13775
2023-08-25 20:11:05.717 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654656301fb  [0;39m <==      Total: 1
2023-08-25 20:11:05.717 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654656301fb  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:05.717 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654656301fb  [0;39m 返回结果: {"code":0,"message":"","result":13775,"success":true}
2023-08-25 20:11:05.717 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654656301fb  [0;39m ------------- 结束 耗时：86 ms -------------
2023-08-25 20:11:05.884 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924011511808
2023-08-25 20:11:05.884 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.884 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1973221872, id=1694341924011511808, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:05 CST 2023, tickets=null]
2023-08-25 20:11:05.884 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:05.885 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:05.884(Timestamp), 1694341924011511808(Long)
2023-08-25 20:11:05.914 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:05.914 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.914 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:05.914 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@6891896c
2023-08-25 20:11:05.915 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:05.915 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:05.930 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:05.930 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:05.931 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:05.931 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:05.931 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1422527729, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:05.931 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:05.931 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:05.931 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 311072967, id=1694341924011511808, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:05 CST 2023, tickets=null]
2023-08-25 20:11:05.931 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:05.932 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:05.931(Timestamp), 1694341924011511808(Long)
2023-08-25 20:11:05.961 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:05.961 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.132 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965466132igh  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:06.132 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965466132igh  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:06.132 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965466132igh  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:06.133 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965466132igh  [0;39m ------------- 开始 -------------
2023-08-25 20:11:06.133 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965466132igh  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:06.133 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965466132igh  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:06.133 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965466132igh  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:06.133 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965466132igh  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:06.133 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965466132igh  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:06.133 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965466132igh  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:06.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965466132igh  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:06.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965466132igh  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:06.162 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924015706112
2023-08-25 20:11:06.162 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.162 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1775583002, id=1694341924015706112, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:06 CST 2023, tickets=null]
2023-08-25 20:11:06.162 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:06.162 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:06.162(Timestamp), 1694341924015706112(Long)
2023-08-25 20:11:06.185 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965466132igh  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:06.186 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965466132igh  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:06.187 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965466132igh  [0;39m <==      Total: 1
2023-08-25 20:11:06.188 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965466132igh  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:06.188 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965466132igh  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:06.188 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965466132igh  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5bc778e4
2023-08-25 20:11:06.188 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965466132igh  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:06.189 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965466132igh  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:06.219 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:06.219 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.219 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:06.219 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2bf6fa9d
2023-08-25 20:11:06.220 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:06.220 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:06.240 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:06.241 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:06.241 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:06.241 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:06.241 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 942993199, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:06.241 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:06.242 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.242 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 891252191, id=1694341924015706112, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:06 CST 2023, tickets=null]
2023-08-25 20:11:06.242 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:06.242 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:06.242(Timestamp), 1694341924015706112(Long)
2023-08-25 20:11:06.244 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965466132igh  [0;39m <==    Columns: count(*)
2023-08-25 20:11:06.245 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965466132igh  [0;39m <==        Row: 13773
2023-08-25 20:11:06.245 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965466132igh  [0;39m <==      Total: 1
2023-08-25 20:11:06.245 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965466132igh  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:06.245 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965466132igh  [0;39m 返回结果: {"code":0,"message":"","result":13773,"success":true}
2023-08-25 20:11:06.246 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965466132igh  [0;39m ------------- 结束 耗时：113 ms -------------
2023-08-25 20:11:06.278 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:06.279 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.479 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924024094720
2023-08-25 20:11:06.479 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.479 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 408923068, id=1694341924024094720, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:06 CST 2023, tickets=null]
2023-08-25 20:11:06.479 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:06.479 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:06.479(Timestamp), 1694341924024094720(Long)
2023-08-25 20:11:06.510 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:06.511 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.511 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:06.511 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@493286b4
2023-08-25 20:11:06.512 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:06.513 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:06.528 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:06.529 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:06.530 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:06.531 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:06.531 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 252208648, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:06.531 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:06.531 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.531 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1677291756, id=1694341924024094720, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:06 CST 2023, tickets=null]
2023-08-25 20:11:06.532 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:06.533 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:06.531(Timestamp), 1694341924024094720(Long)
2023-08-25 20:11:06.565 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:06.565 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.565 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:06.566 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2dca1245
2023-08-25 20:11:06.568 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:06.568 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:06.611 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:06.612 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13772
2023-08-25 20:11:06.612 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:06.612 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:06.613 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:06.634 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:06.635 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924078620672, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.708, 2023-08-23 21:32:48.708, <<BLOB>>
2023-08-25 20:11:06.637 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924078620673, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.708, 2023-08-23 21:32:48.708, <<BLOB>>
2023-08-25 20:11:06.638 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924166701056, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.729, 2023-08-23 21:32:48.729, <<BLOB>>
2023-08-25 20:11:06.639 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169296546663993h  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:06.640 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169296546663993h  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:06.640 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924166701057, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.729, 2023-08-23 21:32:48.729, <<BLOB>>
2023-08-25 20:11:06.640 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169296546663993h  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:06.641 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924166701058, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.729, 2023-08-23 21:32:48.729, <<BLOB>>
2023-08-25 20:11:06.641 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169296546663993h  [0;39m ------------- 开始 -------------
2023-08-25 20:11:06.641 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169296546663993h  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:06.641 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:06.641 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169296546663993h  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:06.642 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:06.642 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169296546663993h  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:06.642 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:06.642 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169296546663993h  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:06.642 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296546663993h  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:06.643 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296546663993h  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:06.656 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296546663993h  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:06.657 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296546663993h  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:06.670 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296546663993h  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:06.672 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296546663993h  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:06.672 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296546663993h  [0;39m <==      Total: 1
2023-08-25 20:11:06.673 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296546663993h  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:06.673 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296546663993h  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:06.674 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296546663993h  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@306cccf0
2023-08-25 20:11:06.675 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296546663993h  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:06.675 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296546663993h  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:06.723 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296546663993h  [0;39m <==    Columns: count(*)
2023-08-25 20:11:06.724 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296546663993h  [0;39m <==        Row: 13771
2023-08-25 20:11:06.724 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296546663993h  [0;39m <==      Total: 1
2023-08-25 20:11:06.725 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296546663993h  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:06.725 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169296546663993h  [0;39m 返回结果: {"code":0,"message":"","result":13771,"success":true}
2023-08-25 20:11:06.725 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169296546663993h  [0;39m ------------- 结束 耗时：84 ms -------------
2023-08-25 20:11:06.842 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924078620672
2023-08-25 20:11:06.842 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.842 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 270664623, id=1694341924078620672, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:06 CST 2023, tickets=null]
2023-08-25 20:11:06.842 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:06.842 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:06.842(Timestamp), 1694341924078620672(Long)
2023-08-25 20:11:06.874 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:06.874 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.875 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:06.875 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@b79eb62
2023-08-25 20:11:06.875 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:06.875 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:06.890 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:06.891 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:06.891 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:06.891 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:06.891 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1576316284, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:06.891 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:06.892 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:06.892 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1131305546, id=1694341924078620672, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:06 CST 2023, tickets=null]
2023-08-25 20:11:06.892 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:06.892 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:06.892(Timestamp), 1694341924078620672(Long)
2023-08-25 20:11:06.921 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:06.922 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.123 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924078620673
2023-08-25 20:11:07.123 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.123 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 97597988, id=1694341924078620673, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:07 CST 2023, tickets=null]
2023-08-25 20:11:07.124 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:07.124 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:07.123(Timestamp), 1694341924078620673(Long)
2023-08-25 20:11:07.135 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965467135ruu  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:07.136 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965467135ruu  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:07.136 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965467135ruu  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:07.137 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965467135ruu  [0;39m ------------- 开始 -------------
2023-08-25 20:11:07.137 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965467135ruu  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:07.137 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965467135ruu  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:07.138 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965467135ruu  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:07.138 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965467135ruu  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:07.138 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965467135ruu  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:07.138 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965467135ruu  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:07.157 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:07.158 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.158 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:07.159 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4c3b4159
2023-08-25 20:11:07.159 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:07.159 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965467135ruu  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:07.160 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:07.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965467135ruu  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:07.174 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:07.175 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:07.176 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:07.176 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:07.176 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 60915136, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:07.177 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:07.177 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.177 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1226317451, id=1694341924078620673, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:07 CST 2023, tickets=null]
2023-08-25 20:11:07.177 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:07.178 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:07.177(Timestamp), 1694341924078620673(Long)
2023-08-25 20:11:07.178 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965467135ruu  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:07.179 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965467135ruu  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:07.179 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965467135ruu  [0;39m <==      Total: 1
2023-08-25 20:11:07.179 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965467135ruu  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:07.180 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965467135ruu  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:07.180 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965467135ruu  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@544a351b
2023-08-25 20:11:07.181 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965467135ruu  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:07.181 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965467135ruu  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:07.208 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:07.208 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.235 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965467135ruu  [0;39m <==    Columns: count(*)
2023-08-25 20:11:07.236 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965467135ruu  [0;39m <==        Row: 13770
2023-08-25 20:11:07.236 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965467135ruu  [0;39m <==      Total: 1
2023-08-25 20:11:07.237 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965467135ruu  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:07.237 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965467135ruu  [0;39m 返回结果: {"code":0,"message":"","result":13770,"success":true}
2023-08-25 20:11:07.237 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965467135ruu  [0;39m ------------- 结束 耗时：100 ms -------------
2023-08-25 20:11:07.408 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924166701056
2023-08-25 20:11:07.408 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.408 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 994481962, id=1694341924166701056, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:07 CST 2023, tickets=null]
2023-08-25 20:11:07.408 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:07.409 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:07.408(Timestamp), 1694341924166701056(Long)
2023-08-25 20:11:07.443 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:07.443 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.444 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:07.444 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3a640e52
2023-08-25 20:11:07.444 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:07.444 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:07.461 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:07.461 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:07.462 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:07.462 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:07.462 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 401738228, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:07.462 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:07.462 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.462 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 702207935, id=1694341924166701056, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:07 CST 2023, tickets=null]
2023-08-25 20:11:07.462 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:07.462 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:07.462(Timestamp), 1694341924166701056(Long)
2023-08-25 20:11:07.492 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:07.492 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.628 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965467628hlu  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:07.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965467628hlu  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:07.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965467628hlu  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:07.630 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965467628hlu  [0;39m ------------- 开始 -------------
2023-08-25 20:11:07.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965467628hlu  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:07.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965467628hlu  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:07.630 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965467628hlu  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:07.630 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965467628hlu  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:07.630 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965467628hlu  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:07.630 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965467628hlu  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:07.670 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965467628hlu  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:07.671 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965467628hlu  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:07.689 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965467628hlu  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:07.690 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965467628hlu  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:07.690 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965467628hlu  [0;39m <==      Total: 1
2023-08-25 20:11:07.690 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965467628hlu  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:07.691 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965467628hlu  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:07.691 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965467628hlu  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@60e0474a
2023-08-25 20:11:07.691 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965467628hlu  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:07.692 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965467628hlu  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:07.693 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924166701057
2023-08-25 20:11:07.693 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.693 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 986555473, id=1694341924166701057, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:07 CST 2023, tickets=null]
2023-08-25 20:11:07.694 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:07.694 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:07.693(Timestamp), 1694341924166701057(Long)
2023-08-25 20:11:07.725 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:07.725 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.725 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:07.725 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@42efe87b
2023-08-25 20:11:07.726 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:07.726 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:07.741 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:07.741 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965467628hlu  [0;39m <==    Columns: count(*)
2023-08-25 20:11:07.741 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965467628hlu  [0;39m <==        Row: 13768
2023-08-25 20:11:07.742 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965467628hlu  [0;39m <==      Total: 1
2023-08-25 20:11:07.742 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:07.742 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965467628hlu  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:07.742 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965467628hlu  [0;39m 返回结果: {"code":0,"message":"","result":13768,"success":true}
2023-08-25 20:11:07.742 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:07.742 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965467628hlu  [0;39m ------------- 结束 耗时：112 ms -------------
2023-08-25 20:11:07.742 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:07.743 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 349349236, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:07.743 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:07.743 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.743 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 346023332, id=1694341924166701057, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:07 CST 2023, tickets=null]
2023-08-25 20:11:07.743 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:07.743 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:07.743(Timestamp), 1694341924166701057(Long)
2023-08-25 20:11:07.775 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:07.775 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.978 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924166701058
2023-08-25 20:11:07.978 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:07.978 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 965192055, id=1694341924166701058, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:07 CST 2023, tickets=null]
2023-08-25 20:11:07.978 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:07.978 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:07.978(Timestamp), 1694341924166701058(Long)
2023-08-25 20:11:08.011 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:08.011 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.011 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:08.011 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@53a62258
2023-08-25 20:11:08.012 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:08.012 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:08.027 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:08.028 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:08.029 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:08.029 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:08.029 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 224504472, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:08.029 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:08.029 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.030 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1330460656, id=1694341924166701058, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:08 CST 2023, tickets=null]
2023-08-25 20:11:08.030 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:08.030 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:08.029(Timestamp), 1694341924166701058(Long)
2023-08-25 20:11:08.060 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:08.060 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.060 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:08.061 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6fc6dc65
2023-08-25 20:11:08.063 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:08.064 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:08.109 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:08.109 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13767
2023-08-25 20:11:08.109 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:08.110 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:08.110 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:08.132 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:08.132 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965468132ygq  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:08.133 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965468132ygq  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:08.133 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924170895360, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.730, 2023-08-23 21:32:48.730, <<BLOB>>
2023-08-25 20:11:08.133 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965468132ygq  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:08.133 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965468132ygq  [0;39m ------------- 开始 -------------
2023-08-25 20:11:08.134 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924200255488, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.737, 2023-08-23 21:32:48.737, <<BLOB>>
2023-08-25 20:11:08.134 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965468132ygq  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:08.139 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965468132ygq  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:08.139 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965468132ygq  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:08.139 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924200255489, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.737, 2023-08-23 21:32:48.737, <<BLOB>>
2023-08-25 20:11:08.140 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965468132ygq  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:08.140 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965468132ygq  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:08.140 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965468132ygq  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:08.140 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924212838400, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.740, 2023-08-23 21:32:48.740, <<BLOB>>
2023-08-25 20:11:08.141 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924229615616, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.744, 2023-08-23 21:32:48.744, <<BLOB>>
2023-08-25 20:11:08.141 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:08.142 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:08.142 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:08.155 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965468132ygq  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:08.155 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965468132ygq  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:08.174 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965468132ygq  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:08.175 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965468132ygq  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:08.175 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965468132ygq  [0;39m <==      Total: 1
2023-08-25 20:11:08.176 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965468132ygq  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:08.176 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965468132ygq  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:08.176 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965468132ygq  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4ee67edb
2023-08-25 20:11:08.177 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965468132ygq  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:08.178 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965468132ygq  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:08.241 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965468132ygq  [0;39m <==    Columns: count(*)
2023-08-25 20:11:08.241 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965468132ygq  [0;39m <==        Row: 13766
2023-08-25 20:11:08.241 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965468132ygq  [0;39m <==      Total: 1
2023-08-25 20:11:08.242 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965468132ygq  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:08.242 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965468132ygq  [0;39m 返回结果: {"code":0,"message":"","result":13766,"success":true}
2023-08-25 20:11:08.242 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965468132ygq  [0;39m ------------- 结束 耗时：109 ms -------------
2023-08-25 20:11:08.343 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924170895360
2023-08-25 20:11:08.343 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.343 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1718826833, id=1694341924170895360, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:08 CST 2023, tickets=null]
2023-08-25 20:11:08.343 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:08.343 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:08.343(Timestamp), 1694341924170895360(Long)
2023-08-25 20:11:08.373 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:08.373 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.373 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:08.373 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@62663806
2023-08-25 20:11:08.374 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:08.374 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:08.393 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:08.394 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:08.394 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:08.394 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:08.394 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1561766184, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:08.395 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:08.395 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.395 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1256830961, id=1694341924170895360, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:08 CST 2023, tickets=null]
2023-08-25 20:11:08.395 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:08.395 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:08.395(Timestamp), 1694341924170895360(Long)
2023-08-25 20:11:08.424 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:08.424 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.625 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924200255488
2023-08-25 20:11:08.625 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.625 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1027908808, id=1694341924200255488, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:08 CST 2023, tickets=null]
2023-08-25 20:11:08.626 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:08.626 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:08.625(Timestamp), 1694341924200255488(Long)
2023-08-25 20:11:08.628 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965468628ra8  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:08.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965468628ra8  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:08.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965468628ra8  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:08.629 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965468628ra8  [0;39m ------------- 开始 -------------
2023-08-25 20:11:08.629 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965468628ra8  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:08.629 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965468628ra8  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:08.629 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965468628ra8  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:08.630 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965468628ra8  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:08.630 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965468628ra8  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:08.630 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965468628ra8  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:08.644 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965468628ra8  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:08.645 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965468628ra8  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:08.655 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:08.656 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.656 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:08.656 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@522266d1
2023-08-25 20:11:08.656 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:08.657 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:08.659 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965468628ra8  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:08.660 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965468628ra8  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:08.660 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965468628ra8  [0;39m <==      Total: 1
2023-08-25 20:11:08.661 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965468628ra8  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:08.661 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965468628ra8  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:08.661 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965468628ra8  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@374894f7
2023-08-25 20:11:08.662 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965468628ra8  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:08.662 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965468628ra8  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:08.671 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:08.672 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:08.672 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:08.673 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:08.673 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 867726947, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:08.674 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:08.674 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.674 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2125181880, id=1694341924200255488, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:08 CST 2023, tickets=null]
2023-08-25 20:11:08.674 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:08.675 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:08.674(Timestamp), 1694341924200255488(Long)
2023-08-25 20:11:08.705 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:08.705 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.717 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965468628ra8  [0;39m <==    Columns: count(*)
2023-08-25 20:11:08.717 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965468628ra8  [0;39m <==        Row: 13765
2023-08-25 20:11:08.718 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965468628ra8  [0;39m <==      Total: 1
2023-08-25 20:11:08.718 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965468628ra8  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:08.719 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965468628ra8  [0;39m 返回结果: {"code":0,"message":"","result":13765,"success":true}
2023-08-25 20:11:08.719 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965468628ra8  [0;39m ------------- 结束 耗时：90 ms -------------
2023-08-25 20:11:08.907 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924200255489
2023-08-25 20:11:08.907 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.907 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 61437783, id=1694341924200255489, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:08 CST 2023, tickets=null]
2023-08-25 20:11:08.907 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:08.908 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:08.907(Timestamp), 1694341924200255489(Long)
2023-08-25 20:11:08.936 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:08.937 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.937 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:08.937 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@50c7599e
2023-08-25 20:11:08.938 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:08.938 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:08.954 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:08.955 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:08.956 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:08.956 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:08.956 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1427969570, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:08.956 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:08.956 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:08.956 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 918398420, id=1694341924200255489, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:08 CST 2023, tickets=null]
2023-08-25 20:11:08.957 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:08.957 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:08.956(Timestamp), 1694341924200255489(Long)
2023-08-25 20:11:08.990 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:08.990 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.130 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965469130odx  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:09.131 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965469130odx  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:09.131 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965469130odx  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:09.131 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965469130odx  [0;39m ------------- 开始 -------------
2023-08-25 20:11:09.131 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965469130odx  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:09.131 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965469130odx  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:09.131 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965469130odx  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:09.131 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965469130odx  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:09.131 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965469130odx  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:09.132 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965469130odx  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:09.132 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965469130odx  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:09.132 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965469130odx  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:09.171 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965469130odx  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:09.172 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965469130odx  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:09.173 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965469130odx  [0;39m <==      Total: 1
2023-08-25 20:11:09.173 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965469130odx  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:09.174 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965469130odx  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:09.174 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965469130odx  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1bffa384
2023-08-25 20:11:09.175 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965469130odx  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:09.175 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965469130odx  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:09.193 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924212838400
2023-08-25 20:11:09.193 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.193 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2012863860, id=1694341924212838400, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:09 CST 2023, tickets=null]
2023-08-25 20:11:09.193 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:09.193 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:09.193(Timestamp), 1694341924212838400(Long)
2023-08-25 20:11:09.222 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965469130odx  [0;39m <==    Columns: count(*)
2023-08-25 20:11:09.223 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965469130odx  [0;39m <==        Row: 13763
2023-08-25 20:11:09.223 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965469130odx  [0;39m <==      Total: 1
2023-08-25 20:11:09.223 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965469130odx  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:09.223 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965469130odx  [0;39m 返回结果: {"code":0,"message":"","result":13763,"success":true}
2023-08-25 20:11:09.223 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965469130odx  [0;39m ------------- 结束 耗时：92 ms -------------
2023-08-25 20:11:09.224 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:09.224 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.224 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:09.225 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@11a0f623
2023-08-25 20:11:09.225 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:09.226 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:09.243 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:09.244 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:09.244 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:09.244 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:09.244 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 341994034, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:09.244 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:09.244 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.245 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 500063248, id=1694341924212838400, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:09 CST 2023, tickets=null]
2023-08-25 20:11:09.245 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:09.245 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:09.244(Timestamp), 1694341924212838400(Long)
2023-08-25 20:11:09.274 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:09.275 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.476 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924229615616
2023-08-25 20:11:09.476 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.476 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1851882639, id=1694341924229615616, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:09 CST 2023, tickets=null]
2023-08-25 20:11:09.476 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:09.476 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:09.476(Timestamp), 1694341924229615616(Long)
2023-08-25 20:11:09.506 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:09.507 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.507 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:09.507 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@694577d
2023-08-25 20:11:09.507 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:09.507 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:09.522 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:09.522 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:09.522 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:09.523 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:09.523 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 637048003, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:09.523 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:09.523 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.523 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1638756631, id=1694341924229615616, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:09 CST 2023, tickets=null]
2023-08-25 20:11:09.523 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:09.523 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:09.523(Timestamp), 1694341924229615616(Long)
2023-08-25 20:11:09.554 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:09.554 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.554 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:09.554 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@45d4c24a
2023-08-25 20:11:09.556 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:09.556 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:09.609 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:09.609 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13762
2023-08-25 20:11:09.609 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:09.610 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:09.610 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:09.628 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965469628pve  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:09.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965469628pve  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:09.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965469628pve  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:09.629 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965469628pve  [0;39m ------------- 开始 -------------
2023-08-25 20:11:09.629 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965469628pve  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:09.629 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965469628pve  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:09.629 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965469628pve  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:09.629 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965469628pve  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:09.629 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965469628pve  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:09.629 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965469628pve  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:09.631 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:09.632 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924258975744, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.751, 2023-08-23 21:32:48.751, <<BLOB>>
2023-08-25 20:11:09.632 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924271558656, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.754, 2023-08-23 21:32:48.754, <<BLOB>>
2023-08-25 20:11:09.633 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924271558657, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.754, 2023-08-23 21:32:48.754, <<BLOB>>
2023-08-25 20:11:09.633 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924326084608, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.767, 2023-08-23 21:32:48.767, <<BLOB>>
2023-08-25 20:11:09.633 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924372221952, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.778, 2023-08-23 21:32:48.778, <<BLOB>>
2023-08-25 20:11:09.633 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:09.634 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:09.634 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:09.643 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965469628pve  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:09.643 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965469628pve  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:09.659 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965469628pve  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:09.660 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965469628pve  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:09.660 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965469628pve  [0;39m <==      Total: 1
2023-08-25 20:11:09.660 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965469628pve  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:09.660 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965469628pve  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:09.660 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965469628pve  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@7951bf84
2023-08-25 20:11:09.661 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965469628pve  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:09.661 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965469628pve  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:09.705 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965469628pve  [0;39m <==    Columns: count(*)
2023-08-25 20:11:09.705 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965469628pve  [0;39m <==        Row: 13761
2023-08-25 20:11:09.705 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965469628pve  [0;39m <==      Total: 1
2023-08-25 20:11:09.705 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965469628pve  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:09.705 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965469628pve  [0;39m 返回结果: {"code":0,"message":"","result":13761,"success":true}
2023-08-25 20:11:09.706 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965469628pve  [0;39m ------------- 结束 耗时：77 ms -------------
2023-08-25 20:11:09.834 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924258975744
2023-08-25 20:11:09.834 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.834 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1062866542, id=1694341924258975744, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:09 CST 2023, tickets=null]
2023-08-25 20:11:09.834 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:09.834 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:09.834(Timestamp), 1694341924258975744(Long)
2023-08-25 20:11:09.866 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:09.866 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.866 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:09.866 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@4ac29c47
2023-08-25 20:11:09.867 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:09.867 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:09.909 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:09.910 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:09.910 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:09.910 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:09.910 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 55849133, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:09.910 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:09.910 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:09.910 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 40046874, id=1694341924258975744, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:09 CST 2023, tickets=null]
2023-08-25 20:11:09.911 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:09.911 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:09.91(Timestamp), 1694341924258975744(Long)
2023-08-25 20:11:09.939 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:09.940 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965470128zit  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:10.129 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965470128zit  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:10.129 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965470128zit  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:10.129 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965470128zit  [0;39m ------------- 开始 -------------
2023-08-25 20:11:10.129 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965470128zit  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:10.129 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965470128zit  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:10.129 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965470128zit  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:10.130 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965470128zit  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:10.130 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965470128zit  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:10.130 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965470128zit  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:10.140 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924271558656
2023-08-25 20:11:10.140 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.140 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 597774235, id=1694341924271558656, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:10 CST 2023, tickets=null]
2023-08-25 20:11:10.140 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:10.141 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:10.14(Timestamp), 1694341924271558656(Long)
2023-08-25 20:11:10.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965470128zit  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:10.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965470128zit  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:10.165 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965470128zit  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:10.165 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965470128zit  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:10.166 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965470128zit  [0;39m <==      Total: 1
2023-08-25 20:11:10.166 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965470128zit  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:10.166 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965470128zit  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:10.166 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965470128zit  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@17d7b2ab
2023-08-25 20:11:10.167 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965470128zit  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:10.168 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965470128zit  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:10.171 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:10.171 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.171 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:10.171 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1b23f8fb
2023-08-25 20:11:10.172 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:10.172 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:10.188 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:10.189 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:10.189 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:10.189 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:10.190 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 39266687, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:10.190 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:10.190 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.190 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 360868141, id=1694341924271558656, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:10 CST 2023, tickets=null]
2023-08-25 20:11:10.190 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:10.190 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:10.19(Timestamp), 1694341924271558656(Long)
2023-08-25 20:11:10.218 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965470128zit  [0;39m <==    Columns: count(*)
2023-08-25 20:11:10.219 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965470128zit  [0;39m <==        Row: 13760
2023-08-25 20:11:10.220 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965470128zit  [0;39m <==      Total: 1
2023-08-25 20:11:10.220 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965470128zit  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:10.220 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965470128zit  [0;39m 返回结果: {"code":0,"message":"","result":13760,"success":true}
2023-08-25 20:11:10.220 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965470128zit  [0;39m ------------- 结束 耗时：91 ms -------------
2023-08-25 20:11:10.257 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:10.257 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.458 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924271558657
2023-08-25 20:11:10.458 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.458 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 557969587, id=1694341924271558657, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:10 CST 2023, tickets=null]
2023-08-25 20:11:10.458 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:10.458 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:10.458(Timestamp), 1694341924271558657(Long)
2023-08-25 20:11:10.495 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:10.495 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.495 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:10.495 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@1cabe045
2023-08-25 20:11:10.495 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:10.496 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:10.511 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:10.511 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:10.511 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:10.512 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:10.512 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 912083924, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:10.512 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:10.512 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.512 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 500818875, id=1694341924271558657, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:10 CST 2023, tickets=null]
2023-08-25 20:11:10.512 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:10.513 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:10.512(Timestamp), 1694341924271558657(Long)
2023-08-25 20:11:10.544 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:10.545 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.628 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169296547062716k  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:10.628 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169296547062716k  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:10.628 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169296547062716k  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:10.628 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169296547062716k  [0;39m ------------- 开始 -------------
2023-08-25 20:11:10.628 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169296547062716k  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:10.629 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169296547062716k  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:10.629 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169296547062716k  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:10.629 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169296547062716k  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:10.629 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296547062716k  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:10.629 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296547062716k  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:10.658 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296547062716k  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:10.659 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296547062716k  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:10.676 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296547062716k  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:10.677 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m169296547062716k  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:10.677 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m169296547062716k  [0;39m <==      Total: 1
2023-08-25 20:11:10.677 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296547062716k  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:10.677 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169296547062716k  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:10.677 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169296547062716k  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4f94b926
2023-08-25 20:11:10.678 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296547062716k  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:10.678 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296547062716k  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:10.735 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296547062716k  [0;39m <==    Columns: count(*)
2023-08-25 20:11:10.736 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m169296547062716k  [0;39m <==        Row: 13758
2023-08-25 20:11:10.736 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m169296547062716k  [0;39m <==      Total: 1
2023-08-25 20:11:10.737 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169296547062716k  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:10.737 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169296547062716k  [0;39m 返回结果: {"code":0,"message":"","result":13758,"success":true}
2023-08-25 20:11:10.737 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169296547062716k  [0;39m ------------- 结束 耗时：109 ms -------------
2023-08-25 20:11:10.746 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924326084608
2023-08-25 20:11:10.746 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.746 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2030281070, id=1694341924326084608, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:10 CST 2023, tickets=null]
2023-08-25 20:11:10.746 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:10.747 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:10.746(Timestamp), 1694341924326084608(Long)
2023-08-25 20:11:10.776 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:10.776 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.776 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:10.776 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@774abd5a
2023-08-25 20:11:10.777 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:10.777 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:10.792 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:10.793 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:10.794 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:10.794 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:10.794 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1373350622, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:10.794 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:10.794 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:10.794 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 376635738, id=1694341924326084608, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:10 CST 2023, tickets=null]
2023-08-25 20:11:10.794 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:10.794 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:10.794(Timestamp), 1694341924326084608(Long)
2023-08-25 20:11:10.824 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:10.824 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.025 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924372221952
2023-08-25 20:11:11.025 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.025 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 988154935, id=1694341924372221952, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:11 CST 2023, tickets=null]
2023-08-25 20:11:11.025 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:11.026 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:11.025(Timestamp), 1694341924372221952(Long)
2023-08-25 20:11:11.056 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:11.056 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.056 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:11.056 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@389062b8
2023-08-25 20:11:11.057 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:11.057 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:11.072 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:11.072 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:11.073 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:11.073 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:11.073 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 144901145, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:11.073 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:11.073 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.073 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2830678, id=1694341924372221952, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:11 CST 2023, tickets=null]
2023-08-25 20:11:11.074 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:11.074 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:11.073(Timestamp), 1694341924372221952(Long)
2023-08-25 20:11:11.105 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:11.105 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.105 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:11.105 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@4876cebb
2023-08-25 20:11:11.107 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:11.107 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:11.127 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965471127c2f  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:11.128 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965471127c2f  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:11.128 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965471127c2f  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:11.128 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965471127c2f  [0;39m ------------- 开始 -------------
2023-08-25 20:11:11.128 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965471127c2f  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:11.128 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965471127c2f  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:11.128 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965471127c2f  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:11.129 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965471127c2f  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:11.129 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965471127c2f  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:11.129 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965471127c2f  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:11.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965471127c2f  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:11.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965471127c2f  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:11.150 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:11.151 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13757
2023-08-25 20:11:11.151 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:11.152 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:11.152 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:11.161 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965471127c2f  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:11.162 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965471127c2f  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:11.162 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965471127c2f  [0;39m <==      Total: 1
2023-08-25 20:11:11.162 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965471127c2f  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:11.163 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965471127c2f  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:11.163 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965471127c2f  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@546704e3
2023-08-25 20:11:11.163 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965471127c2f  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:11.164 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965471127c2f  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:11.174 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:11.175 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924498051072, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.808, 2023-08-23 21:32:48.808, <<BLOB>>
2023-08-25 20:11:11.177 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924539994112, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.818, 2023-08-23 21:32:48.818, <<BLOB>>
2023-08-25 20:11:11.178 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924544188416, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.819, 2023-08-23 21:32:48.819, <<BLOB>>
2023-08-25 20:11:11.179 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924544188417, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.819, 2023-08-23 21:32:48.819, <<BLOB>>
2023-08-25 20:11:11.180 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924552577024, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.821, 2023-08-23 21:32:48.821, <<BLOB>>
2023-08-25 20:11:11.181 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:11.181 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:11.182 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:11.210 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965471127c2f  [0;39m <==    Columns: count(*)
2023-08-25 20:11:11.211 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965471127c2f  [0;39m <==        Row: 13756
2023-08-25 20:11:11.211 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965471127c2f  [0;39m <==      Total: 1
2023-08-25 20:11:11.212 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965471127c2f  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:11.213 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965471127c2f  [0;39m 返回结果: {"code":0,"message":"","result":13756,"success":true}
2023-08-25 20:11:11.213 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965471127c2f  [0;39m ------------- 结束 耗时：85 ms -------------
2023-08-25 20:11:11.385 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924498051072
2023-08-25 20:11:11.385 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.385 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1817464167, id=1694341924498051072, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:11 CST 2023, tickets=null]
2023-08-25 20:11:11.385 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:11.385 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:11.385(Timestamp), 1694341924498051072(Long)
2023-08-25 20:11:11.414 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:11.414 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.414 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:11.414 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@746a9645
2023-08-25 20:11:11.415 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:11.415 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:11.430 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:11.431 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:11.432 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:11.432 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:11.432 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1648232558, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:11.432 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:11.432 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.432 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1239622778, id=1694341924498051072, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:11 CST 2023, tickets=null]
2023-08-25 20:11:11.433 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:11.433 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:11.432(Timestamp), 1694341924498051072(Long)
2023-08-25 20:11:11.473 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:11.473 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.629 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965471629stw  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:11.629 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965471629stw  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:11.629 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965471629stw  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:11.630 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965471629stw  [0;39m ------------- 开始 -------------
2023-08-25 20:11:11.630 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965471629stw  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:11.630 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965471629stw  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:11.630 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965471629stw  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:11.630 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965471629stw  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:11.630 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965471629stw  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:11.630 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965471629stw  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:11.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965471629stw  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:11.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965471629stw  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:11.675 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924539994112
2023-08-25 20:11:11.675 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.675 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1061017988, id=1694341924539994112, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:11 CST 2023, tickets=null]
2023-08-25 20:11:11.675 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:11.676 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:11.675(Timestamp), 1694341924539994112(Long)
2023-08-25 20:11:11.698 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965471629stw  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:11.699 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965471629stw  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:11.699 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965471629stw  [0;39m <==      Total: 1
2023-08-25 20:11:11.699 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965471629stw  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:11.700 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965471629stw  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:11.700 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965471629stw  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@18ddbcb
2023-08-25 20:11:11.700 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965471629stw  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:11.701 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965471629stw  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:11.728 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:11.728 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.728 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:11.729 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7dc2fa41
2023-08-25 20:11:11.729 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:11.730 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:11.745 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:11.746 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:11.746 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:11.746 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:11.746 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 530022732, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:11.746 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:11.746 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.746 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 614824104, id=1694341924539994112, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:11 CST 2023, tickets=null]
2023-08-25 20:11:11.747 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:11.747 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:11.746(Timestamp), 1694341924539994112(Long)
2023-08-25 20:11:11.764 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965471629stw  [0;39m <==    Columns: count(*)
2023-08-25 20:11:11.764 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965471629stw  [0;39m <==        Row: 13755
2023-08-25 20:11:11.765 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965471629stw  [0;39m <==      Total: 1
2023-08-25 20:11:11.765 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965471629stw  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:11.765 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965471629stw  [0;39m 返回结果: {"code":0,"message":"","result":13755,"success":true}
2023-08-25 20:11:11.765 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965471629stw  [0;39m ------------- 结束 耗时：135 ms -------------
2023-08-25 20:11:11.780 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:11.780 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.982 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924544188416
2023-08-25 20:11:11.982 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:11.982 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1016930203, id=1694341924544188416, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:11 CST 2023, tickets=null]
2023-08-25 20:11:11.982 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:11.983 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:11.982(Timestamp), 1694341924544188416(Long)
2023-08-25 20:11:12.012 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:12.012 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.012 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:12.012 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@104c3fd1
2023-08-25 20:11:12.013 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:12.013 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:12.029 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:12.030 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:12.030 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:12.030 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:12.030 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1994445495, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:12.031 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:12.031 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.031 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1927419538, id=1694341924544188416, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:12 CST 2023, tickets=null]
2023-08-25 20:11:12.031 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:12.031 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:12.031(Timestamp), 1694341924544188416(Long)
2023-08-25 20:11:12.062 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:12.062 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.127 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965472127s6q  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:12.128 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965472127s6q  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:12.128 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965472127s6q  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:12.128 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965472127s6q  [0;39m ------------- 开始 -------------
2023-08-25 20:11:12.128 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965472127s6q  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:12.128 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965472127s6q  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:12.128 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965472127s6q  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:12.129 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965472127s6q  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:12.129 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965472127s6q  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:12.129 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965472127s6q  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:12.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965472127s6q  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:12.147 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965472127s6q  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:12.167 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965472127s6q  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:12.168 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965472127s6q  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:12.169 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965472127s6q  [0;39m <==      Total: 1
2023-08-25 20:11:12.169 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965472127s6q  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:12.169 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965472127s6q  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:12.169 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965472127s6q  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@b5d66c4
2023-08-25 20:11:12.170 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965472127s6q  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:12.170 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965472127s6q  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:12.218 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965472127s6q  [0;39m <==    Columns: count(*)
2023-08-25 20:11:12.219 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965472127s6q  [0;39m <==        Row: 13753
2023-08-25 20:11:12.219 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965472127s6q  [0;39m <==      Total: 1
2023-08-25 20:11:12.220 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965472127s6q  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:12.220 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965472127s6q  [0;39m 返回结果: {"code":0,"message":"","result":13753,"success":true}
2023-08-25 20:11:12.220 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965472127s6q  [0;39m ------------- 结束 耗时：92 ms -------------
2023-08-25 20:11:12.263 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924544188417
2023-08-25 20:11:12.263 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.263 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 175650181, id=1694341924544188417, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:12 CST 2023, tickets=null]
2023-08-25 20:11:12.264 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:12.264 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:12.263(Timestamp), 1694341924544188417(Long)
2023-08-25 20:11:12.293 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:12.293 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.294 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:12.294 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@18c9e45c
2023-08-25 20:11:12.294 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:12.294 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:12.309 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:12.310 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:12.311 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:12.311 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:12.311 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1485909321, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:12.311 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:12.311 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.311 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1260884175, id=1694341924544188417, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:12 CST 2023, tickets=null]
2023-08-25 20:11:12.311 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:12.312 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:12.311(Timestamp), 1694341924544188417(Long)
2023-08-25 20:11:12.342 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:12.343 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.544 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924552577024
2023-08-25 20:11:12.544 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.544 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2026158246, id=1694341924552577024, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:12 CST 2023, tickets=null]
2023-08-25 20:11:12.544 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:12.545 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:12.544(Timestamp), 1694341924552577024(Long)
2023-08-25 20:11:12.579 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:12.580 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.580 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:12.580 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5eb86598
2023-08-25 20:11:12.580 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:12.580 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:12.594 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:12.595 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:12.595 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:12.595 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:12.595 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1150236246, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:12.596 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:12.596 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.596 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 485828092, id=1694341924552577024, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:12 CST 2023, tickets=null]
2023-08-25 20:11:12.596 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:12.596 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:12.596(Timestamp), 1694341924552577024(Long)
2023-08-25 20:11:12.625 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:12.625 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.625 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:12.625 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5498a0e
2023-08-25 20:11:12.626 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965472626ofs  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:12.626 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965472626ofs  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:12.626 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965472626ofs  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:12.626 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965472626ofs  [0;39m ------------- 开始 -------------
2023-08-25 20:11:12.626 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965472626ofs  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:12.627 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965472626ofs  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:12.627 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965472626ofs  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:12.627 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965472626ofs  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:12.627 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965472626ofs  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:12.627 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:12.627 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965472626ofs  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:12.627 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:12.644 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965472626ofs  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:12.644 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965472626ofs  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:12.661 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965472626ofs  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:12.662 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965472626ofs  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:12.662 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965472626ofs  [0;39m <==      Total: 1
2023-08-25 20:11:12.663 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965472626ofs  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:12.663 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965472626ofs  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:12.663 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965472626ofs  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@60050e37
2023-08-25 20:11:12.664 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965472626ofs  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:12.664 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965472626ofs  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:12.675 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:12.676 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13752
2023-08-25 20:11:12.676 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:12.676 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:12.676 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:12.754 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:12.755 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924552577025, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.821, 2023-08-23 21:32:48.821, <<BLOB>>
2023-08-25 20:11:12.757 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924552577026, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.821, 2023-08-23 21:32:48.821, <<BLOB>>
2023-08-25 20:11:12.758 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924556771328, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.822, 2023-08-23 21:32:48.822, <<BLOB>>
2023-08-25 20:11:12.758 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924556771329, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.822, 2023-08-23 21:32:48.822, <<BLOB>>
2023-08-25 20:11:12.759 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924565159936, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.824, 2023-08-23 21:32:48.824, <<BLOB>>
2023-08-25 20:11:12.759 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:12.760 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:12.760 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:12.766 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965472626ofs  [0;39m <==    Columns: count(*)
2023-08-25 20:11:12.766 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965472626ofs  [0;39m <==        Row: 13751
2023-08-25 20:11:12.767 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965472626ofs  [0;39m <==      Total: 1
2023-08-25 20:11:12.768 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965472626ofs  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:12.768 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965472626ofs  [0;39m 返回结果: {"code":0,"message":"","result":13751,"success":true}
2023-08-25 20:11:12.768 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965472626ofs  [0;39m ------------- 结束 耗时：142 ms -------------
2023-08-25 20:11:12.961 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924552577025
2023-08-25 20:11:12.961 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.961 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 626126647, id=1694341924552577025, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:12 CST 2023, tickets=null]
2023-08-25 20:11:12.961 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:12.961 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:12.961(Timestamp), 1694341924552577025(Long)
2023-08-25 20:11:12.992 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:12.993 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:12.993 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:12.993 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@68325739
2023-08-25 20:11:12.993 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:12.993 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:13.009 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:13.009 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:13.010 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:13.010 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:13.011 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 652162574, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:13.011 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:13.011 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.011 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1744825246, id=1694341924552577025, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:13 CST 2023, tickets=null]
2023-08-25 20:11:13.011 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:13.011 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:13.011(Timestamp), 1694341924552577025(Long)
2023-08-25 20:11:13.040 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:13.040 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.137 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965473137bqk  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:13.137 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965473137bqk  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:13.138 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965473137bqk  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:13.138 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965473137bqk  [0;39m ------------- 开始 -------------
2023-08-25 20:11:13.138 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965473137bqk  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:13.138 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965473137bqk  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:13.138 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965473137bqk  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:13.138 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965473137bqk  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:13.138 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965473137bqk  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:13.138 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965473137bqk  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:13.155 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965473137bqk  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:13.156 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965473137bqk  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:13.170 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965473137bqk  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:13.170 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965473137bqk  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:13.171 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965473137bqk  [0;39m <==      Total: 1
2023-08-25 20:11:13.172 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965473137bqk  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:13.172 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965473137bqk  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:13.172 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965473137bqk  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@1124596d
2023-08-25 20:11:13.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965473137bqk  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:13.173 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965473137bqk  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:13.220 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965473137bqk  [0;39m <==    Columns: count(*)
2023-08-25 20:11:13.221 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965473137bqk  [0;39m <==        Row: 13750
2023-08-25 20:11:13.221 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965473137bqk  [0;39m <==      Total: 1
2023-08-25 20:11:13.221 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965473137bqk  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:13.221 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965473137bqk  [0;39m 返回结果: {"code":0,"message":"","result":13750,"success":true}
2023-08-25 20:11:13.222 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965473137bqk  [0;39m ------------- 结束 耗时：84 ms -------------
2023-08-25 20:11:13.241 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924552577026
2023-08-25 20:11:13.241 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.241 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2079496803, id=1694341924552577026, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:13 CST 2023, tickets=null]
2023-08-25 20:11:13.241 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:13.241 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:13.241(Timestamp), 1694341924552577026(Long)
2023-08-25 20:11:13.275 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:13.275 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.276 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:13.276 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3cf91058
2023-08-25 20:11:13.276 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:13.276 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:13.296 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:13.296 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:13.297 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:13.297 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:13.297 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 961410554, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:13.297 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:13.297 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.297 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 140301954, id=1694341924552577026, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:13 CST 2023, tickets=null]
2023-08-25 20:11:13.298 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:13.298 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:13.297(Timestamp), 1694341924552577026(Long)
2023-08-25 20:11:13.327 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:13.327 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.529 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924556771328
2023-08-25 20:11:13.529 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.529 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 813302468, id=1694341924556771328, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:13 CST 2023, tickets=null]
2023-08-25 20:11:13.529 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:13.529 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:13.529(Timestamp), 1694341924556771328(Long)
2023-08-25 20:11:13.562 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:13.562 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.562 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:13.562 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@8c8e189
2023-08-25 20:11:13.563 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:13.563 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:13.577 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:13.578 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:13.578 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:13.578 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:13.578 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 261154032, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:13.578 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:13.579 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.579 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 525779045, id=1694341924556771328, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:13 CST 2023, tickets=null]
2023-08-25 20:11:13.579 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:13.579 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:13.579(Timestamp), 1694341924556771328(Long)
2023-08-25 20:11:13.612 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:13.612 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.627 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16929654736274g6  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:13.627 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16929654736274g6  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:13.628 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16929654736274g6  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:13.628 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16929654736274g6  [0;39m ------------- 开始 -------------
2023-08-25 20:11:13.628 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16929654736274g6  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:13.628 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16929654736274g6  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:13.628 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16929654736274g6  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:13.628 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16929654736274g6  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:13.628 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654736274g6  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:13.628 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654736274g6  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:13.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654736274g6  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:13.647 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654736274g6  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:13.662 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654736274g6  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:13.662 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m16929654736274g6  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:13.663 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m16929654736274g6  [0;39m <==      Total: 1
2023-08-25 20:11:13.663 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654736274g6  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:13.663 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16929654736274g6  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:13.663 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16929654736274g6  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@6791f99b
2023-08-25 20:11:13.664 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654736274g6  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:13.664 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654736274g6  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:13.710 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654736274g6  [0;39m <==    Columns: count(*)
2023-08-25 20:11:13.710 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m16929654736274g6  [0;39m <==        Row: 13748
2023-08-25 20:11:13.710 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m16929654736274g6  [0;39m <==      Total: 1
2023-08-25 20:11:13.710 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16929654736274g6  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:13.711 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16929654736274g6  [0;39m 返回结果: {"code":0,"message":"","result":13748,"success":true}
2023-08-25 20:11:13.711 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16929654736274g6  [0;39m ------------- 结束 耗时：83 ms -------------
2023-08-25 20:11:13.816 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924556771329
2023-08-25 20:11:13.816 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.816 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1525975262, id=1694341924556771329, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:13 CST 2023, tickets=null]
2023-08-25 20:11:13.817 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:13.818 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:13.816(Timestamp), 1694341924556771329(Long)
2023-08-25 20:11:13.857 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:13.857 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.857 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:13.857 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@7bb7f7c0
2023-08-25 20:11:13.858 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:13.858 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:13.878 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:13.879 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:13.880 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:13.880 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:13.880 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 955176109, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:13.880 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:13.881 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:13.881 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 808282196, id=1694341924556771329, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:13 CST 2023, tickets=null]
2023-08-25 20:11:13.881 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:13.881 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:13.88(Timestamp), 1694341924556771329(Long)
2023-08-25 20:11:13.909 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:13.910 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.110 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924565159936
2023-08-25 20:11:14.110 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.110 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 572716235, id=1694341924565159936, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:14 CST 2023, tickets=null]
2023-08-25 20:11:14.110 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:14.111 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:14.11(Timestamp), 1694341924565159936(Long)
2023-08-25 20:11:14.141 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:14.141 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.141 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:14.141 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3793ad86
2023-08-25 20:11:14.141 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965474141nx2  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:14.141 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965474141nx2  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:14.142 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965474141nx2  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:14.142 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:14.142 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:14.142 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965474141nx2  [0;39m ------------- 开始 -------------
2023-08-25 20:11:14.142 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965474141nx2  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:14.142 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965474141nx2  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:14.142 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965474141nx2  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:14.142 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965474141nx2  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:14.142 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965474141nx2  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:14.143 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965474141nx2  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:14.143 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965474141nx2  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:14.143 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965474141nx2  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:14.157 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:14.157 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:14.158 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:14.158 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:14.158 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1924220965, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:14.158 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:14.158 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.158 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 654223898, id=1694341924565159936, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:14 CST 2023, tickets=null]
2023-08-25 20:11:14.158 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:14.159 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:14.158(Timestamp), 1694341924565159936(Long)
2023-08-25 20:11:14.159 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965474141nx2  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:14.160 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965474141nx2  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:14.160 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965474141nx2  [0;39m <==      Total: 1
2023-08-25 20:11:14.160 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965474141nx2  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:14.160 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965474141nx2  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:14.161 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965474141nx2  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@5f1812b6
2023-08-25 20:11:14.161 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965474141nx2  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:14.161 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965474141nx2  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:14.192 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:14.192 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.192 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:14.192 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@482af081
2023-08-25 20:11:14.194 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==>  Preparing: SELECT count(0) FROM confirm_order WHERE (`date` = ? AND train_code = ? AND `status` = ?)
2023-08-25 20:11:14.195 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String)
2023-08-25 20:11:14.210 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965474141nx2  [0;39m <==    Columns: count(*)
2023-08-25 20:11:14.210 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965474141nx2  [0;39m <==        Row: 13747
2023-08-25 20:11:14.211 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965474141nx2  [0;39m <==      Total: 1
2023-08-25 20:11:14.211 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965474141nx2  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:14.211 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965474141nx2  [0;39m 返回结果: {"code":0,"message":"","result":13747,"success":true}
2023-08-25 20:11:14.211 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965474141nx2  [0;39m ------------- 结束 耗时：69 ms -------------
2023-08-25 20:11:14.267 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==    Columns: count(0)
2023-08-25 20:11:14.268 TRACE c.j.m.C.selectByExampleWithBLOBs_COUNT            :143  [32m1692965396334w65  [0;39m <==        Row: 13747
2023-08-25 20:11:14.268 DEBUG c.j.m.C.selectByExampleWithBLOBs_COUNT            :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:14.268 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order WHERE ( `date` = ? and train_code = ? and `status` = ? ) order by id asc LIMIT ?
2023-08-25 20:11:14.269 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), I(String), 5(Integer)
2023-08-25 20:11:14.323 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:14.324 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924565159937, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.824, 2023-08-23 21:32:48.824, <<BLOB>>
2023-08-25 20:11:14.324 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924573548544, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.826, 2023-08-23 21:32:48.826, <<BLOB>>
2023-08-25 20:11:14.325 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924581937152, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.828, 2023-08-23 21:32:48.828, <<BLOB>>
2023-08-25 20:11:14.325 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924586131456, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.829, 2023-08-23 21:32:48.829, <<BLOB>>
2023-08-25 20:11:14.325 TRACE c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :143  [32m1692965396334w65  [0;39m <==        Row: 1694341924611297280, 1680932902797447168, 2023-08-21, 01, 温州, 杭州, 1693625241873551360, I, 2023-08-23 21:32:48.835, 2023-08-23 21:32:48.835, <<BLOB>>
2023-08-25 20:11:14.325 DEBUG c.j.m.ConfirmOrderMapper.selectByExampleWithBLOBs :137  [32m1692965396334w65  [0;39m <==      Total: 5
2023-08-25 20:11:14.326 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExampleWithBLOBs | execution(List com.jktickets.mapper.ConfirmOrderMapper.selectByExampleWithBLOBs(ConfirmOrderExample))
2023-08-25 20:11:14.326 INFO  com.jktickets.service.ConfirmOrderService         :253  [32m1692965396334w65  [0;39m 本次处理5条订单
2023-08-25 20:11:14.526 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924565159937
2023-08-25 20:11:14.526 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.526 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 787580541, id=1694341924565159937, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:14 CST 2023, tickets=null]
2023-08-25 20:11:14.526 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:14.527 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:14.526(Timestamp), 1694341924565159937(Long)
2023-08-25 20:11:14.556 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:14.556 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.556 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:14.556 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@13a21e82
2023-08-25 20:11:14.557 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:14.557 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:14.572 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:14.572 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:14.572 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:14.573 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:14.573 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 100987891, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:14.573 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:14.573 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.573 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2134064038, id=1694341924565159937, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:14 CST 2023, tickets=null]
2023-08-25 20:11:14.573 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:14.573 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:14.573(Timestamp), 1694341924565159937(Long)
2023-08-25 20:11:14.602 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:14.602 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.626 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965474626l3y  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:14.626 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965474626l3y  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:14.626 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965474626l3y  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:14.626 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965474626l3y  [0;39m ------------- 开始 -------------
2023-08-25 20:11:14.627 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965474626l3y  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:14.627 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965474626l3y  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:14.627 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965474626l3y  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:14.627 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965474626l3y  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:14.627 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965474626l3y  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:14.627 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965474626l3y  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:14.640 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965474626l3y  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:14.641 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965474626l3y  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:14.654 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965474626l3y  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:14.655 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965474626l3y  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:14.655 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965474626l3y  [0;39m <==      Total: 1
2023-08-25 20:11:14.656 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965474626l3y  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:14.656 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965474626l3y  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:14.656 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965474626l3y  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@fa30890
2023-08-25 20:11:14.656 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965474626l3y  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:14.656 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965474626l3y  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:14.700 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965474626l3y  [0;39m <==    Columns: count(*)
2023-08-25 20:11:14.701 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965474626l3y  [0;39m <==        Row: 13745
2023-08-25 20:11:14.701 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965474626l3y  [0;39m <==      Total: 1
2023-08-25 20:11:14.701 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965474626l3y  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:14.702 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965474626l3y  [0;39m 返回结果: {"code":0,"message":"","result":13745,"success":true}
2023-08-25 20:11:14.702 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965474626l3y  [0;39m ------------- 结束 耗时：76 ms -------------
2023-08-25 20:11:14.802 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924573548544
2023-08-25 20:11:14.802 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.802 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 2061494039, id=1694341924573548544, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:14 CST 2023, tickets=null]
2023-08-25 20:11:14.803 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:14.803 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:14.802(Timestamp), 1694341924573548544(Long)
2023-08-25 20:11:14.846 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:14.847 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.847 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:14.847 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3d6de605
2023-08-25 20:11:14.847 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:14.848 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:14.863 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:14.864 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:14.864 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:14.864 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:14.864 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 2009127796, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:14.864 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:14.864 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:14.865 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 68210416, id=1694341924573548544, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:14 CST 2023, tickets=null]
2023-08-25 20:11:14.865 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:14.865 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:14.864(Timestamp), 1694341924573548544(Long)
2023-08-25 20:11:14.894 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:14.894 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:15.095 INFO  com.jktickets.service.ConfirmOrderService         :350  [32m1692965396334w65  [0;39m 将确认订单更新成处理中，避免重复处理，confirm_order_id:1694341924581937152
2023-08-25 20:11:15.095 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:15.095 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 926360511, id=1694341924581937152, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=P, createTime=null, updateTime=Fri Aug 25 20:11:15 CST 2023, tickets=null]
2023-08-25 20:11:15.096 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:15.096 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: P(String), 2023-08-25 20:11:15.095(Timestamp), 1694341924581937152(Long)
2023-08-25 20:11:15.128 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692965475128uos  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTI5NjUzNDksIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MzA1MTc0OSwiaWF0IjoxNjkyOTY1MzQ5fQ.NacQ7r8ZQcLGXdNE7lknM95Nf9-tsqoyqZ7BVpzsioQ
2023-08-25 20:11:15.128 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692965475128uos  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:15.129 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692965475128uos  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-25 20:11:15.129 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692965475128uos  [0;39m ------------- 开始 -------------
2023-08-25 20:11:15.129 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692965475128uos  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/queryLineCount/1695045845151518720 GET
2023-08-25 20:11:15.129 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692965475128uos  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.queryLineCount
2023-08-25 20:11:15.129 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692965475128uos  [0;39m 远程地址: 192.168.0.102
2023-08-25 20:11:15.129 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692965475128uos  [0;39m 请求参数: [1695045845151518720]
2023-08-25 20:11:15.130 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965475128uos  [0;39m 执行SQL:  selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:15.130 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965475128uos  [0;39m 参数值: 1695045845151518720
2023-08-25 20:11:15.138 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:15.138 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:15.138 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:15.139 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@44b87433
2023-08-25 20:11:15.139 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-25 20:11:15.140 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 温州(String), 杭州(String)
2023-08-25 20:11:15.153 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965475128uos  [0;39m ==>  Preparing: select id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time , tickets from confirm_order where id = ?
2023-08-25 20:11:15.153 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965475128uos  [0;39m ==> Parameters: 1695045845151518720(Long)
2023-08-25 20:11:15.155 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-25 20:11:15.156 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692965396334w65  [0;39m <==        Row: 1693625241873551360, 2023-08-21, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 0, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-21 22:04:58.145, 2023-08-21 22:04:58.145
2023-08-25 20:11:15.156 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692965396334w65  [0;39m <==      Total: 1
2023-08-25 20:11:15.156 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-25 20:11:15.156 INFO  com.jktickets.service.ConfirmOrderService         :379  [32m1692965396334w65  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1715632096, id=1693625241873551360, date=Mon Aug 21 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=0, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Mon Aug 21 22:04:58 CST 2023, updateTime=Mon Aug 21 22:04:58 CST 2023]
2023-08-25 20:11:15.156 INFO  com.jktickets.service.ConfirmOrderService         :264  [32m1692965396334w65  [0;39m 本订单余票不足，继续售卖下一个订单
2023-08-25 20:11:15.156 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965396334w65  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:15.156 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965396334w65  [0;39m 参数值: ConfirmOrder [Hash = 1251572107, id=1694341924581937152, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=E, createTime=null, updateTime=Fri Aug 25 20:11:15 CST 2023, tickets=null]
2023-08-25 20:11:15.156 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-25 20:11:15.157 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m ==> Parameters: E(String), 2023-08-25 20:11:15.156(Timestamp), 1694341924581937152(Long)
2023-08-25 20:11:15.174 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965475128uos  [0;39m <==    Columns: id, member_id, date, train_code, start, end, daily_train_ticket_id, status, create_time, update_time, tickets
2023-08-25 20:11:15.175 TRACE c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :143  [32m1692965475128uos  [0;39m <==        Row: 1695045845151518720, 1680932902797447168, 2023-08-21, 01, 上海, 温州, 1693625240992747520, I, 2023-08-25 20:09:56.547, 2023-08-25 20:09:56.547, <<BLOB>>
2023-08-25 20:11:15.175 DEBUG c.j.mapper.ConfirmOrderMapper.selectByPrimaryKey  :137  [32m1692965475128uos  [0;39m <==      Total: 1
2023-08-25 20:11:15.175 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965475128uos  [0;39m SQL执行完成: selectByPrimaryKey | execution(ConfirmOrder com.jktickets.mapper.ConfirmOrderMapper.selectByPrimaryKey(Long))
2023-08-25 20:11:15.176 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692965475128uos  [0;39m 执行SQL:  countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:15.176 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692965475128uos  [0;39m 参数值: com.jktickets.domain.ConfirmOrderExample@2a1f17ed
2023-08-25 20:11:15.176 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965475128uos  [0;39m ==>  Preparing: select count(*) from confirm_order WHERE ( `date` = ? and train_code = ? and create_time < ? and `status` = ? ) or( `date` = ? and train_code = ? and create_time < ? and `status` = ? )
2023-08-25 20:11:15.177 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965475128uos  [0;39m ==> Parameters: 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), I(String), 2023-08-21(Date), 01(String), 2023-08-25 20:09:56.547(Timestamp), P(String)
2023-08-25 20:11:15.189 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692965396334w65  [0;39m <==    Updates: 1
2023-08-25 20:11:15.189 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965396334w65  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-25 20:11:15.241 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965475128uos  [0;39m <==    Columns: count(*)
2023-08-25 20:11:15.241 TRACE c.j.mapper.ConfirmOrderMapper.countByExample      :143  [32m1692965475128uos  [0;39m <==        Row: 13743
2023-08-25 20:11:15.242 DEBUG c.j.mapper.ConfirmOrderMapper.countByExample      :137  [32m1692965475128uos  [0;39m <==      Total: 1
2023-08-25 20:11:15.242 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692965475128uos  [0;39m SQL执行完成: countByExample | execution(long com.jktickets.mapper.ConfirmOrderMapper.countByExample(ConfirmOrderExample))
2023-08-25 20:11:15.242 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692965475128uos  [0;39m 返回结果: {"code":0,"message":"","result":13743,"success":true}
2023-08-25 20:11:15.242 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692965475128uos  [0;39m ------------- 结束 耗时：113 ms -------------
2023-08-25 20:11:15.288 WARN  com.alibaba.nacos.common.notify.NotifyCenter      :136  [32m                  [0;39m [NotifyCenter] Start destroying Publisher
2023-08-25 20:11:15.288 WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder  :102  [32m                  [0;39m [HttpClientBeanHolder] Start destroying common HttpClient
2023-08-25 20:11:15.288 WARN  com.alibaba.nacos.common.notify.NotifyCenter      :153  [32m                  [0;39m [NotifyCenter] Destruction of the end
2023-08-25 20:11:15.289 WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder  :111  [32m                  [0;39m [HttpClientBeanHolder] Destruction of the end
2023-08-25 20:11:15.341 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :95   [32m                  [0;39m De-registering from Nacos Server now...
2023-08-25 20:11:15.341 INFO  com.alibaba.nacos.client.naming                   :217  [32m                  [0;39m [DEREGISTER-SERVICE] train deregistering service business-service with instance: Instance{instanceId='null', ip='192.168.0.102', port=8002, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-08-25 20:11:15.347 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :115  [32m                  [0;39m De-registration finished.
2023-08-25 20:11:15.349 INFO  com.alibaba.nacos.client.naming                   :256  [32m                  [0;39m com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2023-08-25 20:11:15.349 INFO  com.alibaba.nacos.client.naming                   :136  [32m                  [0;39m com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2023-08-25 20:11:15.350 INFO  com.alibaba.nacos.client.naming                   :138  [32m                  [0;39m com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2023-08-25 20:11:15.350 INFO  com.alibaba.nacos.client.naming                   :258  [32m                  [0;39m com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2023-08-25 20:11:15.350 INFO  com.alibaba.nacos.client.naming                   :204  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2023-08-25 20:11:15.350 INFO  com.alibaba.nacos.client.naming                   :143  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2023-08-25 20:11:15.351 INFO  com.alibaba.nacos.client.naming                   :145  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2023-08-25 20:11:15.351 INFO  com.alibaba.nacos.client.naming                   :194  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2023-08-25 20:11:15.351 WARN  com.alibaba.nacos.client.naming                   :74   [32m                  [0;39m [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-08-25 20:11:15.351 WARN  com.alibaba.nacos.client.naming                   :81   [32m                  [0;39m [NamingHttpClientManager] Destruction of the end
2023-08-25 20:11:15.351 INFO  com.alibaba.nacos.client.naming                   :199  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2023-08-25 20:11:15.351 INFO  com.alibaba.nacos.client.naming                   :484  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2023-08-25 20:11:15.351 WARN  com.alibaba.nacos.client.naming                   :74   [32m                  [0;39m [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-08-25 20:11:15.351 WARN  com.alibaba.nacos.client.naming                   :81   [32m                  [0;39m [NamingHttpClientManager] Destruction of the end
2023-08-25 20:11:15.351 INFO  com.alibaba.nacos.client.naming                   :486  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2023-08-25 20:11:15.351 INFO  com.alibaba.nacos.common.remote.client            :429  [32m                  [0;39m Shutdown rpc client, set status to shutdown
2023-08-25 20:11:15.352 INFO  com.alibaba.nacos.common.remote.client            :431  [32m                  [0;39m Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5ae38f32[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2023-08-25 20:11:15.352 INFO  com.alibaba.nacos.common.remote.client            :584  [32m                  [0;39m Close current connection 1692964384117_127.0.0.1_54326
2023-08-25 20:11:15.354 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :63   [32m                  [0;39m [1692964384117_127.0.0.1_54326]Ignore complete event,isRunning:false,isAbandon=false
2023-08-25 20:11:15.357 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :159  [32m                  [0;39m Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@da94d8e[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 231]
2023-08-25 20:11:15.358 INFO  com.alibaba.nacos.client.naming                   :318  [32m                  [0;39m Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3c70699e[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 363]
2023-08-25 20:11:15.358 INFO  c.a.n.client.auth.ram.identify.CredentialWatcher  :106  [32m                  [0;39m [null] CredentialWatcher is stopped
2023-08-25 20:11:15.358 INFO  c.a.n.client.auth.ram.identify.CredentialService  :100  [32m                  [0;39m [null] CredentialService is freed
2023-08-25 20:11:15.358 INFO  com.alibaba.nacos.client.naming                   :211  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2023-08-25 20:11:15.361 INFO  com.jktickets.service.ConfirmOrderService         :314  [32m1692965396334w65  [0;39m 购票流程结束，释放锁
2023-08-25 20:11:15.408 ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler       :39   [32m1692965396334w65  [0;39m Unexpected exception occurred invoking async method: public void com.jktickets.service.impl.ConfirmOrderServiceImpl.doConfirm(com.jktickets.dto.ConfirmOrderMQDto)
java.lang.RuntimeException: java.lang.InterruptedException: sleep interrupted
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.sell(ConfirmOrderServiceImpl.java:332)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.lambda$doConfirm$0(ConfirmOrderServiceImpl.java:260)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.doConfirm(ConfirmOrderServiceImpl.java:258)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.alibaba.csp.sentinel.annotation.aspectj.SentinelResourceAspect.invokeResourceWithSentinel(SentinelResourceAspect.java:57)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.sell(ConfirmOrderServiceImpl.java:330)
	... 30 common frames omitted
2023-08-25 20:11:15.516 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-08-25 20:11:15.527 INFO  c.a.n.client.auth.ram.identify.CredentialWatcher  :165  [32m                  [0;39m null No credential found
2023-08-25 20:11:15.673 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-08-25 20:11:15.677 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:438  [32m                  [0;39m channel inactive: [id: 0x74b52f12, L:/192.168.0.102:54268 ! R:/192.168.0.102:8091]
2023-08-25 20:11:15.677 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :130  [32m                  [0;39m return to pool, rm channel:[id: 0x74b52f12, L:/192.168.0.102:54268 ! R:/192.168.0.102:8091]
2023-08-25 20:11:15.677 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :133  [32m                  [0;39m channel valid false,channel:[id: 0x74b52f12, L:/192.168.0.102:54268 ! R:/192.168.0.102:8091]
2023-08-25 20:11:15.678 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :120  [32m                  [0;39m will destroy channel:[id: 0x74b52f12, L:/192.168.0.102:54268 ! R:/192.168.0.102:8091]
2023-08-25 20:11:15.678 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x74b52f12, L:/192.168.0.102:54268 ! R:/192.168.0.102:8091]) will closed
2023-08-25 20:11:15.678 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x74b52f12, L:/192.168.0.102:54268 ! R:/192.168.0.102:8091]) will closed
2023-08-25 20:11:15.679 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:438  [32m                  [0;39m channel inactive: [id: 0xfc13a3dc, L:/192.168.0.102:54280 ! R:/192.168.0.102:8091]
2023-08-25 20:11:15.680 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :130  [32m                  [0;39m return to pool, rm channel:[id: 0xfc13a3dc, L:/192.168.0.102:54280 ! R:/192.168.0.102:8091]
2023-08-25 20:11:15.680 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :133  [32m                  [0;39m channel valid false,channel:[id: 0xfc13a3dc, L:/192.168.0.102:54280 ! R:/192.168.0.102:8091]
2023-08-25 20:11:15.680 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :120  [32m                  [0;39m will destroy channel:[id: 0xfc13a3dc, L:/192.168.0.102:54280 ! R:/192.168.0.102:8091]
2023-08-25 20:11:15.680 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xfc13a3dc, L:/192.168.0.102:54280 ! R:/192.168.0.102:8091]) will closed
2023-08-25 20:11:15.680 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xfc13a3dc, L:/192.168.0.102:54280 ! R:/192.168.0.102:8091]) will closed
2023-08-25 20:11:27.676 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 20:11:27.689 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-08-25 20:11:27.751 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 20:11:27.782 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-08-25 20:11:28.040 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 20:11:28.043 INFO  com.alibaba.nacos.client.utils.ParamUtil          :87   [32m                  [0;39m [settings] [req-serv] nacos-server port:8848
2023-08-25 20:11:28.043 INFO  com.alibaba.nacos.client.utils.ParamUtil          :98   [32m                  [0;39m [settings] [http-client] connect timeout:1000
2023-08-25 20:11:28.045 INFO  com.alibaba.nacos.client.utils.ParamUtil          :105  [32m                  [0;39m PER_TASK_CONFIG_SIZE: 3000.0
2023-08-25 20:11:28.085 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 20:11:28.085 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 20:11:28.089 INFO  c.a.n.client.auth.ram.identify.CredentialWatcher  :165  [32m                  [0;39m null No credential found
2023-08-25 20:11:28.623 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 20:11:28.642 INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor :63   [32m                  [0;39m LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2023-08-25 20:11:28.649 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0
2023-08-25 20:11:28.676 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f79258
2023-08-25 20:11:28.677 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f79678
2023-08-25 20:11:28.678 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-25 20:11:28.679 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-25 20:11:28.688 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-25 20:11:28.734 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 20:11:30.111 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692965489886_127.0.0.1_55068
2023-08-25 20:11:30.112 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] Notify connected event to listeners.
2023-08-25 20:11:30.113 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] Connected,notify listen context...
2023-08-25 20:11:30.113 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 20:11:30.113 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [7c40d6c3-9fa8-435f-8c23-63226f6541c4_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de150
2023-08-25 20:11:30.175 INFO  com.alibaba.nacos.client.config.impl.Limiter      :62   [32m                  [0;39m limitTime:5.0
2023-08-25 20:11:30.193 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service] & group[DEFAULT_GROUP]
2023-08-25 20:11:30.200 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service.properties] & group[DEFAULT_GROUP]
2023-08-25 20:11:30.207 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service-dev.properties] & group[DEFAULT_GROUP]
2023-08-25 20:11:30.208 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :108  [32m                  [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-business-service-dev.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-business-service.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-business-service,DEFAULT_GROUP'}]
2023-08-25 20:11:30.233 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-25 20:11:30.234 INFO  com.jktickets.BusinessApplication                 :636  [32m                  [0;39m The following 1 profile is active: "dev"
2023-08-25 20:11:31.659 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2023-08-25 20:11:31.665 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :138  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-08-25 20:11:31.705 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :208  [32m                  [0;39m Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2023-08-25 20:11:32.039 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=441ce18f-08e3-39af-82b0-ac9f7d045ab5
2023-08-25 20:11:32.137 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'com.jktickets.feign.MemberFeign' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.147 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.148 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.148 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.199 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.203 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.205 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.206 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$749/0x000000080126a518] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.206 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.211 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.216 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-25 20:11:32.220 INFO  i.s.s.boot.autoconfigure.SeataAutoConfiguration   :63   [32m                  [0;39m Automatically configure Seata
2023-08-25 20:11:32.282 INFO  io.seata.config.ConfigurationFactory              :64   [32m                  [0;39m load Configuration from :Spring Configuration
2023-08-25 20:11:32.290 INFO  io.seata.config.nacos.NacosConfiguration          :233  [32m                  [0;39m Nacos check auth with userName/password.
2023-08-25 20:11:32.304 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 20:11:32.304 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 20:11:32.423 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0
2023-08-25 20:11:32.424 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f79258
2023-08-25 20:11:32.424 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f79678
2023-08-25 20:11:32.424 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-25 20:11:32.424 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-25 20:11:32.425 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-25 20:11:32.425 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 20:11:32.546 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692965492432_127.0.0.1_55072
2023-08-25 20:11:32.546 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 20:11:32.546 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] Notify connected event to listeners.
2023-08-25 20:11:32.547 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] Connected,notify listen context...
2023-08-25 20:11:32.547 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [92ff4ea1-9ade-4016-b9d4-a9f7ddc81f19_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de150
2023-08-25 20:11:32.562 INFO  com.alibaba.nacos.client.config.utils.JvmUtil     :54   [32m                  [0;39m isMultiInstance:false
2023-08-25 20:11:32.576 INFO  com.alibaba.nacos.client.config.impl.CacheData    :67   [32m                  [0;39m nacos.cache.data.init.snapshot = true 
2023-08-25 20:11:32.579 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] seataServer.properties+SEATA_GROUP+train
2023-08-25 20:11:32.599 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=seataServer.properties, group=SEATA_GROUP, cnt=1
2023-08-25 20:11:32.618 INFO  i.seata.spring.annotation.GlobalTransactionScanner:211  [32m                  [0;39m Initializing Global Transaction Clients ... 
2023-08-25 20:11:32.755 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] transport.enableTmClientBatchSendRequest+SEATA_GROUP+train
2023-08-25 20:11:32.755 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableTmClientBatchSendRequest, group=SEATA_GROUP, cnt=1
2023-08-25 20:11:32.755 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableTmClientBatchSendRequest, group=SEATA_GROUP, cnt=2
2023-08-25 20:11:32.773 INFO  io.seata.core.rpc.netty.NettyClientBootstrap      :147  [32m                  [0;39m NettyClientBootstrap has started
2023-08-25 20:11:32.774 INFO  io.seata.discovery.registry.RegistryFactory       :50   [32m                  [0;39m use registry center type: nacos
2023-08-25 20:11:32.783 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] service.vgroupMapping.train-group+SEATA_GROUP+train
2023-08-25 20:11:32.783 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.vgroupMapping.train-group, group=SEATA_GROUP, cnt=1
2023-08-25 20:11:32.790 INFO  com.alibaba.nacos.client.naming                   :73   [32m                  [0;39m initializer namespace from namespace attribute :null
2023-08-25 20:11:32.802 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 20:11:32.803 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 20:11:32.900 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of dc327adf-921b-4d12-8a2c-70d8de65720b
2023-08-25 20:11:32.902 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-08-25 20:11:32.902 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-08-25 20:11:32.903 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-08-25 20:11:32.904 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-25 20:11:32.904 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 20:11:33.030 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692965492913_127.0.0.1_55073
2023-08-25 20:11:33.030 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] Notify connected event to listeners.
2023-08-25 20:11:33.030 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 20:11:33.031 INFO  com.alibaba.nacos.client.naming                   :78   [32m                  [0;39m Grpc connection connect
2023-08-25 20:11:33.031 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de150
2023-08-25 20:11:33.034 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:seata-server, group:SEATA_GROUP, clusters:default 
2023-08-25 20:11:33.055 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: SEATA_GROUP@@seata-server@@default -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceIdGenerator":"simple","instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2023-08-25 20:11:33.057 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server@@default -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceIdGenerator":"simple","instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2023-08-25 20:11:33.063 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:seata-server, group:SEATA_GROUP, clusters:default 
2023-08-25 20:11:33.065 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-25 20:11:33.192 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:TMROLE,address:192.168.0.102:8091,msg:< RegisterTMRequest{version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='ak=null
digest=train-group,192.168.0.102,1692965493190
timestamp=1692965493190
authVersion=V4
vgroup=train-group
ip=192.168.0.102
'} >
2023-08-25 20:11:33.457 WARN  i.s.c.l.EnhancedServiceLoader$InnerEnhancedServiceLoader:545  [32m                  [0;39m Load [io.seata.serializer.hessian.HessianSerializer] class fail: com/caucho/hessian/io/AbstractHessianOutput
2023-08-25 20:11:33.490 INFO  io.seata.core.rpc.netty.TmNettyRemotingClient     :224  [32m                  [0;39m register TM success. client version:1.7.0, server version:1.6.1,channel:[id: 0xbf1e4f61, L:/192.168.0.102:55074 - R:/192.168.0.102:8091]
2023-08-25 20:11:33.496 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :81   [32m                  [0;39m register success, cost 71 ms, version:1.6.1,role:TMROLE,channel:[id: 0xbf1e4f61, L:/192.168.0.102:55074 - R:/192.168.0.102:8091]
2023-08-25 20:11:33.496 INFO  i.seata.spring.annotation.GlobalTransactionScanner:225  [32m                  [0;39m Transaction Manager Client is initialized. applicationId[business-service] txServiceGroup[train-group]
2023-08-25 20:11:33.506 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] transport.enableRmClientBatchSendRequest+SEATA_GROUP+train
2023-08-25 20:11:33.506 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableRmClientBatchSendRequest, group=SEATA_GROUP, cnt=1
2023-08-25 20:11:33.507 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableRmClientBatchSendRequest, group=SEATA_GROUP, cnt=2
2023-08-25 20:11:33.525 INFO  io.seata.rm.datasource.AsyncWorker                :73   [32m                  [0;39m Async Commit Buffer Limit: 10000
2023-08-25 20:11:33.526 INFO  io.seata.rm.datasource.xa.ResourceManagerXA       :59   [32m                  [0;39m ResourceManagerXA init ...
2023-08-25 20:11:33.534 INFO  io.seata.core.rpc.netty.NettyClientBootstrap      :147  [32m                  [0;39m NettyClientBootstrap has started
2023-08-25 20:11:33.534 INFO  i.seata.spring.annotation.GlobalTransactionScanner:230  [32m                  [0;39m Resource Manager is initialized. applicationId[business-service] txServiceGroup[train-group]
2023-08-25 20:11:33.535 INFO  i.seata.spring.annotation.GlobalTransactionScanner:234  [32m                  [0;39m Global Transaction Clients are initialized. 
2023-08-25 20:11:33.596 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] Receive server push request, request = NotifySubscriberRequest, requestId = 6
2023-08-25 20:11:33.597 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceIdGenerator":"simple","instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2023-08-25 20:11:33.598 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceIdGenerator":"simple","instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2023-08-25 20:11:33.599 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [dc327adf-921b-4d12-8a2c-70d8de65720b] Ack server push request, request = NotifySubscriberRequest, requestId = 6
2023-08-25 20:11:34.783 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :114  [32m                  [0;39m Tomcat initialized with port(s): 8002 (http)
2023-08-25 20:11:34.796 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8002"]
2023-08-25 20:11:34.798 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-08-25 20:11:34.798 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-08-25 20:11:34.880 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-08-25 20:11:34.881 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :291  [32m                  [0;39m Root WebApplicationContext: initialization completed in 4618 ms
2023-08-25 20:11:35.331 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2023-08-25 20:11:35.905 INFO  com.zaxxer.hikari.pool.HikariPool                 :565  [32m                  [0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@81eae93
2023-08-25 20:11:35.914 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2023-08-25 20:11:36.046 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-25 20:11:36.047 INFO  io.seata.core.rpc.netty.RmNettyRemotingClient     :276  [32m                  [0;39m RM will register :jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business
2023-08-25 20:11:36.048 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:RMROLE,address:192.168.0.102:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='null'} >
2023-08-25 20:11:36.061 INFO  io.seata.core.rpc.netty.RmNettyRemotingClient     :177  [32m                  [0;39m register RM success. client version:1.7.0, server version:1.6.1,channel:[id: 0x0c07da65, L:/192.168.0.102:55078 - R:/192.168.0.102:8091]
2023-08-25 20:11:36.063 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :81   [32m                  [0;39m register success, cost 12 ms, version:1.6.1,role:RMROLE,channel:[id: 0x0c07da65, L:/192.168.0.102:55078 - R:/192.168.0.102:8091]
2023-08-25 20:11:36.075 INFO  i.s.s.a.datasource.SeataAutoDataSourceProxyCreator:101  [32m                  [0;39m Auto proxy data source 'dataSource' by 'AT' mode.
2023-08-25 20:11:36.892 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :62   [32m                  [0;39m Unable to start LiveReload server
2023-08-25 20:11:36.950 INFO  o.s.cloud.openfeign.FeignClientFactoryBean        :437  [32m                  [0;39m For 'member-service' URL not provided. Will try picking an instance via load-balancing.
2023-08-25 20:11:37.124 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] client.tm.degradeCheck+SEATA_GROUP+train
2023-08-25 20:11:37.125 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.tm.degradeCheck, group=SEATA_GROUP, cnt=1
2023-08-25 20:11:37.125 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.tm.degradeCheck, group=SEATA_GROUP, cnt=2
2023-08-25 20:11:37.130 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] service.disableGlobalTransaction+SEATA_GROUP+train
2023-08-25 20:11:37.131 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.disableGlobalTransaction, group=SEATA_GROUP, cnt=1
2023-08-25 20:11:37.131 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.disableGlobalTransaction, group=SEATA_GROUP, cnt=2
2023-08-25 20:11:37.131 INFO  i.seata.spring.annotation.GlobalTransactionScanner:308  [32m                  [0;39m Bean [com.jktickets.service.impl.AfterConfirmOrderServiceImpl] with name [afterConfirmOrderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
2023-08-25 20:11:37.282 INFO  org.redisson.Version                              :41   [32m                  [0;39m Redisson 3.21.0
2023-08-25 20:11:38.035 INFO  o.r.connection.pool.MasterPubSubConnectionPool    :158  [32m                  [0;39m 1 connections initialized for r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com/47.110.123.191:6379
2023-08-25 20:11:38.726 INFO  org.redisson.connection.pool.MasterConnectionPool :158  [32m                  [0;39m 24 connections initialized for r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com/47.110.123.191:6379
2023-08-25 20:11:38.813 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.redisson.spring.starter.RedissonAutoConfiguration
2023-08-25 20:11:39.618 INFO  c.alibaba.cloud.sentinel.SentinelWebMvcConfigurer :52   [32m                  [0;39m [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
2023-08-25 20:11:40.876 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.github.pagehelper.autoconfigure.PageHelperStandardProperties
2023-08-25 20:11:42.708 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 1 endpoint(s) beneath base path '/actuator'
2023-08-25 20:11:42.806 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 20:11:42.806 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 20:11:42.810 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-localhost_8848] [subscribe] sentinel-business-flow+DEFAULT_GROUP+train
2023-08-25 20:11:42.811 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-localhost_8848] [add-listener] ok, tenant=train, dataId=sentinel-business-flow, group=DEFAULT_GROUP, cnt=1
2023-08-25 20:11:42.811 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0
2023-08-25 20:11:42.812 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f79258
2023-08-25 20:11:42.812 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f79678
2023-08-25 20:11:42.812 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-25 20:11:42.813 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-25 20:11:42.814 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2023-08-25 20:11:42.815 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 20:11:42.950 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1692965502834_127.0.0.1_55116
2023-08-25 20:11:42.950 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 20:11:42.950 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] Notify connected event to listeners.
2023-08-25 20:11:42.951 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de150
2023-08-25 20:11:42.951 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [2c16058b-c7d9-4b53-b27c-19cd275edeae_config-0] Connected,notify listen context...
2023-08-25 20:11:43.163 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8002"]
2023-08-25 20:11:43.187 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :226  [32m                  [0;39m Tomcat started on port(s): 8002 (http) with context path '/business'
2023-08-25 20:11:43.191 INFO  com.alibaba.nacos.client.naming                   :62   [32m                  [0;39m initializer namespace from ans.namespace attribute : null
2023-08-25 20:11:43.192 INFO  com.alibaba.nacos.client.naming                   :66   [32m                  [0;39m initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2023-08-25 20:11:43.192 INFO  com.alibaba.nacos.client.naming                   :73   [32m                  [0;39m initializer namespace from namespace attribute :null
2023-08-25 20:11:43.193 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-25 20:11:43.193 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-25 20:11:43.194 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of a4f313de-f70e-4816-b738-5614b58539c7
2023-08-25 20:11:43.195 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a4f313de-f70e-4816-b738-5614b58539c7] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-08-25 20:11:43.195 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a4f313de-f70e-4816-b738-5614b58539c7] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-08-25 20:11:43.195 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a4f313de-f70e-4816-b738-5614b58539c7] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-08-25 20:11:43.196 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a4f313de-f70e-4816-b738-5614b58539c7] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-25 20:11:43.196 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-25 20:11:43.326 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a4f313de-f70e-4816-b738-5614b58539c7] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692965503219_127.0.0.1_55118
2023-08-25 20:11:43.326 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a4f313de-f70e-4816-b738-5614b58539c7] Notify connected event to listeners.
2023-08-25 20:11:43.326 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a4f313de-f70e-4816-b738-5614b58539c7] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-25 20:11:43.326 INFO  com.alibaba.nacos.client.naming                   :78   [32m                  [0;39m Grpc connection connect
2023-08-25 20:11:43.326 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a4f313de-f70e-4816-b738-5614b58539c7] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010de150
2023-08-25 20:11:43.327 INFO  com.alibaba.nacos.client.naming                   :121  [32m                  [0;39m [REGISTER-SERVICE] train registering service business-service with instance Instance{instanceId='null', ip='192.168.0.102', port=8002, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2023-08-25 20:11:43.337 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :76   [32m                  [0;39m nacos registry, DEFAULT_GROUP business-service 192.168.0.102:8002 register finished
2023-08-25 20:11:43.791 INFO  com.jktickets.BusinessApplication                 :57   [32m                  [0;39m Started BusinessApplication in 17.184 seconds (process running for 18.228)
2023-08-25 20:11:43.804 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service+DEFAULT_GROUP+train
2023-08-25 20:11:43.804 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service, group=DEFAULT_GROUP, cnt=1
2023-08-25 20:11:43.805 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service, group=DEFAULT_GROUP
2023-08-25 20:11:43.806 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service.properties+DEFAULT_GROUP+train
2023-08-25 20:11:43.806 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service.properties, group=DEFAULT_GROUP, cnt=1
2023-08-25 20:11:43.807 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service.properties, group=DEFAULT_GROUP
2023-08-25 20:11:43.807 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service-dev.properties+DEFAULT_GROUP+train
2023-08-25 20:11:43.807 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service-dev.properties, group=DEFAULT_GROUP, cnt=1
2023-08-25 20:11:43.807 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service-dev.properties, group=DEFAULT_GROUP
2023-08-25 20:11:43.810 INFO  com.jktickets.BusinessApplication                 :36   [32m                  [0;39m 启动成功！！
2023-08-25 20:11:43.812 INFO  com.jktickets.BusinessApplication                 :38   [32m                  [0;39m 测试地址: 	http://127.0.0.1:8002/business/hello
2023-08-25 20:11:44.175 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-25 20:11:44.175 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-08-25 20:11:44.179 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 4 ms
2023-08-25 20:37:49.369 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 21:00:04.452 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 21:22:09.698 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 21:40:23.898 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 21:42:24.305 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 21:58:27.832 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 22:55:50.883 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 22:58:01.305 ERROR org.redisson.connection.DNSMonitor                :102  [32m                  [0;39m Unable to resolve r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com
java.net.UnknownHostException: Failed to resolve 'r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com'
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418)
	at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)
	at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256)
	at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
	at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/8.8.8.8:53] query via UDP timed out after 5000 milliseconds (no stack trace available)
2023-08-25 22:58:30.436 WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder  :102  [32m                  [0;39m [HttpClientBeanHolder] Start destroying common HttpClient
2023-08-25 22:58:30.437 WARN  com.alibaba.nacos.common.notify.NotifyCenter      :136  [32m                  [0;39m [NotifyCenter] Start destroying Publisher
2023-08-25 22:58:30.438 WARN  com.alibaba.nacos.common.notify.NotifyCenter      :153  [32m                  [0;39m [NotifyCenter] Destruction of the end
2023-08-25 22:58:30.444 WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder  :111  [32m                  [0;39m [HttpClientBeanHolder] Destruction of the end
2023-08-25 22:58:30.669 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :95   [32m                  [0;39m De-registering from Nacos Server now...
2023-08-25 22:58:30.672 INFO  com.alibaba.nacos.client.naming                   :217  [32m                  [0;39m [DEREGISTER-SERVICE] train deregistering service business-service with instance: Instance{instanceId='null', ip='192.168.0.102', port=8002, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-08-25 22:58:30.682 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :115  [32m                  [0;39m De-registration finished.
2023-08-25 22:58:30.686 INFO  com.alibaba.nacos.client.naming                   :256  [32m                  [0;39m com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2023-08-25 22:58:30.687 INFO  com.alibaba.nacos.client.naming                   :136  [32m                  [0;39m com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2023-08-25 22:58:30.688 INFO  com.alibaba.nacos.client.naming                   :138  [32m                  [0;39m com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2023-08-25 22:58:30.688 INFO  com.alibaba.nacos.client.naming                   :258  [32m                  [0;39m com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2023-08-25 22:58:30.689 INFO  com.alibaba.nacos.client.naming                   :204  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2023-08-25 22:58:30.690 INFO  com.alibaba.nacos.client.naming                   :143  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2023-08-25 22:58:30.690 INFO  com.alibaba.nacos.client.naming                   :145  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2023-08-25 22:58:30.690 INFO  com.alibaba.nacos.client.naming                   :194  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2023-08-25 22:58:30.691 WARN  com.alibaba.nacos.client.naming                   :74   [32m                  [0;39m [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-08-25 22:58:30.692 WARN  com.alibaba.nacos.client.naming                   :81   [32m                  [0;39m [NamingHttpClientManager] Destruction of the end
2023-08-25 22:58:30.692 INFO  com.alibaba.nacos.client.naming                   :199  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2023-08-25 22:58:30.693 INFO  com.alibaba.nacos.client.naming                   :484  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2023-08-25 22:58:30.693 WARN  com.alibaba.nacos.client.naming                   :74   [32m                  [0;39m [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-08-25 22:58:30.693 WARN  com.alibaba.nacos.client.naming                   :81   [32m                  [0;39m [NamingHttpClientManager] Destruction of the end
2023-08-25 22:58:30.693 INFO  com.alibaba.nacos.client.naming                   :486  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2023-08-25 22:58:30.694 INFO  com.alibaba.nacos.common.remote.client            :429  [32m                  [0;39m Shutdown rpc client, set status to shutdown
2023-08-25 22:58:30.694 INFO  com.alibaba.nacos.common.remote.client            :431  [32m                  [0;39m Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1d85ec1e[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2023-08-25 22:58:30.695 INFO  com.alibaba.nacos.common.remote.client            :584  [32m                  [0;39m Close current connection 1692965503219_127.0.0.1_55118
2023-08-25 22:58:30.698 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :63   [32m                  [0;39m [1692965503219_127.0.0.1_55118]Ignore complete event,isRunning:false,isAbandon=false
2023-08-25 22:58:30.709 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :159  [32m                  [0;39m Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@34ce607c[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 2010]
2023-08-25 22:58:30.709 INFO  com.alibaba.nacos.client.naming                   :318  [32m                  [0;39m Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6f93b225[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 3332]
2023-08-25 22:58:30.710 INFO  c.a.n.client.auth.ram.identify.CredentialWatcher  :106  [32m                  [0;39m [null] CredentialWatcher is stopped
2023-08-25 22:58:30.711 INFO  c.a.n.client.auth.ram.identify.CredentialService  :100  [32m                  [0;39m [null] CredentialService is freed
2023-08-25 22:58:30.711 INFO  com.alibaba.nacos.client.naming                   :211  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2023-08-25 22:58:30.828 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-08-25 22:58:30.831 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-08-25 22:58:30.833 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:438  [32m                  [0;39m channel inactive: [id: 0xbf1e4f61, L:/192.168.0.102:55074 ! R:/192.168.0.102:8091]
2023-08-25 22:58:30.834 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :130  [32m                  [0;39m return to pool, rm channel:[id: 0xbf1e4f61, L:/192.168.0.102:55074 ! R:/192.168.0.102:8091]
2023-08-25 22:58:30.834 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :133  [32m                  [0;39m channel valid false,channel:[id: 0xbf1e4f61, L:/192.168.0.102:55074 ! R:/192.168.0.102:8091]
2023-08-25 22:58:30.835 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :120  [32m                  [0;39m will destroy channel:[id: 0xbf1e4f61, L:/192.168.0.102:55074 ! R:/192.168.0.102:8091]
2023-08-25 22:58:30.835 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:438  [32m                  [0;39m channel inactive: [id: 0x0c07da65, L:/192.168.0.102:55078 ! R:/192.168.0.102:8091]
2023-08-25 22:58:30.835 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :130  [32m                  [0;39m return to pool, rm channel:[id: 0x0c07da65, L:/192.168.0.102:55078 ! R:/192.168.0.102:8091]
2023-08-25 22:58:30.835 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbf1e4f61, L:/192.168.0.102:55074 ! R:/192.168.0.102:8091]) will closed
2023-08-25 22:58:30.835 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :133  [32m                  [0;39m channel valid false,channel:[id: 0x0c07da65, L:/192.168.0.102:55078 ! R:/192.168.0.102:8091]
2023-08-25 22:58:30.835 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbf1e4f61, L:/192.168.0.102:55074 ! R:/192.168.0.102:8091]) will closed
2023-08-25 22:58:30.835 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :120  [32m                  [0;39m will destroy channel:[id: 0x0c07da65, L:/192.168.0.102:55078 ! R:/192.168.0.102:8091]
2023-08-25 22:58:30.836 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x0c07da65, L:/192.168.0.102:55078 ! R:/192.168.0.102:8091]) will closed
2023-08-25 22:58:30.836 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x0c07da65, L:/192.168.0.102:55078 ! R:/192.168.0.102:8091]) will closed
