2023-08-15 20:37:08.395 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 20:37:08.422 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-08-15 20:37:08.551 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 20:37:08.612 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-08-15 20:37:09.232 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 20:37:09.236 INFO  com.alibaba.nacos.client.utils.ParamUtil          :87   [32m                  [0;39m [settings] [req-serv] nacos-server port:8848
2023-08-15 20:37:09.237 INFO  com.alibaba.nacos.client.utils.ParamUtil          :98   [32m                  [0;39m [settings] [http-client] connect timeout:1000
2023-08-15 20:37:09.240 INFO  com.alibaba.nacos.client.utils.ParamUtil          :105  [32m                  [0;39m PER_TASK_CONFIG_SIZE: 3000.0
2023-08-15 20:37:09.352 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 20:37:09.352 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 20:37:09.360 INFO  c.a.n.client.auth.ram.identify.CredentialWatcher  :165  [32m                  [0;39m null No credential found
2023-08-15 20:37:10.291 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 20:37:10.322 INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor :63   [32m                  [0;39m LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2023-08-15 20:37:10.334 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0
2023-08-15 20:37:10.383 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f98d28
2023-08-15 20:37:10.384 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f99148
2023-08-15 20:37:10.385 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-15 20:37:10.386 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-15 20:37:10.404 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-15 20:37:10.485 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 20:37:12.966 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692103032695_127.0.0.1_49211
2023-08-15 20:37:12.967 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] Notify connected event to listeners.
2023-08-15 20:37:12.967 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] Connected,notify listen context...
2023-08-15 20:37:12.968 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 20:37:12.968 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [a1cb3002-38dd-4f33-9c00-83253ecf20c8_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dd850
2023-08-15 20:37:13.043 INFO  com.alibaba.nacos.client.config.impl.Limiter      :62   [32m                  [0;39m limitTime:5.0
2023-08-15 20:37:13.068 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service] & group[DEFAULT_GROUP]
2023-08-15 20:37:13.080 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service.properties] & group[DEFAULT_GROUP]
2023-08-15 20:37:13.090 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service-dev.properties] & group[DEFAULT_GROUP]
2023-08-15 20:37:13.092 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :108  [32m                  [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-business-service-dev.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-business-service.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-business-service,DEFAULT_GROUP'}]
2023-08-15 20:37:13.119 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 20:37:13.122 INFO  com.jktickets.BusinessApplication                 :636  [32m                  [0;39m The following 1 profile is active: "dev"
2023-08-15 20:37:15.188 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2023-08-15 20:37:15.194 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :138  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-08-15 20:37:15.261 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :208  [32m                  [0;39m Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2023-08-15 20:37:15.709 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=da180699-12b6-397b-9b52-6205a654136b
2023-08-15 20:37:15.802 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'com.jktickets.feign.MemberFeign' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.817 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.817 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.817 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.870 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.874 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.877 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.877 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$741/0x0000000801268440] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.878 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.882 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.886 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 20:37:15.889 INFO  i.s.s.boot.autoconfigure.SeataAutoConfiguration   :63   [32m                  [0;39m Automatically configure Seata
2023-08-15 20:37:15.960 INFO  io.seata.config.ConfigurationFactory              :64   [32m                  [0;39m load Configuration from :Spring Configuration
2023-08-15 20:37:15.967 INFO  io.seata.config.nacos.NacosConfiguration          :233  [32m                  [0;39m Nacos check auth with userName/password.
2023-08-15 20:37:15.979 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 20:37:15.980 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 20:37:19.017 ERROR c.a.n.client.auth.impl.process.HttpLoginProcessor :102  [32m                  [0;39m [NacosClientAuthServiceImpl] login http request failed url: http://127.0.0.1:8848/nacos/v1/auth/users/login, params: {username=nacos}, bodyMap: {password=nacos}, errorMsg: Read timed out
2023-08-15 20:37:19.021 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0
2023-08-15 20:37:19.022 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f98d28
2023-08-15 20:37:19.022 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f99148
2023-08-15 20:37:19.022 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-15 20:37:19.023 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-15 20:37:19.024 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-15 20:37:19.025 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 20:37:19.190 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692103039069_127.0.0.1_49217
2023-08-15 20:37:19.190 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 20:37:19.190 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] Notify connected event to listeners.
2023-08-15 20:37:19.191 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] Connected,notify listen context...
2023-08-15 20:37:19.190 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [97efeb7b-ee71-4ba0-a7de-5de1ae055c77_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dd850
2023-08-15 20:37:19.200 INFO  com.alibaba.nacos.client.config.utils.JvmUtil     :54   [32m                  [0;39m isMultiInstance:false
2023-08-15 20:37:19.209 INFO  com.alibaba.nacos.client.config.impl.CacheData    :67   [32m                  [0;39m nacos.cache.data.init.snapshot = true 
2023-08-15 20:37:19.211 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] seataServer.properties+SEATA_GROUP+train
2023-08-15 20:37:19.222 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=seataServer.properties, group=SEATA_GROUP, cnt=1
2023-08-15 20:37:19.241 INFO  i.seata.spring.annotation.GlobalTransactionScanner:211  [32m                  [0;39m Initializing Global Transaction Clients ... 
2023-08-15 20:37:19.432 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] transport.enableTmClientBatchSendRequest+SEATA_GROUP+train
2023-08-15 20:37:19.433 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableTmClientBatchSendRequest, group=SEATA_GROUP, cnt=1
2023-08-15 20:37:19.433 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableTmClientBatchSendRequest, group=SEATA_GROUP, cnt=2
2023-08-15 20:37:19.463 INFO  io.seata.core.rpc.netty.NettyClientBootstrap      :147  [32m                  [0;39m NettyClientBootstrap has started
2023-08-15 20:37:19.464 INFO  io.seata.discovery.registry.RegistryFactory       :50   [32m                  [0;39m use registry center type: nacos
2023-08-15 20:37:19.473 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] service.vgroupMapping.train-group+SEATA_GROUP+train
2023-08-15 20:37:19.474 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.vgroupMapping.train-group, group=SEATA_GROUP, cnt=1
2023-08-15 20:37:19.481 INFO  com.alibaba.nacos.client.naming                   :73   [32m                  [0;39m initializer namespace from namespace attribute :null
2023-08-15 20:37:19.494 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 20:37:19.494 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 20:37:22.032 ERROR c.a.n.client.auth.impl.process.HttpLoginProcessor :102  [32m                  [0;39m [NacosClientAuthServiceImpl] login http request failed url: http://127.0.0.1:8848/nacos/v1/auth/users/login, params: {username=nacos}, bodyMap: {password=nacos}, errorMsg: Read timed out
2023-08-15 20:37:25.136 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 1c4eca41-5609-4e58-bce0-dd162ff38fa6
2023-08-15 20:37:25.140 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-08-15 20:37:25.140 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-08-15 20:37:25.141 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-08-15 20:37:25.142 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-15 20:37:25.143 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 20:37:25.292 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692103045176_127.0.0.1_49225
2023-08-15 20:37:25.292 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Notify connected event to listeners.
2023-08-15 20:37:25.292 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 20:37:25.293 INFO  com.alibaba.nacos.client.naming                   :78   [32m                  [0;39m Grpc connection connect
2023-08-15 20:37:25.293 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dd850
2023-08-15 20:37:25.295 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:seata-server, group:SEATA_GROUP, clusters:default 
2023-08-15 20:37:25.395 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: SEATA_GROUP@@seata-server@@default -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"instanceIdGenerator":"simple","ipDeleteTimeout":30000}]
2023-08-15 20:37:25.398 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server@@default -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"instanceIdGenerator":"simple","ipDeleteTimeout":30000}]
2023-08-15 20:37:25.407 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:seata-server, group:SEATA_GROUP, clusters:default 
2023-08-15 20:37:25.409 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-15 20:37:25.582 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:TMROLE,address:192.168.0.102:8091,msg:< RegisterTMRequest{version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='ak=null
digest=train-group,192.168.0.102,1692103045579
timestamp=1692103045579
authVersion=V4
vgroup=train-group
ip=192.168.0.102
'} >
2023-08-15 20:37:26.256 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Receive server push request, request = NotifySubscriberRequest, requestId = 2
2023-08-15 20:37:26.257 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"instanceIdGenerator":"simple","ipDeleteTimeout":30000}]
2023-08-15 20:37:26.258 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"instanceIdGenerator":"simple","ipDeleteTimeout":30000}]
2023-08-15 20:37:26.260 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Ack server push request, request = NotifySubscriberRequest, requestId = 2
2023-08-15 20:37:27.903 ERROR io.seata.core.rpc.netty.NettyClientChannelManager :239  [32m                  [0;39m 0304 register RM failed.
io.seata.common.exception.FrameworkException: can not connect to services-server.
	at io.seata.core.rpc.netty.NettyClientBootstrap.getNewChannel(NettyClientBootstrap.java:182)
	at io.seata.core.rpc.netty.NettyPoolableFactory.makeObject(NettyPoolableFactory.java:58)
	at io.seata.core.rpc.netty.NettyPoolableFactory.makeObject(NettyPoolableFactory.java:34)
	at org.apache.commons.pool.impl.GenericKeyedObjectPool.borrowObject(GenericKeyedObjectPool.java:1220)
	at io.seata.core.rpc.netty.NettyClientChannelManager.doConnect(NettyClientChannelManager.java:236)
	at io.seata.core.rpc.netty.NettyClientChannelManager.acquireChannel(NettyClientChannelManager.java:109)
	at io.seata.core.rpc.netty.NettyClientChannelManager.reconnect(NettyClientChannelManager.java:186)
	at io.seata.core.rpc.netty.TmNettyRemotingClient.init(TmNettyRemotingClient.java:198)
	at io.seata.tm.TMClient.init(TMClient.java:47)
	at io.seata.spring.annotation.GlobalTransactionScanner.initClient(GlobalTransactionScanner.java:223)
	at io.seata.spring.annotation.GlobalTransactionScanner.afterPropertiesSet(GlobalTransactionScanner.java:537)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:261)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:761)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:568)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at com.jktickets.BusinessApplication.main(BusinessApplication.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: io.seata.common.exception.FrameworkException: connect failed, can not connect to services-server.
	at io.seata.core.rpc.netty.NettyClientBootstrap.getNewChannel(NettyClientBootstrap.java:177)
	... 31 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /192.168.0.102:8091
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-15 20:37:27.907 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x67ebad26, L:null ! R:/192.168.0.102:8091]) will closed
2023-08-15 20:37:27.907 ERROR io.seata.core.rpc.netty.NettyClientChannelManager :189  [32m                  [0;39m 0101 can not connect to 192.168.0.102:8091 cause:can not register RM,err:can not connect to services-server.
io.seata.common.exception.FrameworkException: can not register RM,err:can not connect to services-server.
	at io.seata.core.rpc.netty.NettyClientChannelManager.doConnect(NettyClientChannelManager.java:240)
	at io.seata.core.rpc.netty.NettyClientChannelManager.acquireChannel(NettyClientChannelManager.java:109)
	at io.seata.core.rpc.netty.NettyClientChannelManager.reconnect(NettyClientChannelManager.java:186)
	at io.seata.core.rpc.netty.TmNettyRemotingClient.init(TmNettyRemotingClient.java:198)
	at io.seata.tm.TMClient.init(TMClient.java:47)
	at io.seata.spring.annotation.GlobalTransactionScanner.initClient(GlobalTransactionScanner.java:223)
	at io.seata.spring.annotation.GlobalTransactionScanner.afterPropertiesSet(GlobalTransactionScanner.java:537)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:261)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:761)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:568)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at com.jktickets.BusinessApplication.main(BusinessApplication.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2023-08-15 20:37:27.908 INFO  i.seata.spring.annotation.GlobalTransactionScanner:225  [32m                  [0;39m Transaction Manager Client is initialized. applicationId[business-service] txServiceGroup[train-group]
2023-08-15 20:37:27.923 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] transport.enableRmClientBatchSendRequest+SEATA_GROUP+train
2023-08-15 20:37:27.923 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableRmClientBatchSendRequest, group=SEATA_GROUP, cnt=1
2023-08-15 20:37:27.923 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableRmClientBatchSendRequest, group=SEATA_GROUP, cnt=2
2023-08-15 20:37:27.947 INFO  io.seata.rm.datasource.AsyncWorker                :73   [32m                  [0;39m Async Commit Buffer Limit: 10000
2023-08-15 20:37:27.948 INFO  io.seata.rm.datasource.xa.ResourceManagerXA       :59   [32m                  [0;39m ResourceManagerXA init ...
2023-08-15 20:37:27.961 INFO  io.seata.core.rpc.netty.NettyClientBootstrap      :147  [32m                  [0;39m NettyClientBootstrap has started
2023-08-15 20:37:27.962 INFO  i.seata.spring.annotation.GlobalTransactionScanner:230  [32m                  [0;39m Resource Manager is initialized. applicationId[business-service] txServiceGroup[train-group]
2023-08-15 20:37:27.962 INFO  i.seata.spring.annotation.GlobalTransactionScanner:234  [32m                  [0;39m Global Transaction Clients are initialized. 
2023-08-15 20:37:29.636 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :114  [32m                  [0;39m Tomcat initialized with port(s): 8002 (http)
2023-08-15 20:37:29.648 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8002"]
2023-08-15 20:37:29.649 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-08-15 20:37:29.649 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-08-15 20:37:29.813 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-08-15 20:37:29.813 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :291  [32m                  [0;39m Root WebApplicationContext: initialization completed in 16663 ms
2023-08-15 20:37:30.307 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2023-08-15 20:37:30.629 INFO  com.zaxxer.hikari.pool.HikariPool                 :565  [32m                  [0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@203b3138
2023-08-15 20:37:30.632 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2023-08-15 20:37:30.753 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-15 20:37:30.754 INFO  io.seata.core.rpc.netty.RmNettyRemotingClient     :276  [32m                  [0;39m RM will register :jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business
2023-08-15 20:37:30.754 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:RMROLE,address:192.168.0.102:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='null'} >
2023-08-15 20:37:32.791 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4c6d14a0, L:null ! R:/192.168.0.102:8091]) will closed
2023-08-15 20:37:32.791 ERROR io.seata.core.rpc.netty.NettyClientChannelManager :239  [32m                  [0;39m 0304 register RM failed.
io.seata.common.exception.FrameworkException: can not connect to services-server.
	at io.seata.core.rpc.netty.NettyClientBootstrap.getNewChannel(NettyClientBootstrap.java:182)
	at io.seata.core.rpc.netty.NettyPoolableFactory.makeObject(NettyPoolableFactory.java:58)
	at io.seata.core.rpc.netty.NettyPoolableFactory.makeObject(NettyPoolableFactory.java:34)
	at org.apache.commons.pool.impl.GenericKeyedObjectPool.borrowObject(GenericKeyedObjectPool.java:1220)
	at io.seata.core.rpc.netty.NettyClientChannelManager.doConnect(NettyClientChannelManager.java:236)
	at io.seata.core.rpc.netty.NettyClientChannelManager.acquireChannel(NettyClientChannelManager.java:109)
	at io.seata.core.rpc.netty.NettyClientChannelManager.reconnect(NettyClientChannelManager.java:186)
	at io.seata.core.rpc.netty.RmNettyRemotingClient.registerResource(RmNettyRemotingClient.java:213)
	at io.seata.rm.AbstractResourceManager.registerResource(AbstractResourceManager.java:128)
	at io.seata.rm.datasource.DataSourceManager.registerResource(DataSourceManager.java:90)
	at io.seata.rm.DefaultResourceManager.registerResource(DefaultResourceManager.java:114)
	at io.seata.rm.datasource.DataSourceProxy.init(DataSourceProxy.java:100)
	at io.seata.rm.datasource.DataSourceProxy.<init>(DataSourceProxy.java:82)
	at io.seata.rm.datasource.DataSourceProxy.<init>(DataSourceProxy.java:67)
	at io.seata.spring.annotation.datasource.SeataAutoDataSourceProxyCreator.buildProxy(SeataAutoDataSourceProxyCreator.java:125)
	at io.seata.spring.annotation.datasource.SeataAutoDataSourceProxyCreator.wrapIfNecessary(SeataAutoDataSourceProxyCreator.java:99)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:435)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1754)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:543)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1388)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:496)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:467)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:618)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:236)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:490)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:467)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:618)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:236)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at com.jktickets.BusinessApplication.main(BusinessApplication.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: io.seata.common.exception.FrameworkException: connect failed, can not connect to services-server.
	at io.seata.core.rpc.netty.NettyClientBootstrap.getNewChannel(NettyClientBootstrap.java:177)
	... 92 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /192.168.0.102:8091
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-15 20:37:32.794 ERROR io.seata.core.rpc.netty.NettyClientChannelManager :189  [32m                  [0;39m 0101 can not connect to 192.168.0.102:8091 cause:can not register RM,err:can not connect to services-server.
io.seata.common.exception.FrameworkException: can not register RM,err:can not connect to services-server.
	at io.seata.core.rpc.netty.NettyClientChannelManager.doConnect(NettyClientChannelManager.java:240)
	at io.seata.core.rpc.netty.NettyClientChannelManager.acquireChannel(NettyClientChannelManager.java:109)
	at io.seata.core.rpc.netty.NettyClientChannelManager.reconnect(NettyClientChannelManager.java:186)
	at io.seata.core.rpc.netty.RmNettyRemotingClient.registerResource(RmNettyRemotingClient.java:213)
	at io.seata.rm.AbstractResourceManager.registerResource(AbstractResourceManager.java:128)
	at io.seata.rm.datasource.DataSourceManager.registerResource(DataSourceManager.java:90)
	at io.seata.rm.DefaultResourceManager.registerResource(DefaultResourceManager.java:114)
	at io.seata.rm.datasource.DataSourceProxy.init(DataSourceProxy.java:100)
	at io.seata.rm.datasource.DataSourceProxy.<init>(DataSourceProxy.java:82)
	at io.seata.rm.datasource.DataSourceProxy.<init>(DataSourceProxy.java:67)
	at io.seata.spring.annotation.datasource.SeataAutoDataSourceProxyCreator.buildProxy(SeataAutoDataSourceProxyCreator.java:125)
	at io.seata.spring.annotation.datasource.SeataAutoDataSourceProxyCreator.wrapIfNecessary(SeataAutoDataSourceProxyCreator.java:99)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:435)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1754)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:543)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1388)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:496)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:467)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:618)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:236)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:490)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:467)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:618)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:236)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:300)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at com.jktickets.BusinessApplication.main(BusinessApplication.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2023-08-15 20:37:32.810 INFO  i.s.s.a.datasource.SeataAutoDataSourceProxyCreator:101  [32m                  [0;39m Auto proxy data source 'dataSource' by 'AT' mode.
2023-08-15 20:37:33.893 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2023-08-15 20:37:33.951 INFO  o.s.cloud.openfeign.FeignClientFactoryBean        :437  [32m                  [0;39m For 'member-service' URL not provided. Will try picking an instance via load-balancing.
2023-08-15 20:37:34.313 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] client.tm.degradeCheck+SEATA_GROUP+train
2023-08-15 20:37:34.313 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.tm.degradeCheck, group=SEATA_GROUP, cnt=1
2023-08-15 20:37:34.314 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.tm.degradeCheck, group=SEATA_GROUP, cnt=2
2023-08-15 20:37:34.320 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] service.disableGlobalTransaction+SEATA_GROUP+train
2023-08-15 20:37:34.320 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.disableGlobalTransaction, group=SEATA_GROUP, cnt=1
2023-08-15 20:37:34.321 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.disableGlobalTransaction, group=SEATA_GROUP, cnt=2
2023-08-15 20:37:34.322 INFO  i.seata.spring.annotation.GlobalTransactionScanner:308  [32m                  [0;39m Bean [com.jktickets.service.impl.AfterConfirmOrderServiceImpl] with name [afterConfirmOrderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
2023-08-15 20:37:34.504 INFO  org.redisson.Version                              :41   [32m                  [0;39m Redisson 3.21.0
2023-08-15 20:37:34.999 INFO  o.r.connection.pool.MasterPubSubConnectionPool    :158  [32m                  [0;39m 1 connections initialized for r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com/47.110.123.191:6379
2023-08-15 20:37:35.721 INFO  org.redisson.connection.pool.MasterConnectionPool :158  [32m                  [0;39m 24 connections initialized for r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com/47.110.123.191:6379
2023-08-15 20:37:35.817 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.redisson.spring.starter.RedissonAutoConfiguration
2023-08-15 20:37:36.798 INFO  c.alibaba.cloud.sentinel.SentinelWebMvcConfigurer :52   [32m                  [0;39m [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
2023-08-15 20:37:38.031 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.github.pagehelper.autoconfigure.PageHelperStandardProperties
2023-08-15 20:37:39.619 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 1 endpoint(s) beneath base path '/actuator'
2023-08-15 20:37:39.687 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 20:37:39.688 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 20:37:39.691 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-localhost_8848] [subscribe] sentinel-business-flow+DEFAULT_GROUP+train
2023-08-15 20:37:39.691 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-localhost_8848] [add-listener] ok, tenant=train, dataId=sentinel-business-flow, group=DEFAULT_GROUP, cnt=1
2023-08-15 20:37:39.692 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of da253cab-5a44-4436-ba58-fced88f3884f_config-0
2023-08-15 20:37:39.692 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f98d28
2023-08-15 20:37:39.692 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f99148
2023-08-15 20:37:39.692 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-15 20:37:39.692 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-15 20:37:39.693 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2023-08-15 20:37:39.693 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 20:37:39.805 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1692103059701_127.0.0.1_49285
2023-08-15 20:37:39.805 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 20:37:39.805 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] Notify connected event to listeners.
2023-08-15 20:37:39.805 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dd850
2023-08-15 20:37:39.806 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [da253cab-5a44-4436-ba58-fced88f3884f_config-0] Connected,notify listen context...
2023-08-15 20:37:39.941 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8002"]
2023-08-15 20:37:39.959 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :226  [32m                  [0;39m Tomcat started on port(s): 8002 (http) with context path '/business'
2023-08-15 20:37:39.961 INFO  com.alibaba.nacos.client.naming                   :62   [32m                  [0;39m initializer namespace from ans.namespace attribute : null
2023-08-15 20:37:39.962 INFO  com.alibaba.nacos.client.naming                   :66   [32m                  [0;39m initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2023-08-15 20:37:39.962 INFO  com.alibaba.nacos.client.naming                   :73   [32m                  [0;39m initializer namespace from namespace attribute :null
2023-08-15 20:37:39.963 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 20:37:39.963 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 20:37:39.964 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of f00789a4-64e7-4db4-b826-84281e8f7e90
2023-08-15 20:37:39.964 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-08-15 20:37:39.965 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-08-15 20:37:39.965 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-08-15 20:37:39.965 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-15 20:37:39.966 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 20:37:40.076 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692103059971_127.0.0.1_49286
2023-08-15 20:37:40.076 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 20:37:40.076 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] Notify connected event to listeners.
2023-08-15 20:37:40.076 INFO  com.alibaba.nacos.client.naming                   :78   [32m                  [0;39m Grpc connection connect
2023-08-15 20:37:40.076 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dd850
2023-08-15 20:37:40.077 INFO  com.alibaba.nacos.client.naming                   :121  [32m                  [0;39m [REGISTER-SERVICE] train registering service business-service with instance Instance{instanceId='null', ip='192.168.0.102', port=8002, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2023-08-15 20:37:40.084 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :76   [32m                  [0;39m nacos registry, DEFAULT_GROUP business-service 192.168.0.102:8002 register finished
2023-08-15 20:37:40.478 INFO  com.jktickets.BusinessApplication                 :57   [32m                  [0;39m Started BusinessApplication in 34.154 seconds (process running for 36.395)
2023-08-15 20:37:40.487 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service+DEFAULT_GROUP+train
2023-08-15 20:37:40.487 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service, group=DEFAULT_GROUP, cnt=1
2023-08-15 20:37:40.487 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service, group=DEFAULT_GROUP
2023-08-15 20:37:40.489 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service.properties+DEFAULT_GROUP+train
2023-08-15 20:37:40.489 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service.properties, group=DEFAULT_GROUP, cnt=1
2023-08-15 20:37:40.489 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service.properties, group=DEFAULT_GROUP
2023-08-15 20:37:40.489 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service-dev.properties+DEFAULT_GROUP+train
2023-08-15 20:37:40.490 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service-dev.properties, group=DEFAULT_GROUP, cnt=1
2023-08-15 20:37:40.490 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service-dev.properties, group=DEFAULT_GROUP
2023-08-15 20:37:40.492 INFO  com.jktickets.BusinessApplication                 :33   [32m                  [0;39m 启动成功！！
2023-08-15 20:37:40.493 INFO  com.jktickets.BusinessApplication                 :35   [32m                  [0;39m 测试地址: 	http://127.0.0.1:8002/business/hello
2023-08-15 20:37:40.863 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-15 20:37:40.864 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-08-15 20:37:40.866 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-08-15 20:37:43.904 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Receive server push request, request = NotifySubscriberRequest, requestId = 3
2023-08-15 20:37:43.905 INFO  com.alibaba.nacos.client.naming                   :247  [32m                  [0;39m modified ips(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":false,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"instanceIdGenerator":"simple","ipDeleteTimeout":30000}]
2023-08-15 20:37:43.906 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":false,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"instanceIdGenerator":"simple","ipDeleteTimeout":30000}]
2023-08-15 20:37:43.907 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Ack server push request, request = NotifySubscriberRequest, requestId = 3
2023-08-15 20:37:58.960 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Receive server push request, request = NotifySubscriberRequest, requestId = 5
2023-08-15 20:37:58.961 INFO  com.alibaba.nacos.client.naming                   :241  [32m                  [0;39m removed ips(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":false,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"instanceIdGenerator":"simple","ipDeleteTimeout":30000}]
2023-08-15 20:37:58.961 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(0) service: SEATA_GROUP@@seata-server -> []
2023-08-15 20:37:58.963 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Ack server push request, request = NotifySubscriberRequest, requestId = 5
2023-08-15 20:38:04.981 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Receive server push request, request = NotifySubscriberRequest, requestId = 7
2023-08-15 20:38:04.981 INFO  com.alibaba.nacos.client.naming                   :235  [32m                  [0;39m new ips(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"instanceIdGenerator":"simple","ipDeleteTimeout":30000}]
2023-08-15 20:38:04.982 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"instanceIdGenerator":"simple","ipDeleteTimeout":30000}]
2023-08-15 20:38:04.983 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [1c4eca41-5609-4e58-bce0-dd162ff38fa6] Ack server push request, request = NotifySubscriberRequest, requestId = 7
2023-08-15 20:38:19.438 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-15 20:38:19.438 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:TMROLE,address:192.168.0.102:8091,msg:< RegisterTMRequest{version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='ak=null
digest=train-group,192.168.0.102,1692103099438
timestamp=1692103099438
authVersion=V4
vgroup=train-group
ip=192.168.0.102
'} >
2023-08-15 20:38:19.458 WARN  i.s.c.l.EnhancedServiceLoader$InnerEnhancedServiceLoader:545  [32m                  [0;39m Load [io.seata.serializer.hessian.HessianSerializer] class fail: com/caucho/hessian/io/AbstractHessianOutput
2023-08-15 20:38:19.475 INFO  io.seata.core.rpc.netty.TmNettyRemotingClient     :224  [32m                  [0;39m register TM success. client version:1.7.0, server version:1.6.1,channel:[id: 0xecab6dc3, L:/192.168.0.102:49324 - R:/192.168.0.102:8091]
2023-08-15 20:38:19.476 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :81   [32m                  [0;39m register success, cost 36 ms, version:1.6.1,role:TMROLE,channel:[id: 0xecab6dc3, L:/192.168.0.102:49324 - R:/192.168.0.102:8091]
2023-08-15 20:38:27.960 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-15 20:38:27.960 INFO  io.seata.core.rpc.netty.RmNettyRemotingClient     :276  [32m                  [0;39m RM will register :jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business
2023-08-15 20:38:27.961 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:RMROLE,address:192.168.0.102:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='null'} >
2023-08-15 20:38:27.975 INFO  io.seata.core.rpc.netty.RmNettyRemotingClient     :177  [32m                  [0;39m register RM success. client version:1.7.0, server version:1.6.1,channel:[id: 0x4614dc51, L:/192.168.0.102:49329 - R:/192.168.0.102:8091]
2023-08-15 20:38:27.976 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :81   [32m                  [0;39m register success, cost 13 ms, version:1.6.1,role:RMROLE,channel:[id: 0x4614dc51, L:/192.168.0.102:49329 - R:/192.168.0.102:8091]
2023-08-15 20:39:04.955 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692103144581j2o  [0;39m ------------- 开始 -------------
2023-08-15 20:39:04.956 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692103144581j2o  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/123 GET
2023-08-15 20:39:04.957 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692103144581j2o  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 20:39:04.957 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692103144581j2o  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:39:05.537 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692103144581j2o  [0;39m 请求参数: ["123",null]
2023-08-15 20:39:07.672 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692103144581j2o  [0;39m 返回结果: null
2023-08-15 20:39:07.673 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692103144581j2o  [0;39m ------------- 结束 耗时：2719 ms -------------
2023-08-15 20:39:28.009 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169210316800927j  [0;39m ------------- 开始 -------------
2023-08-15 20:39:28.009 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169210316800927j  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/123 GET
2023-08-15 20:39:28.010 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169210316800927j  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 20:39:28.010 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169210316800927j  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:39:28.011 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169210316800927j  [0;39m 请求参数: ["123",null]
2023-08-15 20:39:28.040 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169210316800927j  [0;39m 返回结果: null
2023-08-15 20:39:28.040 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169210316800927j  [0;39m ------------- 结束 耗时：31 ms -------------
2023-08-15 20:40:36.377 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692103236377zd7  [0;39m ------------- 开始 -------------
2023-08-15 20:40:36.377 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692103236377zd7  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/123 GET
2023-08-15 20:40:36.377 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692103236377zd7  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 20:40:36.378 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692103236377zd7  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:40:36.378 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692103236377zd7  [0;39m 请求参数: ["123",null]
2023-08-15 20:40:36.409 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692103236377zd7  [0;39m 返回结果: null
2023-08-15 20:40:36.409 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692103236377zd7  [0;39m ------------- 结束 耗时：32 ms -------------
2023-08-15 20:41:04.121 INFO  i.s.core.rpc.processor.client.RmUndoLogProcessor  :49   [32m                  [0;39m rm handle undo log process:UndoLogDeleteRequest{resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', saveDays=7, branchType=AT}
2023-08-15 20:48:39.181 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692103719180bfe  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 20:48:39.506 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692103719180bfe  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:48:39.509 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692103719180bfe  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:48:39.608 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692103719180bfe  [0;39m ------------- 开始 -------------
2023-08-15 20:48:39.608 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692103719180bfe  [0;39m 请求地址: http://192.168.0.102:8002/business/station/queryAll GET
2023-08-15 20:48:39.608 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692103719180bfe  [0;39m 类名方法: com.jktickets.controller.StationController.queryAllStationList
2023-08-15 20:48:39.609 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692103719180bfe  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:48:39.609 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692103719180bfe  [0;39m 请求参数: []
2023-08-15 20:48:39.610 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692103719180bfe  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-08-15 20:48:39.611 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692103719180bfe  [0;39m 参数值: com.jktickets.domain.StationExample@7bbd8486
2023-08-15 20:48:39.703 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692103719180bfe  [0;39m ==>  Preparing: select id, `name`, name_pinyin, name_py, create_time, update_time from station order by name_pinyin asc
2023-08-15 20:48:39.876 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692103719180bfe  [0;39m ==> Parameters: 
2023-08-15 20:48:40.036 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692103719180bfe  [0;39m <==    Columns: id, name, name_pinyin, name_py, create_time, update_time
2023-08-15 20:48:40.039 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692103719180bfe  [0;39m <==        Row: 1680219843401486336, 杭州, hangzhou, hz, 2023-07-15 22:16:42.268, 2023-07-15 22:16:42.268
2023-08-15 20:48:40.045 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692103719180bfe  [0;39m <==        Row: 1680205919650189312, 上海, shanghai, sh, 2023-07-15 21:21:22.591, 2023-07-15 21:21:22.591
2023-08-15 20:48:40.046 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692103719180bfe  [0;39m <==        Row: 1680205862385356800, 温州, wenzhou, wz, 2023-07-15 21:21:08.871, 2023-07-15 21:21:08.871
2023-08-15 20:48:40.047 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692103719180bfe  [0;39m <==      Total: 3
2023-08-15 20:48:40.049 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692103719180bfe  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-08-15 20:48:40.098 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692103719180bfe  [0;39m 返回结果: {"code":0,"message":"","result":[{"createTime":1689430602268,"id":1680219843401486336,"name":"杭州","namePinyin":"hangzhou","namePy":"hz","updateTime":1689430602268},{"createTime":1689427282591,"id":1680205919650189312,"name":"上海","namePinyin":"shanghai","namePy":"sh","updateTime":1689427282591},{"createTime":1689427268871,"id":1680205862385356800,"name":"温州","namePinyin":"wenzhou","namePy":"wz","updateTime":1689427268871}],"success":true}
2023-08-15 20:48:40.098 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692103719180bfe  [0;39m ------------- 结束 耗时：490 ms -------------
2023-08-15 20:48:40.155 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692103720154yfk  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 20:48:40.156 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692103720154yfk  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:48:40.156 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692103720154yfk  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:48:40.157 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692103720154yfk  [0;39m ------------- 开始 -------------
2023-08-15 20:48:40.157 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692103720154yfk  [0;39m 请求地址: http://192.168.0.102:8002/business/station/queryAll GET
2023-08-15 20:48:40.157 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692103720154yfk  [0;39m 类名方法: com.jktickets.controller.StationController.queryAllStationList
2023-08-15 20:48:40.158 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692103720154yfk  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:48:40.158 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692103720154yfk  [0;39m 请求参数: []
2023-08-15 20:48:40.158 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692103720154yfk  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-08-15 20:48:40.158 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692103720154yfk  [0;39m 参数值: com.jktickets.domain.StationExample@718ff8f1
2023-08-15 20:48:40.159 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692103720154yfk  [0;39m ==>  Preparing: select id, `name`, name_pinyin, name_py, create_time, update_time from station order by name_pinyin asc
2023-08-15 20:48:40.159 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692103720154yfk  [0;39m ==> Parameters: 
2023-08-15 20:48:40.172 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692103720154yfk  [0;39m <==    Columns: id, name, name_pinyin, name_py, create_time, update_time
2023-08-15 20:48:40.173 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692103720154yfk  [0;39m <==        Row: 1680219843401486336, 杭州, hangzhou, hz, 2023-07-15 22:16:42.268, 2023-07-15 22:16:42.268
2023-08-15 20:48:40.174 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692103720154yfk  [0;39m <==        Row: 1680205919650189312, 上海, shanghai, sh, 2023-07-15 21:21:22.591, 2023-07-15 21:21:22.591
2023-08-15 20:48:40.175 TRACE c.jktickets.mapper.StationMapper.selectByExample  :143  [32m1692103720154yfk  [0;39m <==        Row: 1680205862385356800, 温州, wenzhou, wz, 2023-07-15 21:21:08.871, 2023-07-15 21:21:08.871
2023-08-15 20:48:40.177 DEBUG c.jktickets.mapper.StationMapper.selectByExample  :137  [32m1692103720154yfk  [0;39m <==      Total: 3
2023-08-15 20:48:40.177 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692103720154yfk  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-08-15 20:48:40.179 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692103720154yfk  [0;39m 返回结果: {"code":0,"message":"","result":[{"createTime":1689430602268,"id":1680219843401486336,"name":"杭州","namePinyin":"hangzhou","namePy":"hz","updateTime":1689430602268},{"createTime":1689427282591,"id":1680205919650189312,"name":"上海","namePinyin":"shanghai","namePy":"sh","updateTime":1689427282591},{"createTime":1689427268871,"id":1680205862385356800,"name":"温州","namePinyin":"wenzhou","namePy":"wz","updateTime":1689427268871}],"success":true}
2023-08-15 20:48:40.179 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692103720154yfk  [0;39m ------------- 结束 耗时：22 ms -------------
2023-08-15 20:48:47.061 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692103727061u96  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 20:48:47.062 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692103727061u96  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:48:47.062 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692103727061u96  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:48:47.177 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692103727061u96  [0;39m ------------- 开始 -------------
2023-08-15 20:48:47.178 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692103727061u96  [0;39m 请求地址: http://192.168.0.102:8002/business/dailyTrainTicket/queryList GET
2023-08-15 20:48:47.178 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692103727061u96  [0;39m 类名方法: com.jktickets.controller.DailyTrainTicketController.queryDailyTrainTicketList
2023-08-15 20:48:47.178 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692103727061u96  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:48:47.181 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692103727061u96  [0;39m 请求参数: [{"date":1691856000000,"end":"杭州","page":1,"size":10,"start":"温州"}]
2023-08-15 20:48:47.218 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692103727061u96  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 20:48:47.219 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692103727061u96  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@15aee2ad
2023-08-15 20:48:47.469 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692103727061u96  [0;39m ==>  Preparing: SELECT count(0) FROM daily_train_ticket WHERE (`date` = ? AND `start` = ? AND `end` = ?)
2023-08-15 20:48:47.470 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692103727061u96  [0;39m ==> Parameters: 2023-08-13(Date), 温州(String), 杭州(String)
2023-08-15 20:48:47.484 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692103727061u96  [0;39m <==    Columns: count(0)
2023-08-15 20:48:47.484 TRACE c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:143  [32m1692103727061u96  [0;39m <==        Row: 1
2023-08-15 20:48:47.485 DEBUG c.j.m.DailyTrainTicketMapper.selectByExample_COUNT:137  [32m1692103727061u96  [0;39m <==      Total: 1
2023-08-15 20:48:47.487 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692103727061u96  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and `start` = ? and `end` = ? ) order by id desc LIMIT ?
2023-08-15 20:48:47.487 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692103727061u96  [0;39m ==> Parameters: 2023-08-13(Date), 温州(String), 杭州(String), 10(Integer)
2023-08-15 20:48:47.500 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692103727061u96  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-15 20:48:47.511 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692103727061u96  [0;39m <==        Row: 1690630103735865344, 2023-08-13, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 16, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-13 15:43:21.524, 2023-08-13 15:43:21.524
2023-08-15 20:48:47.513 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692103727061u96  [0;39m <==      Total: 1
2023-08-15 20:48:47.514 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692103727061u96  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 20:48:47.516 INFO  com.jktickets.service.DailyTrainTicketService     :133  [32m1692103727061u96  [0;39m 总行数：1
2023-08-15 20:48:47.516 INFO  com.jktickets.service.DailyTrainTicketService     :134  [32m1692103727061u96  [0;39m 总页数：1
2023-08-15 20:48:47.559 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692103727061u96  [0;39m 返回结果: {"code":0,"message":"","result":{"list":[{"createTime":1691912601524,"date":1691856000000,"edz":25,"edzPrice":3.96,"end":"杭州","endIndex":2,"endPinyin":"hangzhou","endTime":25200000,"id":1690630103735865344,"rw":-1,"rwPrice":7.92,"start":"温州","startIndex":1,"startPinyin":"wenzhou","startTime":51303000,"trainCode":"01","updateTime":1691912601524,"ydz":16,"ydzPrice":5.28,"yw":-1,"ywPrice":6.60}],"total":1},"success":true}
2023-08-15 20:48:47.559 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692103727061u96  [0;39m ------------- 结束 耗时：382 ms -------------
2023-08-15 20:58:34.778 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692104314777k6e  [0;39m ------------- 开始 -------------
2023-08-15 20:58:34.779 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692104314777k6e  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/c3scGEPe GET
2023-08-15 20:58:34.779 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692104314777k6e  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 20:58:34.779 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692104314777k6e  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:58:34.780 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692104314777k6e  [0;39m 请求参数: ["c3scGEPe",null]
2023-08-15 20:58:34.811 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692104314777k6e  [0;39m 返回结果: null
2023-08-15 20:58:34.811 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692104314777k6e  [0;39m ------------- 结束 耗时：33 ms -------------
2023-08-15 20:58:36.703 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692104316702tk3  [0;39m ------------- 开始 -------------
2023-08-15 20:58:36.703 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692104316702tk3  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/UB846CmN GET
2023-08-15 20:58:36.703 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692104316702tk3  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 20:58:36.703 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692104316702tk3  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:58:36.704 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692104316702tk3  [0;39m 请求参数: ["UB846CmN",null]
2023-08-15 20:58:36.730 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692104316702tk3  [0;39m 返回结果: null
2023-08-15 20:58:36.730 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692104316702tk3  [0;39m ------------- 结束 耗时：27 ms -------------
2023-08-15 20:59:23.511 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692104363510pg8  [0;39m ------------- 开始 -------------
2023-08-15 20:59:23.511 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692104363510pg8  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/wdFRWmmZ GET
2023-08-15 20:59:23.512 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692104363510pg8  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 20:59:23.512 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692104363510pg8  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:59:23.512 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692104363510pg8  [0;39m 请求参数: ["wdFRWmmZ",null]
2023-08-15 20:59:23.537 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692104363510pg8  [0;39m 返回结果: null
2023-08-15 20:59:23.537 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692104363510pg8  [0;39m ------------- 结束 耗时：26 ms -------------
2023-08-15 20:59:24.944 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16921043649443b5  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 20:59:24.945 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16921043649443b5  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:59:24.946 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16921043649443b5  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:59:25.019 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16921043649443b5  [0;39m ------------- 开始 -------------
2023-08-15 20:59:25.019 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16921043649443b5  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/doConfirm POST
2023-08-15 20:59:25.019 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16921043649443b5  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-08-15 20:59:25.019 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16921043649443b5  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:59:25.028 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16921043649443b5  [0;39m 请求参数: [{"dailyTrainTicketId":1690630103735865344,"date":1691856000000,"end":"杭州","start":"温州","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}],"trainCode":"01"}]
2023-08-15 20:59:25.177 INFO  com.jktickets.service.SkTokenService              :163  [32m16921043649443b5  [0;39m 会员[1680932902797447168] 获取日期[2023-08-13] 车次[01] 的令牌开始
2023-08-15 20:59:25.205 INFO  com.jktickets.service.SkTokenService              :212  [32m16921043649443b5  [0;39m 缓存中没有该车次令牌大闸的key：SK_TOKEN_COUNT-2023-08-13-01-1680932902797447168
2023-08-15 20:59:25.209 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921043649443b5  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.SkTokenMapper.selectByExample(SkTokenExample))
2023-08-15 20:59:25.209 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921043649443b5  [0;39m 参数值: com.jktickets.domain.SkTokenExample@da1bdd3
2023-08-15 20:59:25.225 DEBUG c.jktickets.mapper.SkTokenMapper.selectByExample  :137  [32m16921043649443b5  [0;39m ==>  Preparing: select id, `date`, train_code, `count`, create_time, update_time from sk_token WHERE ( `date` = ? and train_code = ? )
2023-08-15 20:59:25.226 DEBUG c.jktickets.mapper.SkTokenMapper.selectByExample  :137  [32m16921043649443b5  [0;39m ==> Parameters: 2023-08-13(Date), 01(String)
2023-08-15 20:59:25.238 TRACE c.jktickets.mapper.SkTokenMapper.selectByExample  :143  [32m16921043649443b5  [0;39m <==    Columns: id, date, train_code, count, create_time, update_time
2023-08-15 20:59:25.239 TRACE c.jktickets.mapper.SkTokenMapper.selectByExample  :143  [32m16921043649443b5  [0;39m <==        Row: 1690630104566337536, 2023-08-13, 01, 195, 2023-08-13 15:43:21, 2023-08-14 21:49:13.589
2023-08-15 20:59:25.240 DEBUG c.jktickets.mapper.SkTokenMapper.selectByExample  :137  [32m16921043649443b5  [0;39m <==      Total: 1
2023-08-15 20:59:25.240 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921043649443b5  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.SkTokenMapper.selectByExample(SkTokenExample))
2023-08-15 20:59:25.241 INFO  com.jktickets.service.SkTokenService              :232  [32m16921043649443b5  [0;39m 将该车次令牌放入缓存中,key:SK_TOKEN_COUNT-2023-08-13-01-1680932902797447168,count:194
2023-08-15 20:59:25.254 INFO  com.jktickets.service.ConfirmOrderService         :154  [32m16921043649443b5  [0;39m 令牌校验通过
2023-08-15 20:59:25.311 INFO  com.jktickets.service.ConfirmOrderService         :202  [32m16921043649443b5  [0;39m 恭喜，抢到锁了
2023-08-15 20:59:25.328 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921043649443b5  [0;39m 执行SQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-15 20:59:25.329 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921043649443b5  [0;39m 参数值: ConfirmOrder [Hash = 1699955788, id=1691434418364878848, memberId=1680932902797447168, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, start=温州, end=杭州, dailyTrainTicketId=1690630103735865344, status=I, createTime=2023-08-15 20:59:25, updateTime=2023-08-15 20:59:25, tickets=[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}]]
2023-08-15 20:59:25.330 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m16921043649443b5  [0;39m ==>  Preparing: insert into confirm_order (id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time, tickets) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2023-08-15 20:59:25.332 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m16921043649443b5  [0;39m ==> Parameters: 1691434418364878848(Long), 1680932902797447168(Long), 2023-08-13(Date), 01(String), 温州(String), 杭州(String), 1690630103735865344(Long), I(String), 2023-08-15 20:59:25.312(Timestamp), 2023-08-15 20:59:25.312(Timestamp), [{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}](String)
2023-08-15 20:59:25.363 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m16921043649443b5  [0;39m <==    Updates: 1
2023-08-15 20:59:25.363 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921043649443b5  [0;39m SQL执行完成: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-15 20:59:25.364 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921043649443b5  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 20:59:25.364 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921043649443b5  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@3ba45e01
2023-08-15 20:59:25.367 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m16921043649443b5  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-15 20:59:25.368 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m16921043649443b5  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 温州(String), 杭州(String)
2023-08-15 20:59:25.382 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m16921043649443b5  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-15 20:59:25.383 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m16921043649443b5  [0;39m <==        Row: 1690630103735865344, 2023-08-13, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 16, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-13 15:43:21.524, 2023-08-13 15:43:21.524
2023-08-15 20:59:25.385 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m16921043649443b5  [0;39m <==      Total: 1
2023-08-15 20:59:25.386 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921043649443b5  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 20:59:25.386 INFO  com.jktickets.service.ConfirmOrderService         :248  [32m16921043649443b5  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1488861701, id=1690630103735865344, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=16, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Sun Aug 13 15:43:21 CST 2023, updateTime=Sun Aug 13 15:43:21 CST 2023]
2023-08-15 20:59:25.412 INFO  com.jktickets.service.ConfirmOrderService         :311  [32m16921043649443b5  [0;39m 本次购票没有选座
2023-08-15 20:59:25.417 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921043649443b5  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-08-15 20:59:25.417 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921043649443b5  [0;39m 参数值: com.jktickets.domain.DailyTrainCarriageExample@45197b06
2023-08-15 20:59:25.420 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m16921043649443b5  [0;39m ==>  Preparing: select id, `date`, train_code, `index`, seat_type, seat_count, `row_count`, col_count, create_time, update_time from daily_train_carriage WHERE ( `date` = ? and train_code = ? and seat_type = ? )
2023-08-15 20:59:25.421 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m16921043649443b5  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 1(String)
2023-08-15 20:59:25.462 TRACE c.j.m.DailyTrainCarriageMapper.selectByExample    :143  [32m16921043649443b5  [0;39m <==    Columns: id, date, train_code, index, seat_type, seat_count, row_count, col_count, create_time, update_time
2023-08-15 20:59:25.463 TRACE c.j.m.DailyTrainCarriageMapper.selectByExample    :143  [32m16921043649443b5  [0;39m <==        Row: 1690630093954748416, 2023-08-13, 01, 1, 1, 32, 8, 4, 2023-08-13 15:43:19.443, 2023-08-13 15:43:19.443
2023-08-15 20:59:25.464 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m16921043649443b5  [0;39m <==      Total: 1
2023-08-15 20:59:25.465 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921043649443b5  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-08-15 20:59:25.465 INFO  com.jktickets.service.ConfirmOrderService         :372  [32m16921043649443b5  [0;39m 共查出1个符合条件的车厢
2023-08-15 20:59:25.465 INFO  com.jktickets.service.ConfirmOrderService         :377  [32m16921043649443b5  [0;39m 从车厢1选座
2023-08-15 20:59:25.473 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921043649443b5  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-08-15 20:59:25.473 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921043649443b5  [0;39m 参数值: com.jktickets.domain.DailyTrainSeatExample@4665375
2023-08-15 20:59:25.476 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m16921043649443b5  [0;39m ==>  Preparing: select id, `date`, train_code, carriage_index, `row`, col, seat_type, carriage_seat_index, sell, create_time, update_time from daily_train_seat WHERE ( `date` = ? and train_code = ? and carriage_index = ? ) order by carriage_seat_index asc
2023-08-15 20:59:25.477 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m16921043649443b5  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 1(Integer)
2023-08-15 20:59:25.498 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==    Columns: id, date, train_code, carriage_index, row, col, seat_type, carriage_seat_index, sell, create_time, update_time
2023-08-15 20:59:25.499 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630094856523776, 2023-08-13, 01, 1, 01, A, 1, 1, 01, 2023-08-13 15:43:19.658, 2023-08-13 17:05:55.969
2023-08-15 20:59:25.500 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630094982352896, 2023-08-13, 01, 1, 01, C, 1, 2, 01, 2023-08-13 15:43:19.689, 2023-08-13 17:10:19.584
2023-08-15 20:59:25.502 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630095091404800, 2023-08-13, 01, 1, 01, D, 1, 3, 01, 2023-08-13 15:43:19.715, 2023-08-13 19:13:37.094
2023-08-15 20:59:25.503 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630095213039616, 2023-08-13, 01, 1, 01, F, 1, 4, 01, 2023-08-13 15:43:19.743, 2023-08-13 19:13:43.864
2023-08-15 20:59:25.504 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630095338868736, 2023-08-13, 01, 1, 02, A, 1, 5, 01, 2023-08-13 15:43:19.774, 2023-08-13 19:14:37.110
2023-08-15 20:59:25.505 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630095447920640, 2023-08-13, 01, 1, 02, C, 1, 6, 01, 2023-08-13 15:43:19.800, 2023-08-13 19:14:53.072
2023-08-15 20:59:25.506 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630095561166848, 2023-08-13, 01, 1, 02, D, 1, 7, 01, 2023-08-13 15:43:19.827, 2023-08-13 19:16:35.125
2023-08-15 20:59:25.507 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630095678607360, 2023-08-13, 01, 1, 02, F, 1, 8, 01, 2023-08-13 15:43:19.855, 2023-08-13 19:16:44.861
2023-08-15 20:59:25.509 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630095808630784, 2023-08-13, 01, 1, 03, A, 1, 9, 01, 2023-08-13 15:43:19.886, 2023-08-13 21:36:36.895
2023-08-15 20:59:25.509 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630095921876992, 2023-08-13, 01, 1, 03, C, 1, 10, 01, 2023-08-13 15:43:19.913, 2023-08-13 21:38:20.092
2023-08-15 20:59:25.510 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630096039317504, 2023-08-13, 01, 1, 03, D, 1, 11, 01, 2023-08-13 15:43:19.941, 2023-08-14 22:25:39.612
2023-08-15 20:59:25.511 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630096152563712, 2023-08-13, 01, 1, 03, F, 1, 12, 01, 2023-08-13 15:43:19.967, 2023-08-14 22:26:08.441
2023-08-15 20:59:25.512 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630096337113088, 2023-08-13, 01, 1, 04, A, 1, 13, 01, 2023-08-13 15:43:20.012, 2023-08-14 22:26:10.361
2023-08-15 20:59:25.513 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630096450359296, 2023-08-13, 01, 1, 04, C, 1, 14, 01, 2023-08-13 15:43:20.038, 2023-08-14 22:26:18.260
2023-08-15 20:59:25.514 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630096567799808, 2023-08-13, 01, 1, 04, D, 1, 15, 01, 2023-08-13 15:43:20.067, 2023-08-14 22:26:20.337
2023-08-15 20:59:25.515 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630096706211840, 2023-08-13, 01, 1, 04, F, 1, 16, 01, 2023-08-13 15:43:20.096, 2023-08-14 22:26:23.015
2023-08-15 20:59:25.521 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630096844623872, 2023-08-13, 01, 1, 05, A, 1, 17, 00, 2023-08-13 15:43:20.133, 2023-08-13 15:43:20.133
2023-08-15 20:59:25.522 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630096974647296, 2023-08-13, 01, 1, 05, C, 1, 18, 00, 2023-08-13 15:43:20.163, 2023-08-13 15:43:20.163
2023-08-15 20:59:25.523 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630097146613760, 2023-08-13, 01, 1, 05, D, 1, 19, 00, 2023-08-13 15:43:20.205, 2023-08-13 15:43:20.205
2023-08-15 20:59:25.524 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630097280831488, 2023-08-13, 01, 1, 05, F, 1, 20, 00, 2023-08-13 15:43:20.236, 2023-08-13 15:43:20.236
2023-08-15 20:59:25.525 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630097398272000, 2023-08-13, 01, 1, 06, A, 1, 21, 00, 2023-08-13 15:43:20.265, 2023-08-13 15:43:20.265
2023-08-15 20:59:25.525 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630097511518208, 2023-08-13, 01, 1, 06, C, 1, 22, 00, 2023-08-13 15:43:20.292, 2023-08-13 15:43:20.292
2023-08-15 20:59:25.526 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630097654124544, 2023-08-13, 01, 1, 06, D, 1, 23, 00, 2023-08-13 15:43:20.326, 2023-08-13 15:43:20.326
2023-08-15 20:59:25.527 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630097989668864, 2023-08-13, 01, 1, 06, F, 1, 24, 00, 2023-08-13 15:43:20.405, 2023-08-13 15:43:20.405
2023-08-15 20:59:25.528 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630098094526464, 2023-08-13, 01, 1, 07, A, 1, 25, 00, 2023-08-13 15:43:20.431, 2023-08-13 15:43:20.431
2023-08-15 20:59:25.530 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630098216161280, 2023-08-13, 01, 1, 07, C, 1, 26, 00, 2023-08-13 15:43:20.460, 2023-08-13 15:43:20.460
2023-08-15 20:59:25.531 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630098396516352, 2023-08-13, 01, 1, 07, D, 1, 27, 00, 2023-08-13 15:43:20.503, 2023-08-13 15:43:20.503
2023-08-15 20:59:25.532 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630098509762560, 2023-08-13, 01, 1, 07, F, 1, 28, 00, 2023-08-13 15:43:20.530, 2023-08-13 15:43:20.530
2023-08-15 20:59:25.533 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630098618814464, 2023-08-13, 01, 1, 08, A, 1, 29, 00, 2023-08-13 15:43:20.556, 2023-08-13 15:43:20.556
2023-08-15 20:59:25.534 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630098736254976, 2023-08-13, 01, 1, 08, C, 1, 30, 00, 2023-08-13 15:43:20.583, 2023-08-13 15:43:20.583
2023-08-15 20:59:25.535 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630098849501184, 2023-08-13, 01, 1, 08, D, 1, 31, 00, 2023-08-13 15:43:20.611, 2023-08-13 15:43:20.611
2023-08-15 20:59:25.536 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921043649443b5  [0;39m <==        Row: 1690630098979524608, 2023-08-13, 01, 1, 08, F, 1, 32, 00, 2023-08-13 15:43:20.641, 2023-08-13 15:43:20.641
2023-08-15 20:59:25.536 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m16921043649443b5  [0;39m <==      Total: 32
2023-08-15 20:59:25.537 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921043649443b5  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-08-15 20:59:25.537 INFO  com.jktickets.service.ConfirmOrderService         :385  [32m16921043649443b5  [0;39m 车厢1的座位数:32
2023-08-15 20:59:25.537 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.538 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位1在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.538 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.538 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位2在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.538 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.538 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位3在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.538 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.539 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位4在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.539 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.539 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位5在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.539 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.539 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位6在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.539 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.539 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位7在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.539 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.540 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位8在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.540 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.540 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位9在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.540 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.540 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位10在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.540 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.540 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位11在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.540 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.541 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位12在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.541 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位13在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.541 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位14在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.541 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位15在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.542 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921043649443b5  [0;39m 座位16在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:25.542 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921043649443b5  [0;39m 无选座
2023-08-15 20:59:25.542 INFO  com.jktickets.service.ConfirmOrderService         :517  [32m16921043649443b5  [0;39m 座位17在本次车站区间1-2没有售过票,可选中该座位
2023-08-15 20:59:25.542 INFO  com.jktickets.service.ConfirmOrderService         :536  [32m16921043649443b5  [0;39m 座位17被选中，原售票信息:00,车站区间:1-2,即:01,最终售票信息:01
2023-08-15 20:59:25.542 INFO  com.jktickets.service.ConfirmOrderService         :428  [32m16921043649443b5  [0;39m 选中座位
2023-08-15 20:59:25.543 INFO  com.jktickets.service.ConfirmOrderService         :320  [32m16921043649443b5  [0;39m 最终选座:[DailyTrainSeat [Hash = 532897724, id=1690630096844623872, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, carriageIndex=1, row=05, col=A, seatType=1, carriageSeatIndex=17, sell=01, createTime=Sun Aug 13 15:43:20 CST 2023, updateTime=Sun Aug 13 15:43:20 CST 2023]]
2023-08-15 20:59:25.579 INFO  io.seata.tm.TransactionManagerHolder              :40   [32m16921043649443b5  [0;39m TransactionManager Singleton io.seata.tm.DefaultTransactionManager@2f18d5a3
2023-08-15 20:59:25.743 INFO  io.seata.tm.api.DefaultGlobalTransaction          :117  [32m16921043649443b5  [0;39m Begin new global transaction [192.168.0.102:8091:7161148031162490881]
2023-08-15 20:59:25.743 INFO  com.jktickets.service.AfterConfirmOrderService    :74   [32m16921043649443b5  [0;39m Seata全局事务ID:192.168.0.102:8091:7161148031162490881
2023-08-15 20:59:25.744 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921043649443b5  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-08-15 20:59:25.744 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921043649443b5  [0;39m 参数值: DailyTrainSeat [Hash = 353539483, id=1690630096844623872, date=null, trainCode=null, carriageIndex=null, row=null, col=null, seatType=null, carriageSeatIndex=null, sell=01, createTime=null, updateTime=Tue Aug 15 20:59:25 CST 2023]
2023-08-15 20:59:25.775 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m16921043649443b5  [0;39m ==>  Preparing: update daily_train_seat SET sell = ?, update_time = ? where id = ?
2023-08-15 20:59:26.027 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m16921043649443b5  [0;39m ==> Parameters: 01(String), 2023-08-15 20:59:25.744(Timestamp), 1690630096844623872(Long)
2023-08-15 20:59:26.061 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m16921043649443b5  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] client.rm.lock.retryInterval+SEATA_GROUP+train
2023-08-15 20:59:26.062 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m16921043649443b5  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.rm.lock.retryInterval, group=SEATA_GROUP, cnt=1
2023-08-15 20:59:26.063 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m16921043649443b5  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.rm.lock.retryInterval, group=SEATA_GROUP, cnt=2
2023-08-15 20:59:26.063 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m16921043649443b5  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] client.rm.lock.retryTimes+SEATA_GROUP+train
2023-08-15 20:59:26.064 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m16921043649443b5  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.rm.lock.retryTimes, group=SEATA_GROUP, cnt=1
2023-08-15 20:59:26.064 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m16921043649443b5  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.rm.lock.retryTimes, group=SEATA_GROUP, cnt=2
2023-08-15 20:59:26.334 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692104366334w6n  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 20:59:26.335 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692104366334w6n  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:59:26.335 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692104366334w6n  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:59:26.337 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692104366334w6n  [0;39m ------------- 开始 -------------
2023-08-15 20:59:26.337 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692104366334w6n  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/doConfirm POST
2023-08-15 20:59:26.337 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692104366334w6n  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-08-15 20:59:26.338 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692104366334w6n  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:59:26.338 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692104366334w6n  [0;39m 请求参数: [{"dailyTrainTicketId":1690630103735865344,"date":1691856000000,"end":"杭州","start":"温州","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}],"trainCode":"01"}]
2023-08-15 20:59:26.339 INFO  com.jktickets.service.SkTokenService              :163  [32m1692104366334w6n  [0;39m 会员[1680932902797447168] 获取日期[2023-08-13] 车次[01] 的令牌开始
2023-08-15 20:59:26.352 INFO  com.jktickets.service.SkTokenService              :193  [32m1692104366334w6n  [0;39m 缓存中有车次令牌大闸的key:SK_TOKEN_COUNT-2023-08-13-01-1680932902797447168
2023-08-15 20:59:26.364 INFO  com.jktickets.service.SkTokenService              :200  [32m1692104366334w6n  [0;39m 获取令牌后，令牌余数:193
2023-08-15 20:59:26.384 INFO  com.jktickets.service.ConfirmOrderService         :154  [32m1692104366334w6n  [0;39m 令牌校验通过
2023-08-15 20:59:26.397 INFO  com.jktickets.service.ConfirmOrderService         :211  [32m1692104366334w6n  [0;39m 很遗憾，没抢到锁
2023-08-15 20:59:26.398 INFO  com.jktickets.service.ConfirmOrderService         :344  [32m1692104366334w6n  [0;39m 购票流程结束，释放锁
2023-08-15 20:59:26.416 ERROR c.jktickets.exception.ControllerExceptionHandler  :62   [32m1692104366334w6n  [0;39m 业务异常:当前抢票人数多，请稍后重试
2023-08-15 20:59:26.420 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m1692104366334w6n  [0;39m Resolved [BusinessException(businessExceptionEnum=BusinessExceptionEnum{desc='当前抢票人数多，请稍后重试'})]
2023-08-15 20:59:26.580 INFO  io.seata.rm.AbstractResourceManager               :73   [32m16921043649443b5  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490881, branchId:7161148031162490884, lockKeys:daily_train_seat:1690630096844623872
2023-08-15 20:59:26.595 WARN  i.s.c.l.EnhancedServiceLoader$InnerEnhancedServiceLoader:545  [32m16921043649443b5  [0;39m Load [io.seata.rm.datasource.undo.parser.ProtostuffUndoLogParser] class fail: io/protostuff/runtime/IdStrategy
2023-08-15 20:59:26.678 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m16921043649443b5  [0;39m <==    Updates: 1
2023-08-15 20:59:26.678 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921043649443b5  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-08-15 20:59:26.678 INFO  com.jktickets.service.AfterConfirmOrderService    :105  [32m16921043649443b5  [0;39m 影响出发站区间:0-1
2023-08-15 20:59:26.678 INFO  com.jktickets.service.AfterConfirmOrderService    :117  [32m16921043649443b5  [0;39m 影响到达站区间:2-2
2023-08-15 20:59:26.690 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m16921043649443b5  [0;39m ==>  Preparing: update daily_train_ticket set ydz = ydz -1 where `date` = ? and train_code = ? and start_index >= ? and ? >=start_index and end_index >= ? and ? >= end_index
2023-08-15 20:59:26.693 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m16921043649443b5  [0;39m ==> Parameters: 2023-08-13 00:00:00.0(Timestamp), 01(String), 0(Integer), 1(Integer), 2(Integer), 2(Integer)
2023-08-15 20:59:26.745 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692104366745r8a  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 20:59:26.745 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692104366745r8a  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:59:26.746 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692104366745r8a  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:59:26.747 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692104366745r8a  [0;39m ------------- 开始 -------------
2023-08-15 20:59:26.747 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692104366745r8a  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/doConfirm POST
2023-08-15 20:59:26.747 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692104366745r8a  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-08-15 20:59:26.748 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692104366745r8a  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:59:26.748 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692104366745r8a  [0;39m 请求参数: [{"dailyTrainTicketId":1690630103735865344,"date":1691856000000,"end":"杭州","start":"温州","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}],"trainCode":"01"}]
2023-08-15 20:59:26.748 INFO  com.jktickets.service.SkTokenService              :163  [32m1692104366745r8a  [0;39m 会员[1680932902797447168] 获取日期[2023-08-13] 车次[01] 的令牌开始
2023-08-15 20:59:26.762 INFO  com.jktickets.service.SkTokenService              :193  [32m1692104366745r8a  [0;39m 缓存中有车次令牌大闸的key:SK_TOKEN_COUNT-2023-08-13-01-1680932902797447168
2023-08-15 20:59:26.775 INFO  com.jktickets.service.SkTokenService              :200  [32m1692104366745r8a  [0;39m 获取令牌后，令牌余数:192
2023-08-15 20:59:26.790 INFO  com.jktickets.service.ConfirmOrderService         :154  [32m1692104366745r8a  [0;39m 令牌校验通过
2023-08-15 20:59:26.802 INFO  com.jktickets.service.ConfirmOrderService         :211  [32m1692104366745r8a  [0;39m 很遗憾，没抢到锁
2023-08-15 20:59:26.803 INFO  com.jktickets.service.ConfirmOrderService         :344  [32m1692104366745r8a  [0;39m 购票流程结束，释放锁
2023-08-15 20:59:26.816 ERROR c.jktickets.exception.ControllerExceptionHandler  :62   [32m1692104366745r8a  [0;39m 业务异常:当前抢票人数多，请稍后重试
2023-08-15 20:59:26.818 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m1692104366745r8a  [0;39m Resolved [BusinessException(businessExceptionEnum=BusinessExceptionEnum{desc='当前抢票人数多，请稍后重试'})]
2023-08-15 20:59:26.988 INFO  io.seata.rm.AbstractResourceManager               :73   [32m16921043649443b5  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490881, branchId:7161148031162490886, lockKeys:daily_train_ticket:1690630103169634304,1690630103735865344
2023-08-15 20:59:27.034 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m16921043649443b5  [0;39m <==    Updates: 2
2023-08-15 20:59:27.148 INFO  com.alibaba.nacos.client.naming                   :167  [32m16921043649443b5  [0;39m [SUBSCRIBE-SERVICE] service:member-service, group:DEFAULT_GROUP, clusters: 
2023-08-15 20:59:27.154 INFO  com.alibaba.nacos.client.naming                   :184  [32m16921043649443b5  [0;39m init new ips(1) service: DEFAULT_GROUP@@member-service -> [{"ip":"192.168.0.102","port":8001,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@member-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2023-08-15 20:59:27.157 INFO  com.alibaba.nacos.client.naming                   :169  [32m16921043649443b5  [0;39m current ips:(1) service: DEFAULT_GROUP@@member-service -> [{"ip":"192.168.0.102","port":8001,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@member-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2023-08-15 20:59:27.746 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] Receive server push request, request = NotifySubscriberRequest, requestId = 11
2023-08-15 20:59:27.746 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [f00789a4-64e7-4db4-b826-84281e8f7e90] Ack server push request, request = NotifySubscriberRequest, requestId = 11
2023-08-15 20:59:28.032 INFO  com.jktickets.service.AfterConfirmOrderService    :144  [32m16921043649443b5  [0;39m 调用member接口，返回CommonRes(success=true, code=0, message=, result=添加Ticket成功)
2023-08-15 20:59:28.037 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921043649443b5  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-15 20:59:28.037 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921043649443b5  [0;39m 参数值: ConfirmOrder [Hash = 1046211351, id=1691434418364878848, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=S, createTime=null, updateTime=Tue Aug 15 20:59:28 CST 2023, tickets=null]
2023-08-15 20:59:28.050 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m16921043649443b5  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-15 20:59:28.051 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m16921043649443b5  [0;39m ==> Parameters: S(String), 2023-08-15 20:59:28.036(Timestamp), 1691434418364878848(Long)
2023-08-15 20:59:28.274 INFO  io.seata.rm.AbstractResourceManager               :73   [32m16921043649443b5  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490881, branchId:7161148031162490892, lockKeys:confirm_order:1691434418364878848
2023-08-15 20:59:28.316 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m16921043649443b5  [0;39m <==    Updates: 1
2023-08-15 20:59:28.317 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921043649443b5  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-15 20:59:28.317 INFO  io.seata.tm.api.DefaultGlobalTransaction          :133  [32m16921043649443b5  [0;39m transaction 192.168.0.102:8091:7161148031162490881 will be commit
2023-08-15 20:59:28.444 INFO  io.seata.tm.api.DefaultGlobalTransaction          :209  [32m16921043649443b5  [0;39m transaction end, xid = 192.168.0.102:8091:7161148031162490881
2023-08-15 20:59:28.444 INFO  io.seata.tm.api.DefaultGlobalTransaction          :155  [32m16921043649443b5  [0;39m [192.168.0.102:8091:7161148031162490881] commit status: Committed
2023-08-15 20:59:28.444 INFO  com.jktickets.service.ConfirmOrderService         :344  [32m16921043649443b5  [0;39m 购票流程结束，释放锁
2023-08-15 20:59:28.476 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16921043649443b5  [0;39m 返回结果: {"code":0,"message":"","success":true}
2023-08-15 20:59:28.477 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16921043649443b5  [0;39m ------------- 结束 耗时：3459 ms -------------
2023-08-15 20:59:29.068 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490881', branchId=7161148031162490884, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 20:59:29.070 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490881 7161148031162490884 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 20:59:29.073 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 20:59:29.101 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490881', branchId=7161148031162490886, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 20:59:29.101 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490881 7161148031162490886 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 20:59:29.101 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 20:59:29.138 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490881', branchId=7161148031162490892, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 20:59:29.138 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490881 7161148031162490892 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 20:59:29.138 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 20:59:34.370 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692104374370jxo  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 20:59:34.371 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692104374370jxo  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:59:34.371 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692104374370jxo  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 20:59:34.373 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692104374370jxo  [0;39m ------------- 开始 -------------
2023-08-15 20:59:34.373 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692104374370jxo  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/doConfirm POST
2023-08-15 20:59:34.374 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692104374370jxo  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-08-15 20:59:34.374 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692104374370jxo  [0;39m 远程地址: 192.168.0.102
2023-08-15 20:59:34.374 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692104374370jxo  [0;39m 请求参数: [{"dailyTrainTicketId":1690630103735865344,"date":1691856000000,"end":"杭州","start":"温州","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}],"trainCode":"01"}]
2023-08-15 20:59:34.375 INFO  com.jktickets.service.SkTokenService              :163  [32m1692104374370jxo  [0;39m 会员[1680932902797447168] 获取日期[2023-08-13] 车次[01] 的令牌开始
2023-08-15 20:59:34.385 INFO  com.jktickets.service.SkTokenService              :193  [32m1692104374370jxo  [0;39m 缓存中有车次令牌大闸的key:SK_TOKEN_COUNT-2023-08-13-01-1680932902797447168
2023-08-15 20:59:34.400 INFO  com.jktickets.service.SkTokenService              :200  [32m1692104374370jxo  [0;39m 获取令牌后，令牌余数:191
2023-08-15 20:59:34.411 INFO  com.jktickets.service.ConfirmOrderService         :154  [32m1692104374370jxo  [0;39m 令牌校验通过
2023-08-15 20:59:34.427 INFO  com.jktickets.service.ConfirmOrderService         :202  [32m1692104374370jxo  [0;39m 恭喜，抢到锁了
2023-08-15 20:59:34.427 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692104374370jxo  [0;39m 执行SQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-15 20:59:34.428 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692104374370jxo  [0;39m 参数值: ConfirmOrder [Hash = 44523599, id=1691434456533045248, memberId=1680932902797447168, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, start=温州, end=杭州, dailyTrainTicketId=1690630103735865344, status=I, createTime=2023-08-15 20:59:34, updateTime=2023-08-15 20:59:34, tickets=[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}]]
2023-08-15 20:59:34.438 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m1692104374370jxo  [0;39m ==>  Preparing: insert into confirm_order (id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time, tickets) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2023-08-15 20:59:34.440 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m1692104374370jxo  [0;39m ==> Parameters: 1691434456533045248(Long), 1680932902797447168(Long), 2023-08-13(Date), 01(String), 温州(String), 杭州(String), 1690630103735865344(Long), I(String), 2023-08-15 20:59:34.427(Timestamp), 2023-08-15 20:59:34.427(Timestamp), [{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"测试","passengerType":"1","seatTypeCode":"1"}](String)
2023-08-15 20:59:34.464 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m1692104374370jxo  [0;39m <==    Updates: 1
2023-08-15 20:59:34.465 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692104374370jxo  [0;39m SQL执行完成: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-15 20:59:34.465 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692104374370jxo  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 20:59:34.465 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692104374370jxo  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@71e0ecd8
2023-08-15 20:59:34.466 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692104374370jxo  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-15 20:59:34.467 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692104374370jxo  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 温州(String), 杭州(String)
2023-08-15 20:59:34.481 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692104374370jxo  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-15 20:59:34.482 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630103735865344, 2023-08-13, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 15, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-13 15:43:21.524, 2023-08-13 15:43:21.524
2023-08-15 20:59:34.483 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m1692104374370jxo  [0;39m <==      Total: 1
2023-08-15 20:59:34.484 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692104374370jxo  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 20:59:34.484 INFO  com.jktickets.service.ConfirmOrderService         :248  [32m1692104374370jxo  [0;39m 查出余票记录:DailyTrainTicket [Hash = 548211378, id=1690630103735865344, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=15, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Sun Aug 13 15:43:21 CST 2023, updateTime=Sun Aug 13 15:43:21 CST 2023]
2023-08-15 20:59:34.485 INFO  com.jktickets.service.ConfirmOrderService         :311  [32m1692104374370jxo  [0;39m 本次购票没有选座
2023-08-15 20:59:34.485 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692104374370jxo  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-08-15 20:59:34.485 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692104374370jxo  [0;39m 参数值: com.jktickets.domain.DailyTrainCarriageExample@1d4a91a4
2023-08-15 20:59:34.486 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m1692104374370jxo  [0;39m ==>  Preparing: select id, `date`, train_code, `index`, seat_type, seat_count, `row_count`, col_count, create_time, update_time from daily_train_carriage WHERE ( `date` = ? and train_code = ? and seat_type = ? )
2023-08-15 20:59:34.487 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m1692104374370jxo  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 1(String)
2023-08-15 20:59:34.499 TRACE c.j.m.DailyTrainCarriageMapper.selectByExample    :143  [32m1692104374370jxo  [0;39m <==    Columns: id, date, train_code, index, seat_type, seat_count, row_count, col_count, create_time, update_time
2023-08-15 20:59:34.500 TRACE c.j.m.DailyTrainCarriageMapper.selectByExample    :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630093954748416, 2023-08-13, 01, 1, 1, 32, 8, 4, 2023-08-13 15:43:19.443, 2023-08-13 15:43:19.443
2023-08-15 20:59:34.501 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m1692104374370jxo  [0;39m <==      Total: 1
2023-08-15 20:59:34.502 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692104374370jxo  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-08-15 20:59:34.502 INFO  com.jktickets.service.ConfirmOrderService         :372  [32m1692104374370jxo  [0;39m 共查出1个符合条件的车厢
2023-08-15 20:59:34.502 INFO  com.jktickets.service.ConfirmOrderService         :377  [32m1692104374370jxo  [0;39m 从车厢1选座
2023-08-15 20:59:34.502 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692104374370jxo  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-08-15 20:59:34.502 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692104374370jxo  [0;39m 参数值: com.jktickets.domain.DailyTrainSeatExample@7e8793ca
2023-08-15 20:59:34.504 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m1692104374370jxo  [0;39m ==>  Preparing: select id, `date`, train_code, carriage_index, `row`, col, seat_type, carriage_seat_index, sell, create_time, update_time from daily_train_seat WHERE ( `date` = ? and train_code = ? and carriage_index = ? ) order by carriage_seat_index asc
2023-08-15 20:59:34.505 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m1692104374370jxo  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 1(Integer)
2023-08-15 20:59:34.517 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==    Columns: id, date, train_code, carriage_index, row, col, seat_type, carriage_seat_index, sell, create_time, update_time
2023-08-15 20:59:34.518 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630094856523776, 2023-08-13, 01, 1, 01, A, 1, 1, 01, 2023-08-13 15:43:19.658, 2023-08-13 17:05:55.969
2023-08-15 20:59:34.519 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630094982352896, 2023-08-13, 01, 1, 01, C, 1, 2, 01, 2023-08-13 15:43:19.689, 2023-08-13 17:10:19.584
2023-08-15 20:59:34.520 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630095091404800, 2023-08-13, 01, 1, 01, D, 1, 3, 01, 2023-08-13 15:43:19.715, 2023-08-13 19:13:37.094
2023-08-15 20:59:34.520 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630095213039616, 2023-08-13, 01, 1, 01, F, 1, 4, 01, 2023-08-13 15:43:19.743, 2023-08-13 19:13:43.864
2023-08-15 20:59:34.521 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630095338868736, 2023-08-13, 01, 1, 02, A, 1, 5, 01, 2023-08-13 15:43:19.774, 2023-08-13 19:14:37.110
2023-08-15 20:59:34.521 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630095447920640, 2023-08-13, 01, 1, 02, C, 1, 6, 01, 2023-08-13 15:43:19.800, 2023-08-13 19:14:53.072
2023-08-15 20:59:34.521 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630095561166848, 2023-08-13, 01, 1, 02, D, 1, 7, 01, 2023-08-13 15:43:19.827, 2023-08-13 19:16:35.125
2023-08-15 20:59:34.522 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630095678607360, 2023-08-13, 01, 1, 02, F, 1, 8, 01, 2023-08-13 15:43:19.855, 2023-08-13 19:16:44.861
2023-08-15 20:59:34.523 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630095808630784, 2023-08-13, 01, 1, 03, A, 1, 9, 01, 2023-08-13 15:43:19.886, 2023-08-13 21:36:36.895
2023-08-15 20:59:34.523 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630095921876992, 2023-08-13, 01, 1, 03, C, 1, 10, 01, 2023-08-13 15:43:19.913, 2023-08-13 21:38:20.092
2023-08-15 20:59:34.524 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630096039317504, 2023-08-13, 01, 1, 03, D, 1, 11, 01, 2023-08-13 15:43:19.941, 2023-08-14 22:25:39.612
2023-08-15 20:59:34.524 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630096152563712, 2023-08-13, 01, 1, 03, F, 1, 12, 01, 2023-08-13 15:43:19.967, 2023-08-14 22:26:08.441
2023-08-15 20:59:34.524 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630096337113088, 2023-08-13, 01, 1, 04, A, 1, 13, 01, 2023-08-13 15:43:20.012, 2023-08-14 22:26:10.361
2023-08-15 20:59:34.525 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630096450359296, 2023-08-13, 01, 1, 04, C, 1, 14, 01, 2023-08-13 15:43:20.038, 2023-08-14 22:26:18.260
2023-08-15 20:59:34.526 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630096567799808, 2023-08-13, 01, 1, 04, D, 1, 15, 01, 2023-08-13 15:43:20.067, 2023-08-14 22:26:20.337
2023-08-15 20:59:34.526 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630096706211840, 2023-08-13, 01, 1, 04, F, 1, 16, 01, 2023-08-13 15:43:20.096, 2023-08-14 22:26:23.015
2023-08-15 20:59:34.527 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630096844623872, 2023-08-13, 01, 1, 05, A, 1, 17, 01, 2023-08-13 15:43:20.133, 2023-08-15 20:59:25.744
2023-08-15 20:59:34.527 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630096974647296, 2023-08-13, 01, 1, 05, C, 1, 18, 00, 2023-08-13 15:43:20.163, 2023-08-13 15:43:20.163
2023-08-15 20:59:34.528 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630097146613760, 2023-08-13, 01, 1, 05, D, 1, 19, 00, 2023-08-13 15:43:20.205, 2023-08-13 15:43:20.205
2023-08-15 20:59:34.529 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630097280831488, 2023-08-13, 01, 1, 05, F, 1, 20, 00, 2023-08-13 15:43:20.236, 2023-08-13 15:43:20.236
2023-08-15 20:59:34.531 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630097398272000, 2023-08-13, 01, 1, 06, A, 1, 21, 00, 2023-08-13 15:43:20.265, 2023-08-13 15:43:20.265
2023-08-15 20:59:34.532 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630097511518208, 2023-08-13, 01, 1, 06, C, 1, 22, 00, 2023-08-13 15:43:20.292, 2023-08-13 15:43:20.292
2023-08-15 20:59:34.533 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630097654124544, 2023-08-13, 01, 1, 06, D, 1, 23, 00, 2023-08-13 15:43:20.326, 2023-08-13 15:43:20.326
2023-08-15 20:59:34.535 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630097989668864, 2023-08-13, 01, 1, 06, F, 1, 24, 00, 2023-08-13 15:43:20.405, 2023-08-13 15:43:20.405
2023-08-15 20:59:34.535 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630098094526464, 2023-08-13, 01, 1, 07, A, 1, 25, 00, 2023-08-13 15:43:20.431, 2023-08-13 15:43:20.431
2023-08-15 20:59:34.536 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630098216161280, 2023-08-13, 01, 1, 07, C, 1, 26, 00, 2023-08-13 15:43:20.460, 2023-08-13 15:43:20.460
2023-08-15 20:59:34.536 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630098396516352, 2023-08-13, 01, 1, 07, D, 1, 27, 00, 2023-08-13 15:43:20.503, 2023-08-13 15:43:20.503
2023-08-15 20:59:34.537 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630098509762560, 2023-08-13, 01, 1, 07, F, 1, 28, 00, 2023-08-13 15:43:20.530, 2023-08-13 15:43:20.530
2023-08-15 20:59:34.537 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630098618814464, 2023-08-13, 01, 1, 08, A, 1, 29, 00, 2023-08-13 15:43:20.556, 2023-08-13 15:43:20.556
2023-08-15 20:59:34.538 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630098736254976, 2023-08-13, 01, 1, 08, C, 1, 30, 00, 2023-08-13 15:43:20.583, 2023-08-13 15:43:20.583
2023-08-15 20:59:34.538 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630098849501184, 2023-08-13, 01, 1, 08, D, 1, 31, 00, 2023-08-13 15:43:20.611, 2023-08-13 15:43:20.611
2023-08-15 20:59:34.539 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m1692104374370jxo  [0;39m <==        Row: 1690630098979524608, 2023-08-13, 01, 1, 08, F, 1, 32, 00, 2023-08-13 15:43:20.641, 2023-08-13 15:43:20.641
2023-08-15 20:59:34.539 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m1692104374370jxo  [0;39m <==      Total: 32
2023-08-15 20:59:34.540 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692104374370jxo  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-08-15 20:59:34.540 INFO  com.jktickets.service.ConfirmOrderService         :385  [32m1692104374370jxo  [0;39m 车厢1的座位数:32
2023-08-15 20:59:34.540 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.540 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位1在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.540 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.540 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位2在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位3在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位4在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位5在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位6在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位7在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.541 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.542 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位8在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.542 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.542 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位9在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.542 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.542 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位10在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.542 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.543 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位11在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.543 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.543 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位12在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.543 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.543 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位13在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.543 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.543 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位14在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.544 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.544 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位15在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.544 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.544 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位16在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.544 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.544 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m1692104374370jxo  [0;39m 座位17在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 20:59:34.544 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m1692104374370jxo  [0;39m 无选座
2023-08-15 20:59:34.544 INFO  com.jktickets.service.ConfirmOrderService         :517  [32m1692104374370jxo  [0;39m 座位18在本次车站区间1-2没有售过票,可选中该座位
2023-08-15 20:59:34.545 INFO  com.jktickets.service.ConfirmOrderService         :536  [32m1692104374370jxo  [0;39m 座位18被选中，原售票信息:00,车站区间:1-2,即:01,最终售票信息:01
2023-08-15 20:59:34.545 INFO  com.jktickets.service.ConfirmOrderService         :428  [32m1692104374370jxo  [0;39m 选中座位
2023-08-15 20:59:34.545 INFO  com.jktickets.service.ConfirmOrderService         :320  [32m1692104374370jxo  [0;39m 最终选座:[DailyTrainSeat [Hash = 1012814712, id=1690630096974647296, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, carriageIndex=1, row=05, col=C, seatType=1, carriageSeatIndex=18, sell=01, createTime=Sun Aug 13 15:43:20 CST 2023, updateTime=Sun Aug 13 15:43:20 CST 2023]]
2023-08-15 20:59:34.566 INFO  io.seata.tm.api.DefaultGlobalTransaction          :117  [32m1692104374370jxo  [0;39m Begin new global transaction [192.168.0.102:8091:7161148031162490895]
2023-08-15 20:59:34.567 INFO  com.jktickets.service.AfterConfirmOrderService    :74   [32m1692104374370jxo  [0;39m Seata全局事务ID:192.168.0.102:8091:7161148031162490895
2023-08-15 20:59:34.567 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692104374370jxo  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-08-15 20:59:34.567 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692104374370jxo  [0;39m 参数值: DailyTrainSeat [Hash = 902705224, id=1690630096974647296, date=null, trainCode=null, carriageIndex=null, row=null, col=null, seatType=null, carriageSeatIndex=null, sell=01, createTime=null, updateTime=Tue Aug 15 20:59:34 CST 2023]
2023-08-15 20:59:34.568 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m1692104374370jxo  [0;39m ==>  Preparing: update daily_train_seat SET sell = ?, update_time = ? where id = ?
2023-08-15 20:59:34.569 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m1692104374370jxo  [0;39m ==> Parameters: 01(String), 2023-08-15 20:59:34.567(Timestamp), 1690630096974647296(Long)
2023-08-15 20:59:34.783 INFO  io.seata.rm.AbstractResourceManager               :73   [32m1692104374370jxo  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490895, branchId:7161148031162490897, lockKeys:daily_train_seat:1690630096974647296
2023-08-15 20:59:34.822 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m1692104374370jxo  [0;39m <==    Updates: 1
2023-08-15 20:59:34.823 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692104374370jxo  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-08-15 20:59:34.824 INFO  com.jktickets.service.AfterConfirmOrderService    :105  [32m1692104374370jxo  [0;39m 影响出发站区间:0-1
2023-08-15 20:59:34.824 INFO  com.jktickets.service.AfterConfirmOrderService    :117  [32m1692104374370jxo  [0;39m 影响到达站区间:2-2
2023-08-15 20:59:34.824 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m1692104374370jxo  [0;39m ==>  Preparing: update daily_train_ticket set ydz = ydz -1 where `date` = ? and train_code = ? and start_index >= ? and ? >=start_index and end_index >= ? and ? >= end_index
2023-08-15 20:59:34.825 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m1692104374370jxo  [0;39m ==> Parameters: 2023-08-13 00:00:00.0(Timestamp), 01(String), 0(Integer), 1(Integer), 2(Integer), 2(Integer)
2023-08-15 20:59:35.018 INFO  io.seata.rm.AbstractResourceManager               :73   [32m1692104374370jxo  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490895, branchId:7161148031162490899, lockKeys:daily_train_ticket:1690630103169634304,1690630103735865344
2023-08-15 20:59:35.070 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m1692104374370jxo  [0;39m <==    Updates: 2
2023-08-15 20:59:35.300 INFO  com.jktickets.service.AfterConfirmOrderService    :144  [32m1692104374370jxo  [0;39m 调用member接口，返回CommonRes(success=true, code=0, message=, result=添加Ticket成功)
2023-08-15 20:59:35.301 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1692104374370jxo  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-15 20:59:35.301 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1692104374370jxo  [0;39m 参数值: ConfirmOrder [Hash = 860459503, id=1691434456533045248, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=S, createTime=null, updateTime=Tue Aug 15 20:59:35 CST 2023, tickets=null]
2023-08-15 20:59:35.302 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692104374370jxo  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-15 20:59:35.303 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692104374370jxo  [0;39m ==> Parameters: S(String), 2023-08-15 20:59:35.3(Timestamp), 1691434456533045248(Long)
2023-08-15 20:59:35.460 INFO  io.seata.rm.AbstractResourceManager               :73   [32m1692104374370jxo  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490895, branchId:7161148031162490904, lockKeys:confirm_order:1691434456533045248
2023-08-15 20:59:35.498 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m1692104374370jxo  [0;39m <==    Updates: 1
2023-08-15 20:59:35.498 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1692104374370jxo  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-15 20:59:35.499 INFO  io.seata.tm.api.DefaultGlobalTransaction          :133  [32m1692104374370jxo  [0;39m transaction 192.168.0.102:8091:7161148031162490895 will be commit
2023-08-15 20:59:35.551 INFO  io.seata.tm.api.DefaultGlobalTransaction          :209  [32m1692104374370jxo  [0;39m transaction end, xid = 192.168.0.102:8091:7161148031162490895
2023-08-15 20:59:35.552 INFO  io.seata.tm.api.DefaultGlobalTransaction          :155  [32m1692104374370jxo  [0;39m [192.168.0.102:8091:7161148031162490895] commit status: Committed
2023-08-15 20:59:35.552 INFO  com.jktickets.service.ConfirmOrderService         :344  [32m1692104374370jxo  [0;39m 购票流程结束，释放锁
2023-08-15 20:59:35.575 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692104374370jxo  [0;39m 返回结果: {"code":0,"message":"","success":true}
2023-08-15 20:59:35.575 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692104374370jxo  [0;39m ------------- 结束 耗时：1202 ms -------------
2023-08-15 20:59:36.072 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490895', branchId=7161148031162490897, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 20:59:36.072 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490895 7161148031162490897 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 20:59:36.073 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 20:59:36.093 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490895', branchId=7161148031162490899, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 20:59:36.094 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490895 7161148031162490899 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 20:59:36.094 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 20:59:36.145 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490895', branchId=7161148031162490904, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 20:59:36.145 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490895 7161148031162490904 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 20:59:36.145 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 21:01:01.794 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692104461793ykb  [0;39m ------------- 开始 -------------
2023-08-15 21:01:01.794 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692104461793ykb  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/BtwAG8fB GET
2023-08-15 21:01:01.795 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692104461793ykb  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 21:01:01.795 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692104461793ykb  [0;39m 远程地址: 192.168.0.102
2023-08-15 21:01:01.795 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692104461793ykb  [0;39m 请求参数: ["BtwAG8fB",null]
2023-08-15 21:01:01.819 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692104461793ykb  [0;39m 返回结果: null
2023-08-15 21:01:01.820 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692104461793ykb  [0;39m ------------- 结束 耗时：26 ms -------------
2023-08-15 21:01:36.494 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692104496494h2w  [0;39m ------------- 开始 -------------
2023-08-15 21:01:36.495 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692104496494h2w  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/qDwBWooG GET
2023-08-15 21:01:36.495 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692104496494h2w  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 21:01:36.496 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692104496494h2w  [0;39m 远程地址: 192.168.0.102
2023-08-15 21:01:36.496 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692104496494h2w  [0;39m 请求参数: ["qDwBWooG",null]
2023-08-15 21:01:36.521 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692104496494h2w  [0;39m 返回结果: null
2023-08-15 21:01:36.522 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692104496494h2w  [0;39m ------------- 结束 耗时：28 ms -------------
2023-08-15 22:11:35.061 WARN  com.alibaba.nacos.common.notify.NotifyCenter      :136  [32m                  [0;39m [NotifyCenter] Start destroying Publisher
2023-08-15 22:11:35.061 WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder  :102  [32m                  [0;39m [HttpClientBeanHolder] Start destroying common HttpClient
2023-08-15 22:11:35.062 WARN  com.alibaba.nacos.common.notify.NotifyCenter      :153  [32m                  [0;39m [NotifyCenter] Destruction of the end
2023-08-15 22:11:35.064 WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder  :111  [32m                  [0;39m [HttpClientBeanHolder] Destruction of the end
2023-08-15 22:11:35.131 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :95   [32m                  [0;39m De-registering from Nacos Server now...
2023-08-15 22:11:35.131 INFO  com.alibaba.nacos.client.naming                   :217  [32m                  [0;39m [DEREGISTER-SERVICE] train deregistering service business-service with instance: Instance{instanceId='null', ip='192.168.0.102', port=8002, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-08-15 22:11:35.135 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :115  [32m                  [0;39m De-registration finished.
2023-08-15 22:11:35.138 INFO  com.alibaba.nacos.client.naming                   :256  [32m                  [0;39m com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2023-08-15 22:11:35.138 INFO  com.alibaba.nacos.client.naming                   :136  [32m                  [0;39m com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2023-08-15 22:11:35.139 INFO  com.alibaba.nacos.client.naming                   :138  [32m                  [0;39m com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2023-08-15 22:11:35.139 INFO  com.alibaba.nacos.client.naming                   :258  [32m                  [0;39m com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2023-08-15 22:11:35.139 INFO  com.alibaba.nacos.client.naming                   :204  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2023-08-15 22:11:35.139 INFO  com.alibaba.nacos.client.naming                   :143  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2023-08-15 22:11:35.139 INFO  com.alibaba.nacos.client.naming                   :145  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2023-08-15 22:11:35.140 INFO  com.alibaba.nacos.client.naming                   :194  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2023-08-15 22:11:35.140 WARN  com.alibaba.nacos.client.naming                   :74   [32m                  [0;39m [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-08-15 22:11:35.140 WARN  com.alibaba.nacos.client.naming                   :81   [32m                  [0;39m [NamingHttpClientManager] Destruction of the end
2023-08-15 22:11:35.140 INFO  com.alibaba.nacos.client.naming                   :199  [32m                  [0;39m com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2023-08-15 22:11:35.141 INFO  com.alibaba.nacos.client.naming                   :484  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2023-08-15 22:11:35.141 WARN  com.alibaba.nacos.client.naming                   :74   [32m                  [0;39m [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-08-15 22:11:35.141 WARN  com.alibaba.nacos.client.naming                   :81   [32m                  [0;39m [NamingHttpClientManager] Destruction of the end
2023-08-15 22:11:35.141 INFO  com.alibaba.nacos.client.naming                   :486  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2023-08-15 22:11:35.141 INFO  com.alibaba.nacos.common.remote.client            :429  [32m                  [0;39m Shutdown rpc client, set status to shutdown
2023-08-15 22:11:35.141 INFO  com.alibaba.nacos.common.remote.client            :431  [32m                  [0;39m Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@75d9210f[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2023-08-15 22:11:35.141 INFO  com.alibaba.nacos.common.remote.client            :584  [32m                  [0;39m Close current connection 1692103059971_127.0.0.1_49286
2023-08-15 22:11:35.146 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :63   [32m                  [0;39m [1692103059971_127.0.0.1_49286]Ignore complete event,isRunning:false,isAbandon=false
2023-08-15 22:11:35.154 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :159  [32m                  [0;39m Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3c9cfc79[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 1136]
2023-08-15 22:11:35.155 INFO  com.alibaba.nacos.client.naming                   :318  [32m                  [0;39m Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@45da4760[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1876]
2023-08-15 22:11:35.156 INFO  c.a.n.client.auth.ram.identify.CredentialWatcher  :106  [32m                  [0;39m [null] CredentialWatcher is stopped
2023-08-15 22:11:35.163 INFO  c.a.n.client.auth.ram.identify.CredentialService  :100  [32m                  [0;39m [null] CredentialService is freed
2023-08-15 22:11:35.164 INFO  com.alibaba.nacos.client.naming                   :211  [32m                  [0;39m com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2023-08-15 22:11:35.253 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-08-15 22:11:35.269 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-08-15 22:11:35.276 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:438  [32m                  [0;39m channel inactive: [id: 0xecab6dc3, L:/192.168.0.102:49324 ! R:/192.168.0.102:8091]
2023-08-15 22:11:35.278 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :130  [32m                  [0;39m return to pool, rm channel:[id: 0xecab6dc3, L:/192.168.0.102:49324 ! R:/192.168.0.102:8091]
2023-08-15 22:11:35.279 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :133  [32m                  [0;39m channel valid false,channel:[id: 0xecab6dc3, L:/192.168.0.102:49324 ! R:/192.168.0.102:8091]
2023-08-15 22:11:35.280 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :120  [32m                  [0;39m will destroy channel:[id: 0xecab6dc3, L:/192.168.0.102:49324 ! R:/192.168.0.102:8091]
2023-08-15 22:11:35.280 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xecab6dc3, L:/192.168.0.102:49324 ! R:/192.168.0.102:8091]) will closed
2023-08-15 22:11:35.280 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xecab6dc3, L:/192.168.0.102:49324 ! R:/192.168.0.102:8091]) will closed
2023-08-15 22:11:35.292 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:438  [32m                  [0;39m channel inactive: [id: 0x4614dc51, L:/192.168.0.102:49329 ! R:/192.168.0.102:8091]
2023-08-15 22:11:35.292 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :130  [32m                  [0;39m return to pool, rm channel:[id: 0x4614dc51, L:/192.168.0.102:49329 ! R:/192.168.0.102:8091]
2023-08-15 22:11:35.293 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :133  [32m                  [0;39m channel valid false,channel:[id: 0x4614dc51, L:/192.168.0.102:49329 ! R:/192.168.0.102:8091]
2023-08-15 22:11:35.293 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :120  [32m                  [0;39m will destroy channel:[id: 0x4614dc51, L:/192.168.0.102:49329 ! R:/192.168.0.102:8091]
2023-08-15 22:11:35.293 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4614dc51, L:/192.168.0.102:49329 ! R:/192.168.0.102:8091]) will closed
2023-08-15 22:11:35.293 INFO  i.seata.core.rpc.netty.AbstractNettyRemotingClient:488  [32m                  [0;39m ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4614dc51, L:/192.168.0.102:49329 ! R:/192.168.0.102:8091]) will closed
2023-08-15 22:11:47.964 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 22:11:47.985 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-08-15 22:11:48.057 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 22:11:48.096 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-08-15 22:11:48.391 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 22:11:48.394 INFO  com.alibaba.nacos.client.utils.ParamUtil          :87   [32m                  [0;39m [settings] [req-serv] nacos-server port:8848
2023-08-15 22:11:48.394 INFO  com.alibaba.nacos.client.utils.ParamUtil          :98   [32m                  [0;39m [settings] [http-client] connect timeout:1000
2023-08-15 22:11:48.396 INFO  com.alibaba.nacos.client.utils.ParamUtil          :105  [32m                  [0;39m PER_TASK_CONFIG_SIZE: 3000.0
2023-08-15 22:11:48.455 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 22:11:48.456 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 22:11:48.461 INFO  c.a.n.client.auth.ram.identify.CredentialWatcher  :165  [32m                  [0;39m null No credential found
2023-08-15 22:11:49.139 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 22:11:49.163 INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor :63   [32m                  [0;39m LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2023-08-15 22:11:49.169 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 4b93140c-7113-4355-9627-f3ebae6c2c92_config-0
2023-08-15 22:11:49.203 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f99ee8
2023-08-15 22:11:49.203 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f9a308
2023-08-15 22:11:49.204 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-15 22:11:49.205 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-15 22:11:49.225 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-15 22:11:49.278 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 22:11:51.042 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692108710810_127.0.0.1_53378
2023-08-15 22:11:51.043 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] Notify connected event to listeners.
2023-08-15 22:11:51.043 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] Connected,notify listen context...
2023-08-15 22:11:51.043 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 22:11:51.044 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4b93140c-7113-4355-9627-f3ebae6c2c92_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dedd8
2023-08-15 22:11:51.108 INFO  com.alibaba.nacos.client.config.impl.Limiter      :62   [32m                  [0;39m limitTime:5.0
2023-08-15 22:11:51.129 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service] & group[DEFAULT_GROUP]
2023-08-15 22:11:51.135 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service.properties] & group[DEFAULT_GROUP]
2023-08-15 22:11:51.143 WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder :87   [32m                  [0;39m Ignore the empty nacos configuration and get it based on dataId[business-service-dev.properties] & group[DEFAULT_GROUP]
2023-08-15 22:11:51.144 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :108  [32m                  [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-business-service-dev.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-business-service.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-business-service,DEFAULT_GROUP'}]
2023-08-15 22:11:51.174 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-08-15 22:11:51.175 INFO  com.jktickets.BusinessApplication                 :636  [32m                  [0;39m The following 1 profile is active: "dev"
2023-08-15 22:11:52.660 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2023-08-15 22:11:52.664 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :138  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-08-15 22:11:52.709 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :208  [32m                  [0;39m Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2023-08-15 22:11:53.078 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=da180699-12b6-397b-9b52-6205a654136b
2023-08-15 22:11:53.176 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'com.jktickets.feign.MemberFeign' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.190 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.191 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.191 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.259 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.265 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.267 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.268 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$741/0x0000000801266900] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.270 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.276 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.280 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-15 22:11:53.285 INFO  i.s.s.boot.autoconfigure.SeataAutoConfiguration   :63   [32m                  [0;39m Automatically configure Seata
2023-08-15 22:11:53.367 INFO  io.seata.config.ConfigurationFactory              :64   [32m                  [0;39m load Configuration from :Spring Configuration
2023-08-15 22:11:53.378 INFO  io.seata.config.nacos.NacosConfiguration          :233  [32m                  [0;39m Nacos check auth with userName/password.
2023-08-15 22:11:53.394 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 22:11:53.394 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 22:11:53.531 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 3869f626-b741-490d-8e71-8a6835c14a62_config-0
2023-08-15 22:11:53.532 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f99ee8
2023-08-15 22:11:53.532 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f9a308
2023-08-15 22:11:53.532 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-15 22:11:53.532 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-15 22:11:53.533 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-15 22:11:53.534 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 22:11:53.657 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692108713542_127.0.0.1_53380
2023-08-15 22:11:53.657 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 22:11:53.657 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] Notify connected event to listeners.
2023-08-15 22:11:53.658 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dedd8
2023-08-15 22:11:53.658 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [3869f626-b741-490d-8e71-8a6835c14a62_config-0] Connected,notify listen context...
2023-08-15 22:11:53.665 INFO  com.alibaba.nacos.client.config.utils.JvmUtil     :54   [32m                  [0;39m isMultiInstance:false
2023-08-15 22:11:53.673 INFO  com.alibaba.nacos.client.config.impl.CacheData    :67   [32m                  [0;39m nacos.cache.data.init.snapshot = true 
2023-08-15 22:11:53.675 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] seataServer.properties+SEATA_GROUP+train
2023-08-15 22:11:53.688 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=seataServer.properties, group=SEATA_GROUP, cnt=1
2023-08-15 22:11:53.704 INFO  i.seata.spring.annotation.GlobalTransactionScanner:211  [32m                  [0;39m Initializing Global Transaction Clients ... 
2023-08-15 22:11:53.885 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] transport.enableTmClientBatchSendRequest+SEATA_GROUP+train
2023-08-15 22:11:53.885 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableTmClientBatchSendRequest, group=SEATA_GROUP, cnt=1
2023-08-15 22:11:53.886 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableTmClientBatchSendRequest, group=SEATA_GROUP, cnt=2
2023-08-15 22:11:53.905 INFO  io.seata.core.rpc.netty.NettyClientBootstrap      :147  [32m                  [0;39m NettyClientBootstrap has started
2023-08-15 22:11:53.906 INFO  io.seata.discovery.registry.RegistryFactory       :50   [32m                  [0;39m use registry center type: nacos
2023-08-15 22:11:53.915 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] service.vgroupMapping.train-group+SEATA_GROUP+train
2023-08-15 22:11:53.916 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.vgroupMapping.train-group, group=SEATA_GROUP, cnt=1
2023-08-15 22:11:53.924 INFO  com.alibaba.nacos.client.naming                   :73   [32m                  [0;39m initializer namespace from namespace attribute :null
2023-08-15 22:11:53.934 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 22:11:53.935 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 22:11:54.030 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 4513e43a-f09b-4ade-84be-3e311b79411f
2023-08-15 22:11:54.033 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-08-15 22:11:54.033 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-08-15 22:11:54.034 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-08-15 22:11:54.035 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-15 22:11:54.035 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 22:11:54.158 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692108714042_127.0.0.1_53381
2023-08-15 22:11:54.158 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] Notify connected event to listeners.
2023-08-15 22:11:54.158 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 22:11:54.159 INFO  com.alibaba.nacos.client.naming                   :78   [32m                  [0;39m Grpc connection connect
2023-08-15 22:11:54.159 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dedd8
2023-08-15 22:11:54.161 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:seata-server, group:SEATA_GROUP, clusters:default 
2023-08-15 22:11:54.186 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: SEATA_GROUP@@seata-server@@default -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple"}]
2023-08-15 22:11:54.191 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server@@default -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple"}]
2023-08-15 22:11:54.198 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:seata-server, group:SEATA_GROUP, clusters:default 
2023-08-15 22:11:54.200 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-15 22:11:54.342 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:TMROLE,address:192.168.0.102:8091,msg:< RegisterTMRequest{version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='ak=null
digest=train-group,192.168.0.102,1692108714339
timestamp=1692108714339
authVersion=V4
vgroup=train-group
ip=192.168.0.102
'} >
2023-08-15 22:11:54.637 WARN  i.s.c.l.EnhancedServiceLoader$InnerEnhancedServiceLoader:545  [32m                  [0;39m Load [io.seata.serializer.hessian.HessianSerializer] class fail: com/caucho/hessian/io/AbstractHessianOutput
2023-08-15 22:11:54.667 INFO  io.seata.core.rpc.netty.TmNettyRemotingClient     :224  [32m                  [0;39m register TM success. client version:1.7.0, server version:1.6.1,channel:[id: 0x18044f97, L:/192.168.0.102:53382 - R:/192.168.0.102:8091]
2023-08-15 22:11:54.674 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :81   [32m                  [0;39m register success, cost 79 ms, version:1.6.1,role:TMROLE,channel:[id: 0x18044f97, L:/192.168.0.102:53382 - R:/192.168.0.102:8091]
2023-08-15 22:11:54.675 INFO  i.seata.spring.annotation.GlobalTransactionScanner:225  [32m                  [0;39m Transaction Manager Client is initialized. applicationId[business-service] txServiceGroup[train-group]
2023-08-15 22:11:54.685 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] transport.enableRmClientBatchSendRequest+SEATA_GROUP+train
2023-08-15 22:11:54.685 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableRmClientBatchSendRequest, group=SEATA_GROUP, cnt=1
2023-08-15 22:11:54.686 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=transport.enableRmClientBatchSendRequest, group=SEATA_GROUP, cnt=2
2023-08-15 22:11:54.709 INFO  io.seata.rm.datasource.AsyncWorker                :73   [32m                  [0;39m Async Commit Buffer Limit: 10000
2023-08-15 22:11:54.710 INFO  io.seata.rm.datasource.xa.ResourceManagerXA       :59   [32m                  [0;39m ResourceManagerXA init ...
2023-08-15 22:11:54.718 INFO  io.seata.core.rpc.netty.NettyClientBootstrap      :147  [32m                  [0;39m NettyClientBootstrap has started
2023-08-15 22:11:54.719 INFO  i.seata.spring.annotation.GlobalTransactionScanner:230  [32m                  [0;39m Resource Manager is initialized. applicationId[business-service] txServiceGroup[train-group]
2023-08-15 22:11:54.719 INFO  i.seata.spring.annotation.GlobalTransactionScanner:234  [32m                  [0;39m Global Transaction Clients are initialized. 
2023-08-15 22:11:54.774 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] Receive server push request, request = NotifySubscriberRequest, requestId = 17
2023-08-15 22:11:54.775 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple"}]
2023-08-15 22:11:54.776 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: SEATA_GROUP@@seata-server -> [{"instanceId":"192.168.0.102#8091#default#SEATA_GROUP@@seata-server","ip":"192.168.0.102","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"default","serviceName":"SEATA_GROUP@@seata-server","metadata":{},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple"}]
2023-08-15 22:11:54.778 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4513e43a-f09b-4ade-84be-3e311b79411f] Ack server push request, request = NotifySubscriberRequest, requestId = 17
2023-08-15 22:11:56.146 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :114  [32m                  [0;39m Tomcat initialized with port(s): 8002 (http)
2023-08-15 22:11:56.161 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8002"]
2023-08-15 22:11:56.161 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-08-15 22:11:56.162 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-08-15 22:11:56.261 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-08-15 22:11:56.262 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :291  [32m                  [0;39m Root WebApplicationContext: initialization completed in 5063 ms
2023-08-15 22:11:56.731 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2023-08-15 22:11:57.065 INFO  com.zaxxer.hikari.pool.HikariPool                 :565  [32m                  [0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@135f1c4d
2023-08-15 22:11:57.067 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2023-08-15 22:11:57.184 INFO  io.seata.core.rpc.netty.NettyClientChannelManager :105  [32m                  [0;39m will connect to 192.168.0.102:8091
2023-08-15 22:11:57.185 INFO  io.seata.core.rpc.netty.RmNettyRemotingClient     :276  [32m                  [0;39m RM will register :jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business
2023-08-15 22:11:57.185 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :56   [32m                  [0;39m NettyPool create channel to transactionRole:RMROLE,address:192.168.0.102:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', version='1.7.0', applicationId='business-service', transactionServiceGroup='train-group', extraData='null'} >
2023-08-15 22:11:57.193 INFO  io.seata.core.rpc.netty.RmNettyRemotingClient     :177  [32m                  [0;39m register RM success. client version:1.7.0, server version:1.6.1,channel:[id: 0x66a33db8, L:/192.168.0.102:53388 - R:/192.168.0.102:8091]
2023-08-15 22:11:57.194 INFO  io.seata.core.rpc.netty.NettyPoolableFactory      :81   [32m                  [0;39m register success, cost 6 ms, version:1.6.1,role:RMROLE,channel:[id: 0x66a33db8, L:/192.168.0.102:53388 - R:/192.168.0.102:8091]
2023-08-15 22:11:57.206 INFO  i.s.s.a.datasource.SeataAutoDataSourceProxyCreator:101  [32m                  [0;39m Auto proxy data source 'dataSource' by 'AT' mode.
2023-08-15 22:11:58.107 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :62   [32m                  [0;39m Unable to start LiveReload server
2023-08-15 22:11:58.152 INFO  o.s.cloud.openfeign.FeignClientFactoryBean        :437  [32m                  [0;39m For 'member-service' URL not provided. Will try picking an instance via load-balancing.
2023-08-15 22:11:58.356 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] client.tm.degradeCheck+SEATA_GROUP+train
2023-08-15 22:11:58.356 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.tm.degradeCheck, group=SEATA_GROUP, cnt=1
2023-08-15 22:11:58.356 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.tm.degradeCheck, group=SEATA_GROUP, cnt=2
2023-08-15 22:11:58.362 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] service.disableGlobalTransaction+SEATA_GROUP+train
2023-08-15 22:11:58.362 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.disableGlobalTransaction, group=SEATA_GROUP, cnt=1
2023-08-15 22:11:58.363 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=service.disableGlobalTransaction, group=SEATA_GROUP, cnt=2
2023-08-15 22:11:58.363 INFO  i.seata.spring.annotation.GlobalTransactionScanner:308  [32m                  [0;39m Bean [com.jktickets.service.impl.AfterConfirmOrderServiceImpl] with name [afterConfirmOrderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
2023-08-15 22:11:58.531 INFO  org.redisson.Version                              :41   [32m                  [0;39m Redisson 3.21.0
2023-08-15 22:11:58.908 INFO  o.r.connection.pool.MasterPubSubConnectionPool    :158  [32m                  [0;39m 1 connections initialized for r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com/47.110.123.191:6379
2023-08-15 22:11:59.925 INFO  org.redisson.connection.pool.MasterConnectionPool :158  [32m                  [0;39m 24 connections initialized for r-bp1e8io6hj1e27e15lpd.redis.rds.aliyuncs.com/47.110.123.191:6379
2023-08-15 22:12:00.024 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: org.redisson.spring.starter.RedissonAutoConfiguration
2023-08-15 22:12:00.858 INFO  c.alibaba.cloud.sentinel.SentinelWebMvcConfigurer :52   [32m                  [0;39m [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
2023-08-15 22:12:01.997 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.github.pagehelper.autoconfigure.PageHelperStandardProperties
2023-08-15 22:12:03.560 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 1 endpoint(s) beneath base path '/actuator'
2023-08-15 22:12:03.627 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 22:12:03.627 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 22:12:03.629 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-localhost_8848] [subscribe] sentinel-business-flow+DEFAULT_GROUP+train
2023-08-15 22:12:03.629 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-localhost_8848] [add-listener] ok, tenant=train, dataId=sentinel-business-flow, group=DEFAULT_GROUP, cnt=1
2023-08-15 22:12:03.629 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0
2023-08-15 22:12:03.629 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$601/0x0000000800f99ee8
2023-08-15 22:12:03.630 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$602/0x0000000800f9a308
2023-08-15 22:12:03.630 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2023-08-15 22:12:03.630 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2023-08-15 22:12:03.630 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2023-08-15 22:12:03.630 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 22:12:03.742 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1692108723636_127.0.0.1_53425
2023-08-15 22:12:03.742 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 22:12:03.742 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] Notify connected event to listeners.
2023-08-15 22:12:03.742 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dedd8
2023-08-15 22:12:03.742 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :639  [32m                  [0;39m [00b0d20b-71f2-454b-b8b0-cbfe23bf5147_config-0] Connected,notify listen context...
2023-08-15 22:12:03.912 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8002"]
2023-08-15 22:12:03.934 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :226  [32m                  [0;39m Tomcat started on port(s): 8002 (http) with context path '/business'
2023-08-15 22:12:03.937 INFO  com.alibaba.nacos.client.naming                   :62   [32m                  [0;39m initializer namespace from ans.namespace attribute : null
2023-08-15 22:12:03.937 INFO  com.alibaba.nacos.client.naming                   :66   [32m                  [0;39m initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2023-08-15 22:12:03.937 INFO  com.alibaba.nacos.client.naming                   :73   [32m                  [0;39m initializer namespace from namespace attribute :null
2023-08-15 22:12:03.938 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-15 22:12:03.938 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-15 22:12:03.939 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 6969420e-4849-4da8-85d8-3ed592b829bb
2023-08-15 22:12:03.940 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-08-15 22:12:03.940 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-08-15 22:12:03.941 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-08-15 22:12:03.941 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2023-08-15 22:12:03.942 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-08-15 22:12:04.054 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1692108723948_127.0.0.1_53426
2023-08-15 22:12:04.054 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] Notify connected event to listeners.
2023-08-15 22:12:04.054 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-15 22:12:04.055 INFO  com.alibaba.nacos.client.naming                   :78   [32m                  [0;39m Grpc connection connect
2023-08-15 22:12:04.055 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$618/0x00000008010dedd8
2023-08-15 22:12:04.056 INFO  com.alibaba.nacos.client.naming                   :121  [32m                  [0;39m [REGISTER-SERVICE] train registering service business-service with instance Instance{instanceId='null', ip='192.168.0.102', port=8002, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2023-08-15 22:12:04.064 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :76   [32m                  [0;39m nacos registry, DEFAULT_GROUP business-service 192.168.0.102:8002 register finished
2023-08-15 22:12:04.489 INFO  com.jktickets.BusinessApplication                 :57   [32m                  [0;39m Started BusinessApplication in 17.801 seconds (process running for 19.129)
2023-08-15 22:12:04.498 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service+DEFAULT_GROUP+train
2023-08-15 22:12:04.498 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service, group=DEFAULT_GROUP, cnt=1
2023-08-15 22:12:04.498 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service, group=DEFAULT_GROUP
2023-08-15 22:12:04.499 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service.properties+DEFAULT_GROUP+train
2023-08-15 22:12:04.500 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service.properties, group=DEFAULT_GROUP, cnt=1
2023-08-15 22:12:04.500 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service.properties, group=DEFAULT_GROUP
2023-08-15 22:12:04.501 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] business-service-dev.properties+DEFAULT_GROUP+train
2023-08-15 22:12:04.501 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m                  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=business-service-dev.properties, group=DEFAULT_GROUP, cnt=1
2023-08-15 22:12:04.501 INFO  c.a.cloud.nacos.refresh.NacosContextRefresher     :129  [32m                  [0;39m [Nacos Config] Listening config: dataId=business-service-dev.properties, group=DEFAULT_GROUP
2023-08-15 22:12:04.504 INFO  com.jktickets.BusinessApplication                 :33   [32m                  [0;39m 启动成功！！
2023-08-15 22:12:04.505 INFO  com.jktickets.BusinessApplication                 :35   [32m                  [0;39m 测试地址: 	http://127.0.0.1:8002/business/hello
2023-08-15 22:12:04.973 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-15 22:12:04.973 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-08-15 22:12:04.978 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 4 ms
2023-08-15 22:13:15.272 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16921087952243oh  [0;39m ------------- 开始 -------------
2023-08-15 22:13:15.274 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16921087952243oh  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/9FCYhC61 GET
2023-08-15 22:13:15.274 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16921087952243oh  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 22:13:15.275 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16921087952243oh  [0;39m 远程地址: 192.168.0.102
2023-08-15 22:13:15.370 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16921087952243oh  [0;39m 请求参数: ["9FCYhC61",null]
2023-08-15 22:13:15.627 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16921087952243oh  [0;39m 返回结果: null
2023-08-15 22:13:15.628 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16921087952243oh  [0;39m ------------- 结束 耗时：357 ms -------------
2023-08-15 22:13:22.966 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1692108802965e60  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 22:13:23.307 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1692108802965e60  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 22:13:23.313 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1692108802965e60  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 22:13:23.474 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692108802965e60  [0;39m ------------- 开始 -------------
2023-08-15 22:13:23.474 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692108802965e60  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/doConfirm POST
2023-08-15 22:13:23.475 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692108802965e60  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-08-15 22:13:23.475 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692108802965e60  [0;39m 远程地址: 192.168.0.102
2023-08-15 22:13:23.511 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692108802965e60  [0;39m 请求参数: [{"dailyTrainTicketId":1690630103735865344,"date":1691856000000,"end":"杭州","imageCode":"d6f3","imageCodeToken":"9FCYhC61","start":"温州","tickets":[{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"测试33","passengerType":"2","seatTypeCode":"1"}],"trainCode":"01"}]
2023-08-15 22:13:23.555 INFO  com.jktickets.controller.ConfirmOrderController   :43   [32m1692108802965e60  [0;39m 从redis中获取到的验证码：d6fe
2023-08-15 22:13:23.561 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692108802965e60  [0;39m 返回结果: {"code":400,"message":"验证码不正确","success":false}
2023-08-15 22:13:23.561 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692108802965e60  [0;39m ------------- 结束 耗时：87 ms -------------
2023-08-15 22:13:28.831 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169210880883171l  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 22:13:28.832 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169210880883171l  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 22:13:28.833 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169210880883171l  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 22:13:28.835 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169210880883171l  [0;39m ------------- 开始 -------------
2023-08-15 22:13:28.836 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169210880883171l  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/doConfirm POST
2023-08-15 22:13:28.836 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169210880883171l  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-08-15 22:13:28.836 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169210880883171l  [0;39m 远程地址: 192.168.0.102
2023-08-15 22:13:28.837 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169210880883171l  [0;39m 请求参数: [{"dailyTrainTicketId":1690630103735865344,"date":1691856000000,"end":"杭州","imageCode":"d6fe","imageCodeToken":"9FCYhC61","start":"温州","tickets":[{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"测试33","passengerType":"2","seatTypeCode":"1"}],"trainCode":"01"}]
2023-08-15 22:13:28.849 INFO  com.jktickets.controller.ConfirmOrderController   :43   [32m169210880883171l  [0;39m 从redis中获取到的验证码：d6fe
2023-08-15 22:13:28.959 INFO  com.jktickets.service.SkTokenService              :163  [32m169210880883171l  [0;39m 会员[1680932902797447168] 获取日期[2023-08-13] 车次[01] 的令牌开始
2023-08-15 22:13:28.976 INFO  com.jktickets.service.SkTokenService              :212  [32m169210880883171l  [0;39m 缓存中没有该车次令牌大闸的key：SK_TOKEN_COUNT-2023-08-13-01-1680932902797447168
2023-08-15 22:13:28.980 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169210880883171l  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.SkTokenMapper.selectByExample(SkTokenExample))
2023-08-15 22:13:28.981 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169210880883171l  [0;39m 参数值: com.jktickets.domain.SkTokenExample@62864b06
2023-08-15 22:13:29.081 DEBUG c.jktickets.mapper.SkTokenMapper.selectByExample  :137  [32m169210880883171l  [0;39m ==>  Preparing: select id, `date`, train_code, `count`, create_time, update_time from sk_token WHERE ( `date` = ? and train_code = ? )
2023-08-15 22:13:29.096 DEBUG c.jktickets.mapper.SkTokenMapper.selectByExample  :137  [32m169210880883171l  [0;39m ==> Parameters: 2023-08-13(Date), 01(String)
2023-08-15 22:13:29.120 TRACE c.jktickets.mapper.SkTokenMapper.selectByExample  :143  [32m169210880883171l  [0;39m <==    Columns: id, date, train_code, count, create_time, update_time
2023-08-15 22:13:29.123 TRACE c.jktickets.mapper.SkTokenMapper.selectByExample  :143  [32m169210880883171l  [0;39m <==        Row: 1690630104566337536, 2023-08-13, 01, 195, 2023-08-13 15:43:21, 2023-08-14 21:49:13.589
2023-08-15 22:13:29.127 DEBUG c.jktickets.mapper.SkTokenMapper.selectByExample  :137  [32m169210880883171l  [0;39m <==      Total: 1
2023-08-15 22:13:29.128 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169210880883171l  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.SkTokenMapper.selectByExample(SkTokenExample))
2023-08-15 22:13:29.129 INFO  com.jktickets.service.SkTokenService              :232  [32m169210880883171l  [0;39m 将该车次令牌放入缓存中,key:SK_TOKEN_COUNT-2023-08-13-01-1680932902797447168,count:194
2023-08-15 22:13:29.142 INFO  com.jktickets.service.ConfirmOrderService         :154  [32m169210880883171l  [0;39m 令牌校验通过
2023-08-15 22:13:29.169 INFO  com.jktickets.service.ConfirmOrderService         :202  [32m169210880883171l  [0;39m 恭喜，抢到锁了
2023-08-15 22:13:29.191 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169210880883171l  [0;39m 执行SQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-15 22:13:29.192 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169210880883171l  [0;39m 参数值: ConfirmOrder [Hash = 1015302062, id=1691453057268846592, memberId=1680932902797447168, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, start=温州, end=杭州, dailyTrainTicketId=1690630103735865344, status=I, createTime=2023-08-15 22:13:29, updateTime=2023-08-15 22:13:29, tickets=[{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"测试33","passengerType":"2","seatTypeCode":"1"}]]
2023-08-15 22:13:29.193 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m169210880883171l  [0;39m ==>  Preparing: insert into confirm_order (id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time, tickets) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2023-08-15 22:13:29.195 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m169210880883171l  [0;39m ==> Parameters: 1691453057268846592(Long), 1680932902797447168(Long), 2023-08-13(Date), 01(String), 温州(String), 杭州(String), 1690630103735865344(Long), I(String), 2023-08-15 22:13:29.17(Timestamp), 2023-08-15 22:13:29.17(Timestamp), [{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"测试33","passengerType":"2","seatTypeCode":"1"}](String)
2023-08-15 22:13:29.219 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m169210880883171l  [0;39m <==    Updates: 1
2023-08-15 22:13:29.219 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169210880883171l  [0;39m SQL执行完成: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-15 22:13:29.227 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169210880883171l  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 22:13:29.228 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169210880883171l  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@2477fc99
2023-08-15 22:13:29.230 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m169210880883171l  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-15 22:13:29.231 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m169210880883171l  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 温州(String), 杭州(String)
2023-08-15 22:13:29.243 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m169210880883171l  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-15 22:13:29.245 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m169210880883171l  [0;39m <==        Row: 1690630103735865344, 2023-08-13, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 14, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-13 15:43:21.524, 2023-08-13 15:43:21.524
2023-08-15 22:13:29.246 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m169210880883171l  [0;39m <==      Total: 1
2023-08-15 22:13:29.247 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169210880883171l  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 22:13:29.247 INFO  com.jktickets.service.ConfirmOrderService         :248  [32m169210880883171l  [0;39m 查出余票记录:DailyTrainTicket [Hash = 1680120833, id=1690630103735865344, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=14, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Sun Aug 13 15:43:21 CST 2023, updateTime=Sun Aug 13 15:43:21 CST 2023]
2023-08-15 22:13:29.251 INFO  com.jktickets.service.ConfirmOrderService         :311  [32m169210880883171l  [0;39m 本次购票没有选座
2023-08-15 22:13:29.255 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169210880883171l  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-08-15 22:13:29.255 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169210880883171l  [0;39m 参数值: com.jktickets.domain.DailyTrainCarriageExample@4029ed55
2023-08-15 22:13:29.258 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m169210880883171l  [0;39m ==>  Preparing: select id, `date`, train_code, `index`, seat_type, seat_count, `row_count`, col_count, create_time, update_time from daily_train_carriage WHERE ( `date` = ? and train_code = ? and seat_type = ? )
2023-08-15 22:13:29.259 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m169210880883171l  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 1(String)
2023-08-15 22:13:29.271 TRACE c.j.m.DailyTrainCarriageMapper.selectByExample    :143  [32m169210880883171l  [0;39m <==    Columns: id, date, train_code, index, seat_type, seat_count, row_count, col_count, create_time, update_time
2023-08-15 22:13:29.271 TRACE c.j.m.DailyTrainCarriageMapper.selectByExample    :143  [32m169210880883171l  [0;39m <==        Row: 1690630093954748416, 2023-08-13, 01, 1, 1, 32, 8, 4, 2023-08-13 15:43:19.443, 2023-08-13 15:43:19.443
2023-08-15 22:13:29.273 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m169210880883171l  [0;39m <==      Total: 1
2023-08-15 22:13:29.274 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169210880883171l  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-08-15 22:13:29.274 INFO  com.jktickets.service.ConfirmOrderService         :372  [32m169210880883171l  [0;39m 共查出1个符合条件的车厢
2023-08-15 22:13:29.274 INFO  com.jktickets.service.ConfirmOrderService         :377  [32m169210880883171l  [0;39m 从车厢1选座
2023-08-15 22:13:29.279 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169210880883171l  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-08-15 22:13:29.279 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169210880883171l  [0;39m 参数值: com.jktickets.domain.DailyTrainSeatExample@5c66752d
2023-08-15 22:13:29.281 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m169210880883171l  [0;39m ==>  Preparing: select id, `date`, train_code, carriage_index, `row`, col, seat_type, carriage_seat_index, sell, create_time, update_time from daily_train_seat WHERE ( `date` = ? and train_code = ? and carriage_index = ? ) order by carriage_seat_index asc
2023-08-15 22:13:29.282 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m169210880883171l  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 1(Integer)
2023-08-15 22:13:29.295 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==    Columns: id, date, train_code, carriage_index, row, col, seat_type, carriage_seat_index, sell, create_time, update_time
2023-08-15 22:13:29.296 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630094856523776, 2023-08-13, 01, 1, 01, A, 1, 1, 01, 2023-08-13 15:43:19.658, 2023-08-13 17:05:55.969
2023-08-15 22:13:29.298 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630094982352896, 2023-08-13, 01, 1, 01, C, 1, 2, 01, 2023-08-13 15:43:19.689, 2023-08-13 17:10:19.584
2023-08-15 22:13:29.300 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630095091404800, 2023-08-13, 01, 1, 01, D, 1, 3, 01, 2023-08-13 15:43:19.715, 2023-08-13 19:13:37.094
2023-08-15 22:13:29.302 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630095213039616, 2023-08-13, 01, 1, 01, F, 1, 4, 01, 2023-08-13 15:43:19.743, 2023-08-13 19:13:43.864
2023-08-15 22:13:29.303 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630095338868736, 2023-08-13, 01, 1, 02, A, 1, 5, 01, 2023-08-13 15:43:19.774, 2023-08-13 19:14:37.110
2023-08-15 22:13:29.305 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630095447920640, 2023-08-13, 01, 1, 02, C, 1, 6, 01, 2023-08-13 15:43:19.800, 2023-08-13 19:14:53.072
2023-08-15 22:13:29.307 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630095561166848, 2023-08-13, 01, 1, 02, D, 1, 7, 01, 2023-08-13 15:43:19.827, 2023-08-13 19:16:35.125
2023-08-15 22:13:29.309 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630095678607360, 2023-08-13, 01, 1, 02, F, 1, 8, 01, 2023-08-13 15:43:19.855, 2023-08-13 19:16:44.861
2023-08-15 22:13:29.310 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630095808630784, 2023-08-13, 01, 1, 03, A, 1, 9, 01, 2023-08-13 15:43:19.886, 2023-08-13 21:36:36.895
2023-08-15 22:13:29.312 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630095921876992, 2023-08-13, 01, 1, 03, C, 1, 10, 01, 2023-08-13 15:43:19.913, 2023-08-13 21:38:20.092
2023-08-15 22:13:29.313 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630096039317504, 2023-08-13, 01, 1, 03, D, 1, 11, 01, 2023-08-13 15:43:19.941, 2023-08-14 22:25:39.612
2023-08-15 22:13:29.314 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630096152563712, 2023-08-13, 01, 1, 03, F, 1, 12, 01, 2023-08-13 15:43:19.967, 2023-08-14 22:26:08.441
2023-08-15 22:13:29.316 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630096337113088, 2023-08-13, 01, 1, 04, A, 1, 13, 01, 2023-08-13 15:43:20.012, 2023-08-14 22:26:10.361
2023-08-15 22:13:29.318 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630096450359296, 2023-08-13, 01, 1, 04, C, 1, 14, 01, 2023-08-13 15:43:20.038, 2023-08-14 22:26:18.260
2023-08-15 22:13:29.319 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630096567799808, 2023-08-13, 01, 1, 04, D, 1, 15, 01, 2023-08-13 15:43:20.067, 2023-08-14 22:26:20.337
2023-08-15 22:13:29.320 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630096706211840, 2023-08-13, 01, 1, 04, F, 1, 16, 01, 2023-08-13 15:43:20.096, 2023-08-14 22:26:23.015
2023-08-15 22:13:29.327 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630096844623872, 2023-08-13, 01, 1, 05, A, 1, 17, 01, 2023-08-13 15:43:20.133, 2023-08-15 20:59:25.744
2023-08-15 22:13:29.329 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630096974647296, 2023-08-13, 01, 1, 05, C, 1, 18, 01, 2023-08-13 15:43:20.163, 2023-08-15 20:59:34.567
2023-08-15 22:13:29.330 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630097146613760, 2023-08-13, 01, 1, 05, D, 1, 19, 00, 2023-08-13 15:43:20.205, 2023-08-13 15:43:20.205
2023-08-15 22:13:29.332 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630097280831488, 2023-08-13, 01, 1, 05, F, 1, 20, 00, 2023-08-13 15:43:20.236, 2023-08-13 15:43:20.236
2023-08-15 22:13:29.333 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630097398272000, 2023-08-13, 01, 1, 06, A, 1, 21, 00, 2023-08-13 15:43:20.265, 2023-08-13 15:43:20.265
2023-08-15 22:13:29.335 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630097511518208, 2023-08-13, 01, 1, 06, C, 1, 22, 00, 2023-08-13 15:43:20.292, 2023-08-13 15:43:20.292
2023-08-15 22:13:29.336 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630097654124544, 2023-08-13, 01, 1, 06, D, 1, 23, 00, 2023-08-13 15:43:20.326, 2023-08-13 15:43:20.326
2023-08-15 22:13:29.338 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630097989668864, 2023-08-13, 01, 1, 06, F, 1, 24, 00, 2023-08-13 15:43:20.405, 2023-08-13 15:43:20.405
2023-08-15 22:13:29.339 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630098094526464, 2023-08-13, 01, 1, 07, A, 1, 25, 00, 2023-08-13 15:43:20.431, 2023-08-13 15:43:20.431
2023-08-15 22:13:29.341 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630098216161280, 2023-08-13, 01, 1, 07, C, 1, 26, 00, 2023-08-13 15:43:20.460, 2023-08-13 15:43:20.460
2023-08-15 22:13:29.342 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630098396516352, 2023-08-13, 01, 1, 07, D, 1, 27, 00, 2023-08-13 15:43:20.503, 2023-08-13 15:43:20.503
2023-08-15 22:13:29.343 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630098509762560, 2023-08-13, 01, 1, 07, F, 1, 28, 00, 2023-08-13 15:43:20.530, 2023-08-13 15:43:20.530
2023-08-15 22:13:29.345 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630098618814464, 2023-08-13, 01, 1, 08, A, 1, 29, 00, 2023-08-13 15:43:20.556, 2023-08-13 15:43:20.556
2023-08-15 22:13:29.346 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630098736254976, 2023-08-13, 01, 1, 08, C, 1, 30, 00, 2023-08-13 15:43:20.583, 2023-08-13 15:43:20.583
2023-08-15 22:13:29.347 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630098849501184, 2023-08-13, 01, 1, 08, D, 1, 31, 00, 2023-08-13 15:43:20.611, 2023-08-13 15:43:20.611
2023-08-15 22:13:29.348 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m169210880883171l  [0;39m <==        Row: 1690630098979524608, 2023-08-13, 01, 1, 08, F, 1, 32, 00, 2023-08-13 15:43:20.641, 2023-08-13 15:43:20.641
2023-08-15 22:13:29.349 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m169210880883171l  [0;39m <==      Total: 32
2023-08-15 22:13:29.349 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169210880883171l  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-08-15 22:13:29.350 INFO  com.jktickets.service.ConfirmOrderService         :385  [32m169210880883171l  [0;39m 车厢1的座位数:32
2023-08-15 22:13:29.350 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.350 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位1在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.350 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.350 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位2在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.350 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.351 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位3在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.351 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.351 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位4在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.351 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.351 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位5在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.351 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.351 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位6在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.351 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.351 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位7在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.352 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.352 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位8在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.352 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.352 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位9在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.352 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.353 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位10在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.353 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.353 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位11在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.353 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.353 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位12在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.354 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.354 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位13在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.354 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.354 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位14在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.354 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.354 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位15在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.355 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.355 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位16在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.355 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.356 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位17在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.356 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.357 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m169210880883171l  [0;39m 座位18在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:29.357 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m169210880883171l  [0;39m 无选座
2023-08-15 22:13:29.357 INFO  com.jktickets.service.ConfirmOrderService         :517  [32m169210880883171l  [0;39m 座位19在本次车站区间1-2没有售过票,可选中该座位
2023-08-15 22:13:29.358 INFO  com.jktickets.service.ConfirmOrderService         :536  [32m169210880883171l  [0;39m 座位19被选中，原售票信息:00,车站区间:1-2,即:01,最终售票信息:01
2023-08-15 22:13:29.358 INFO  com.jktickets.service.ConfirmOrderService         :428  [32m169210880883171l  [0;39m 选中座位
2023-08-15 22:13:29.359 INFO  com.jktickets.service.ConfirmOrderService         :320  [32m169210880883171l  [0;39m 最终选座:[DailyTrainSeat [Hash = 1931875919, id=1690630097146613760, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, carriageIndex=1, row=05, col=D, seatType=1, carriageSeatIndex=19, sell=01, createTime=Sun Aug 13 15:43:20 CST 2023, updateTime=Sun Aug 13 15:43:20 CST 2023]]
2023-08-15 22:13:29.379 INFO  io.seata.tm.TransactionManagerHolder              :40   [32m169210880883171l  [0;39m TransactionManager Singleton io.seata.tm.DefaultTransactionManager@4f6da6ce
2023-08-15 22:13:29.405 INFO  io.seata.tm.api.DefaultGlobalTransaction          :117  [32m169210880883171l  [0;39m Begin new global transaction [192.168.0.102:8091:7161148031162490907]
2023-08-15 22:13:29.406 INFO  com.jktickets.service.AfterConfirmOrderService    :74   [32m169210880883171l  [0;39m Seata全局事务ID:192.168.0.102:8091:7161148031162490907
2023-08-15 22:13:29.407 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169210880883171l  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-08-15 22:13:29.408 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169210880883171l  [0;39m 参数值: DailyTrainSeat [Hash = 1862846934, id=1690630097146613760, date=null, trainCode=null, carriageIndex=null, row=null, col=null, seatType=null, carriageSeatIndex=null, sell=01, createTime=null, updateTime=Tue Aug 15 22:13:29 CST 2023]
2023-08-15 22:13:29.429 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m169210880883171l  [0;39m ==>  Preparing: update daily_train_seat SET sell = ?, update_time = ? where id = ?
2023-08-15 22:13:29.747 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m169210880883171l  [0;39m ==> Parameters: 01(String), 2023-08-15 22:13:29.407(Timestamp), 1690630097146613760(Long)
2023-08-15 22:13:29.779 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m169210880883171l  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] client.rm.lock.retryInterval+SEATA_GROUP+train
2023-08-15 22:13:29.780 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m169210880883171l  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.rm.lock.retryInterval, group=SEATA_GROUP, cnt=1
2023-08-15 22:13:29.780 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m169210880883171l  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.rm.lock.retryInterval, group=SEATA_GROUP, cnt=2
2023-08-15 22:13:29.781 INFO  com.alibaba.nacos.client.config.impl.ClientWorker :380  [32m169210880883171l  [0;39m [fixed-train-127.0.0.1_8848] [subscribe] client.rm.lock.retryTimes+SEATA_GROUP+train
2023-08-15 22:13:29.781 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m169210880883171l  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.rm.lock.retryTimes, group=SEATA_GROUP, cnt=1
2023-08-15 22:13:29.781 INFO  com.alibaba.nacos.client.config.impl.CacheData    :197  [32m169210880883171l  [0;39m [fixed-train-127.0.0.1_8848] [add-listener] ok, tenant=train, dataId=client.rm.lock.retryTimes, group=SEATA_GROUP, cnt=2
2023-08-15 22:13:30.102 INFO  io.seata.rm.AbstractResourceManager               :73   [32m169210880883171l  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490907, branchId:7161148031162490909, lockKeys:daily_train_seat:1690630097146613760
2023-08-15 22:13:30.139 WARN  i.s.c.l.EnhancedServiceLoader$InnerEnhancedServiceLoader:545  [32m169210880883171l  [0;39m Load [io.seata.rm.datasource.undo.parser.ProtostuffUndoLogParser] class fail: io/protostuff/runtime/IdStrategy
2023-08-15 22:13:30.214 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m169210880883171l  [0;39m <==    Updates: 1
2023-08-15 22:13:30.214 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169210880883171l  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-08-15 22:13:30.215 INFO  com.jktickets.service.AfterConfirmOrderService    :105  [32m169210880883171l  [0;39m 影响出发站区间:0-1
2023-08-15 22:13:30.215 INFO  com.jktickets.service.AfterConfirmOrderService    :117  [32m169210880883171l  [0;39m 影响到达站区间:2-2
2023-08-15 22:13:30.221 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m169210880883171l  [0;39m ==>  Preparing: update daily_train_ticket set ydz = ydz -1 where `date` = ? and train_code = ? and start_index >= ? and ? >=start_index and end_index >= ? and ? >= end_index
2023-08-15 22:13:30.229 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m169210880883171l  [0;39m ==> Parameters: 2023-08-13 00:00:00.0(Timestamp), 01(String), 0(Integer), 1(Integer), 2(Integer), 2(Integer)
2023-08-15 22:13:30.506 INFO  io.seata.rm.AbstractResourceManager               :73   [32m169210880883171l  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490907, branchId:7161148031162490912, lockKeys:daily_train_ticket:1690630103169634304,1690630103735865344
2023-08-15 22:13:30.548 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m169210880883171l  [0;39m <==    Updates: 2
2023-08-15 22:13:30.616 INFO  com.alibaba.nacos.client.naming                   :167  [32m169210880883171l  [0;39m [SUBSCRIBE-SERVICE] service:member-service, group:DEFAULT_GROUP, clusters: 
2023-08-15 22:13:30.620 INFO  com.alibaba.nacos.client.naming                   :184  [32m169210880883171l  [0;39m init new ips(1) service: DEFAULT_GROUP@@member-service -> [{"ip":"192.168.0.102","port":8001,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@member-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-08-15 22:13:30.621 INFO  com.alibaba.nacos.client.naming                   :169  [32m169210880883171l  [0;39m current ips:(1) service: DEFAULT_GROUP@@member-service -> [{"ip":"192.168.0.102","port":8001,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@member-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-08-15 22:13:31.039 INFO  com.jktickets.service.AfterConfirmOrderService    :144  [32m169210880883171l  [0;39m 调用member接口，返回CommonRes(success=true, code=0, message=, result=添加Ticket成功)
2023-08-15 22:13:31.043 INFO  com.jktickets.aspect.LogAspect                    :106  [32m169210880883171l  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-15 22:13:31.044 INFO  com.jktickets.aspect.LogAspect                    :111  [32m169210880883171l  [0;39m 参数值: ConfirmOrder [Hash = 79084747, id=1691453057268846592, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=S, createTime=null, updateTime=Tue Aug 15 22:13:31 CST 2023, tickets=null]
2023-08-15 22:13:31.045 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m169210880883171l  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-15 22:13:31.046 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m169210880883171l  [0;39m ==> Parameters: S(String), 2023-08-15 22:13:31.043(Timestamp), 1691453057268846592(Long)
2023-08-15 22:13:31.122 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] Receive server push request, request = NotifySubscriberRequest, requestId = 19
2023-08-15 22:13:31.123 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [6969420e-4849-4da8-85d8-3ed592b829bb] Ack server push request, request = NotifySubscriberRequest, requestId = 19
2023-08-15 22:13:31.300 INFO  io.seata.rm.AbstractResourceManager               :73   [32m169210880883171l  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490907, branchId:7161148031162490917, lockKeys:confirm_order:1691453057268846592
2023-08-15 22:13:31.337 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m169210880883171l  [0;39m <==    Updates: 1
2023-08-15 22:13:31.337 INFO  com.jktickets.aspect.LogAspect                    :120  [32m169210880883171l  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-15 22:13:31.337 INFO  io.seata.tm.api.DefaultGlobalTransaction          :133  [32m169210880883171l  [0;39m transaction 192.168.0.102:8091:7161148031162490907 will be commit
2023-08-15 22:13:31.416 INFO  io.seata.tm.api.DefaultGlobalTransaction          :209  [32m169210880883171l  [0;39m transaction end, xid = 192.168.0.102:8091:7161148031162490907
2023-08-15 22:13:31.416 INFO  io.seata.tm.api.DefaultGlobalTransaction          :155  [32m169210880883171l  [0;39m [192.168.0.102:8091:7161148031162490907] commit status: Committed
2023-08-15 22:13:31.417 INFO  com.jktickets.service.ConfirmOrderService         :344  [32m169210880883171l  [0;39m 购票流程结束，释放锁
2023-08-15 22:13:31.446 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169210880883171l  [0;39m 返回结果: {"code":0,"message":"","success":true}
2023-08-15 22:13:31.446 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169210880883171l  [0;39m ------------- 结束 耗时：2611 ms -------------
2023-08-15 22:13:32.061 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490907', branchId=7161148031162490909, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 22:13:32.064 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490907 7161148031162490909 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 22:13:32.065 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 22:13:32.083 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490907', branchId=7161148031162490912, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 22:13:32.084 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490907 7161148031162490912 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 22:13:32.084 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 22:13:32.117 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490907', branchId=7161148031162490917, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 22:13:32.117 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490907 7161148031162490917 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 22:13:32.117 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 22:13:50.534 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m169210883053401n  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 22:13:50.538 INFO  com.jktickets.utils.JwtUtil                       :64   [32m169210883053401n  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 22:13:50.539 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m169210883053401n  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 22:13:50.544 INFO  com.jktickets.aspect.LogAspect                    :57   [32m169210883053401n  [0;39m ------------- 开始 -------------
2023-08-15 22:13:50.544 INFO  com.jktickets.aspect.LogAspect                    :58   [32m169210883053401n  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/doConfirm POST
2023-08-15 22:13:50.544 INFO  com.jktickets.aspect.LogAspect                    :59   [32m169210883053401n  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-08-15 22:13:50.545 INFO  com.jktickets.aspect.LogAspect                    :60   [32m169210883053401n  [0;39m 远程地址: 192.168.0.102
2023-08-15 22:13:50.546 INFO  com.jktickets.aspect.LogAspect                    :82   [32m169210883053401n  [0;39m 请求参数: [{"dailyTrainTicketId":1690630103735865344,"date":1691856000000,"end":"杭州","imageCode":"d6fe","imageCodeToken":"9FCYhC61","start":"温州","tickets":[{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"测试33","passengerType":"2","seatTypeCode":"1"}],"trainCode":"01"}]
2023-08-15 22:13:50.561 INFO  com.jktickets.controller.ConfirmOrderController   :43   [32m169210883053401n  [0;39m 从redis中获取到的验证码：null
2023-08-15 22:13:50.562 INFO  com.jktickets.aspect.LogAspect                    :94   [32m169210883053401n  [0;39m 返回结果: {"code":400,"message":"验证码已过期","success":false}
2023-08-15 22:13:50.562 INFO  com.jktickets.aspect.LogAspect                    :95   [32m169210883053401n  [0;39m ------------- 结束 耗时：19 ms -------------
2023-08-15 22:13:53.547 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1692108833547jv6  [0;39m ------------- 开始 -------------
2023-08-15 22:13:53.548 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1692108833547jv6  [0;39m 请求地址: http://192.168.0.102:8002/business/kaptcha/image-code/dpCBa15B GET
2023-08-15 22:13:53.548 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1692108833547jv6  [0;39m 类名方法: com.jktickets.controller.KaptchaController.imageCode
2023-08-15 22:13:53.548 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1692108833547jv6  [0;39m 远程地址: 192.168.0.102
2023-08-15 22:13:53.549 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1692108833547jv6  [0;39m 请求参数: ["dpCBa15B",null]
2023-08-15 22:13:53.574 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1692108833547jv6  [0;39m 返回结果: null
2023-08-15 22:13:53.574 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1692108833547jv6  [0;39m ------------- 结束 耗时：27 ms -------------
2023-08-15 22:13:57.765 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16921088377650fh  [0;39m 获取会员登录token：eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTIxMDM3MTYsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MjE5MDExNiwiaWF0IjoxNjkyMTAzNzE2fQ.c91hw2dygxTS6c9WyaW0mZZ_R6MUU2kCIpwyK24nWMY
2023-08-15 22:13:57.766 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16921088377650fh  [0;39m 根据token获取原始内容：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 22:13:57.767 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16921088377650fh  [0;39m 当前登录会员：{"mobile":"13000000000","id":1680932902797447168}
2023-08-15 22:13:57.769 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16921088377650fh  [0;39m ------------- 开始 -------------
2023-08-15 22:13:57.769 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16921088377650fh  [0;39m 请求地址: http://192.168.0.102:8002/business/confirmOrder/doConfirm POST
2023-08-15 22:13:57.769 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16921088377650fh  [0;39m 类名方法: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-08-15 22:13:57.770 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16921088377650fh  [0;39m 远程地址: 192.168.0.102
2023-08-15 22:13:57.770 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16921088377650fh  [0;39m 请求参数: [{"dailyTrainTicketId":1690630103735865344,"date":1691856000000,"end":"杭州","imageCode":"f2gw","imageCodeToken":"dpCBa15B","start":"温州","tickets":[{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"测试33","passengerType":"2","seatTypeCode":"1"}],"trainCode":"01"}]
2023-08-15 22:13:57.784 INFO  com.jktickets.controller.ConfirmOrderController   :43   [32m16921088377650fh  [0;39m 从redis中获取到的验证码：f2gw
2023-08-15 22:13:57.797 INFO  com.jktickets.service.SkTokenService              :163  [32m16921088377650fh  [0;39m 会员[1680932902797447168] 获取日期[2023-08-13] 车次[01] 的令牌开始
2023-08-15 22:13:57.810 INFO  com.jktickets.service.SkTokenService              :193  [32m16921088377650fh  [0;39m 缓存中有车次令牌大闸的key:SK_TOKEN_COUNT-2023-08-13-01-1680932902797447168
2023-08-15 22:13:57.826 INFO  com.jktickets.service.SkTokenService              :200  [32m16921088377650fh  [0;39m 获取令牌后，令牌余数:193
2023-08-15 22:13:57.844 INFO  com.jktickets.service.ConfirmOrderService         :154  [32m16921088377650fh  [0;39m 令牌校验通过
2023-08-15 22:13:57.858 INFO  com.jktickets.service.ConfirmOrderService         :202  [32m16921088377650fh  [0;39m 恭喜，抢到锁了
2023-08-15 22:13:57.859 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921088377650fh  [0;39m 执行SQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-15 22:13:57.860 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921088377650fh  [0;39m 参数值: ConfirmOrder [Hash = 1126696311, id=1691453177523736576, memberId=1680932902797447168, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, start=温州, end=杭州, dailyTrainTicketId=1690630103735865344, status=I, createTime=2023-08-15 22:13:57, updateTime=2023-08-15 22:13:57, tickets=[{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"测试33","passengerType":"2","seatTypeCode":"1"}]]
2023-08-15 22:13:57.873 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m16921088377650fh  [0;39m ==>  Preparing: insert into confirm_order (id, member_id, `date`, train_code, `start`, `end`, daily_train_ticket_id, `status`, create_time, update_time, tickets) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2023-08-15 22:13:57.876 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m16921088377650fh  [0;39m ==> Parameters: 1691453177523736576(Long), 1680932902797447168(Long), 2023-08-13(Date), 01(String), 温州(String), 杭州(String), 1690630103735865344(Long), I(String), 2023-08-15 22:13:57.859(Timestamp), 2023-08-15 22:13:57.859(Timestamp), [{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"测试33","passengerType":"2","seatTypeCode":"1"}](String)
2023-08-15 22:13:57.903 DEBUG com.jktickets.mapper.ConfirmOrderMapper.insert    :137  [32m16921088377650fh  [0;39m <==    Updates: 1
2023-08-15 22:13:57.904 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921088377650fh  [0;39m SQL执行完成: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-08-15 22:13:57.904 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921088377650fh  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 22:13:57.905 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921088377650fh  [0;39m 参数值: com.jktickets.domain.DailyTrainTicketExample@5af83759
2023-08-15 22:13:57.907 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m16921088377650fh  [0;39m ==>  Preparing: select id, `date`, train_code, `start`, start_pinyin, start_time, start_index, `end`, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time from daily_train_ticket WHERE ( `date` = ? and train_code = ? and `start` = ? and `end` = ? )
2023-08-15 22:13:57.908 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m16921088377650fh  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 温州(String), 杭州(String)
2023-08-15 22:13:57.921 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m16921088377650fh  [0;39m <==    Columns: id, date, train_code, start, start_pinyin, start_time, start_index, end, end_pinyin, end_time, end_index, ydz, ydz_price, edz, edz_price, rw, rw_price, yw, yw_price, create_time, update_time
2023-08-15 22:13:57.922 TRACE c.j.mapper.DailyTrainTicketMapper.selectByExample :143  [32m16921088377650fh  [0;39m <==        Row: 1690630103735865344, 2023-08-13, 01, 温州, wenzhou, 22:15:03, 1, 杭州, hangzhou, 15:00:00, 2, 13, 5.28, 25, 3.96, -1, 7.92, -1, 6.60, 2023-08-13 15:43:21.524, 2023-08-13 15:43:21.524
2023-08-15 22:13:57.923 DEBUG c.j.mapper.DailyTrainTicketMapper.selectByExample :137  [32m16921088377650fh  [0;39m <==      Total: 1
2023-08-15 22:13:57.923 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921088377650fh  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-08-15 22:13:57.924 INFO  com.jktickets.service.ConfirmOrderService         :248  [32m16921088377650fh  [0;39m 查出余票记录:DailyTrainTicket [Hash = 189614653, id=1690630103735865344, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, start=温州, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=杭州, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=13, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Sun Aug 13 15:43:21 CST 2023, updateTime=Sun Aug 13 15:43:21 CST 2023]
2023-08-15 22:13:57.924 INFO  com.jktickets.service.ConfirmOrderService         :311  [32m16921088377650fh  [0;39m 本次购票没有选座
2023-08-15 22:13:57.924 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921088377650fh  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-08-15 22:13:57.925 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921088377650fh  [0;39m 参数值: com.jktickets.domain.DailyTrainCarriageExample@5eb7a8e2
2023-08-15 22:13:57.926 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m16921088377650fh  [0;39m ==>  Preparing: select id, `date`, train_code, `index`, seat_type, seat_count, `row_count`, col_count, create_time, update_time from daily_train_carriage WHERE ( `date` = ? and train_code = ? and seat_type = ? )
2023-08-15 22:13:57.926 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m16921088377650fh  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 1(String)
2023-08-15 22:13:57.942 TRACE c.j.m.DailyTrainCarriageMapper.selectByExample    :143  [32m16921088377650fh  [0;39m <==    Columns: id, date, train_code, index, seat_type, seat_count, row_count, col_count, create_time, update_time
2023-08-15 22:13:57.942 TRACE c.j.m.DailyTrainCarriageMapper.selectByExample    :143  [32m16921088377650fh  [0;39m <==        Row: 1690630093954748416, 2023-08-13, 01, 1, 1, 32, 8, 4, 2023-08-13 15:43:19.443, 2023-08-13 15:43:19.443
2023-08-15 22:13:57.943 DEBUG c.j.m.DailyTrainCarriageMapper.selectByExample    :137  [32m16921088377650fh  [0;39m <==      Total: 1
2023-08-15 22:13:57.943 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921088377650fh  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-08-15 22:13:57.944 INFO  com.jktickets.service.ConfirmOrderService         :372  [32m16921088377650fh  [0;39m 共查出1个符合条件的车厢
2023-08-15 22:13:57.944 INFO  com.jktickets.service.ConfirmOrderService         :377  [32m16921088377650fh  [0;39m 从车厢1选座
2023-08-15 22:13:57.944 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921088377650fh  [0;39m 执行SQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-08-15 22:13:57.944 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921088377650fh  [0;39m 参数值: com.jktickets.domain.DailyTrainSeatExample@47ada0cc
2023-08-15 22:13:57.946 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m16921088377650fh  [0;39m ==>  Preparing: select id, `date`, train_code, carriage_index, `row`, col, seat_type, carriage_seat_index, sell, create_time, update_time from daily_train_seat WHERE ( `date` = ? and train_code = ? and carriage_index = ? ) order by carriage_seat_index asc
2023-08-15 22:13:57.947 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m16921088377650fh  [0;39m ==> Parameters: 2023-08-13(Date), 01(String), 1(Integer)
2023-08-15 22:13:57.960 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==    Columns: id, date, train_code, carriage_index, row, col, seat_type, carriage_seat_index, sell, create_time, update_time
2023-08-15 22:13:57.961 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630094856523776, 2023-08-13, 01, 1, 01, A, 1, 1, 01, 2023-08-13 15:43:19.658, 2023-08-13 17:05:55.969
2023-08-15 22:13:57.962 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630094982352896, 2023-08-13, 01, 1, 01, C, 1, 2, 01, 2023-08-13 15:43:19.689, 2023-08-13 17:10:19.584
2023-08-15 22:13:57.964 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630095091404800, 2023-08-13, 01, 1, 01, D, 1, 3, 01, 2023-08-13 15:43:19.715, 2023-08-13 19:13:37.094
2023-08-15 22:13:57.965 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630095213039616, 2023-08-13, 01, 1, 01, F, 1, 4, 01, 2023-08-13 15:43:19.743, 2023-08-13 19:13:43.864
2023-08-15 22:13:57.966 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630095338868736, 2023-08-13, 01, 1, 02, A, 1, 5, 01, 2023-08-13 15:43:19.774, 2023-08-13 19:14:37.110
2023-08-15 22:13:57.967 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630095447920640, 2023-08-13, 01, 1, 02, C, 1, 6, 01, 2023-08-13 15:43:19.800, 2023-08-13 19:14:53.072
2023-08-15 22:13:57.968 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630095561166848, 2023-08-13, 01, 1, 02, D, 1, 7, 01, 2023-08-13 15:43:19.827, 2023-08-13 19:16:35.125
2023-08-15 22:13:57.969 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630095678607360, 2023-08-13, 01, 1, 02, F, 1, 8, 01, 2023-08-13 15:43:19.855, 2023-08-13 19:16:44.861
2023-08-15 22:13:57.971 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630095808630784, 2023-08-13, 01, 1, 03, A, 1, 9, 01, 2023-08-13 15:43:19.886, 2023-08-13 21:36:36.895
2023-08-15 22:13:57.972 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630095921876992, 2023-08-13, 01, 1, 03, C, 1, 10, 01, 2023-08-13 15:43:19.913, 2023-08-13 21:38:20.092
2023-08-15 22:13:57.973 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630096039317504, 2023-08-13, 01, 1, 03, D, 1, 11, 01, 2023-08-13 15:43:19.941, 2023-08-14 22:25:39.612
2023-08-15 22:13:57.974 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630096152563712, 2023-08-13, 01, 1, 03, F, 1, 12, 01, 2023-08-13 15:43:19.967, 2023-08-14 22:26:08.441
2023-08-15 22:13:57.975 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630096337113088, 2023-08-13, 01, 1, 04, A, 1, 13, 01, 2023-08-13 15:43:20.012, 2023-08-14 22:26:10.361
2023-08-15 22:13:57.975 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630096450359296, 2023-08-13, 01, 1, 04, C, 1, 14, 01, 2023-08-13 15:43:20.038, 2023-08-14 22:26:18.260
2023-08-15 22:13:57.976 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630096567799808, 2023-08-13, 01, 1, 04, D, 1, 15, 01, 2023-08-13 15:43:20.067, 2023-08-14 22:26:20.337
2023-08-15 22:13:57.977 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630096706211840, 2023-08-13, 01, 1, 04, F, 1, 16, 01, 2023-08-13 15:43:20.096, 2023-08-14 22:26:23.015
2023-08-15 22:13:57.978 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630096844623872, 2023-08-13, 01, 1, 05, A, 1, 17, 01, 2023-08-13 15:43:20.133, 2023-08-15 20:59:25.744
2023-08-15 22:13:57.979 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630096974647296, 2023-08-13, 01, 1, 05, C, 1, 18, 01, 2023-08-13 15:43:20.163, 2023-08-15 20:59:34.567
2023-08-15 22:13:57.980 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630097146613760, 2023-08-13, 01, 1, 05, D, 1, 19, 01, 2023-08-13 15:43:20.205, 2023-08-15 22:13:29.407
2023-08-15 22:13:57.981 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630097280831488, 2023-08-13, 01, 1, 05, F, 1, 20, 00, 2023-08-13 15:43:20.236, 2023-08-13 15:43:20.236
2023-08-15 22:13:57.983 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630097398272000, 2023-08-13, 01, 1, 06, A, 1, 21, 00, 2023-08-13 15:43:20.265, 2023-08-13 15:43:20.265
2023-08-15 22:13:57.984 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630097511518208, 2023-08-13, 01, 1, 06, C, 1, 22, 00, 2023-08-13 15:43:20.292, 2023-08-13 15:43:20.292
2023-08-15 22:13:57.984 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630097654124544, 2023-08-13, 01, 1, 06, D, 1, 23, 00, 2023-08-13 15:43:20.326, 2023-08-13 15:43:20.326
2023-08-15 22:13:57.986 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630097989668864, 2023-08-13, 01, 1, 06, F, 1, 24, 00, 2023-08-13 15:43:20.405, 2023-08-13 15:43:20.405
2023-08-15 22:13:57.987 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630098094526464, 2023-08-13, 01, 1, 07, A, 1, 25, 00, 2023-08-13 15:43:20.431, 2023-08-13 15:43:20.431
2023-08-15 22:13:57.988 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630098216161280, 2023-08-13, 01, 1, 07, C, 1, 26, 00, 2023-08-13 15:43:20.460, 2023-08-13 15:43:20.460
2023-08-15 22:13:57.989 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630098396516352, 2023-08-13, 01, 1, 07, D, 1, 27, 00, 2023-08-13 15:43:20.503, 2023-08-13 15:43:20.503
2023-08-15 22:13:57.990 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630098509762560, 2023-08-13, 01, 1, 07, F, 1, 28, 00, 2023-08-13 15:43:20.530, 2023-08-13 15:43:20.530
2023-08-15 22:13:57.992 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630098618814464, 2023-08-13, 01, 1, 08, A, 1, 29, 00, 2023-08-13 15:43:20.556, 2023-08-13 15:43:20.556
2023-08-15 22:13:57.993 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630098736254976, 2023-08-13, 01, 1, 08, C, 1, 30, 00, 2023-08-13 15:43:20.583, 2023-08-13 15:43:20.583
2023-08-15 22:13:57.994 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630098849501184, 2023-08-13, 01, 1, 08, D, 1, 31, 00, 2023-08-13 15:43:20.611, 2023-08-13 15:43:20.611
2023-08-15 22:13:57.995 TRACE c.j.mapper.DailyTrainSeatMapper.selectByExample   :143  [32m16921088377650fh  [0;39m <==        Row: 1690630098979524608, 2023-08-13, 01, 1, 08, F, 1, 32, 00, 2023-08-13 15:43:20.641, 2023-08-13 15:43:20.641
2023-08-15 22:13:57.995 DEBUG c.j.mapper.DailyTrainSeatMapper.selectByExample   :137  [32m16921088377650fh  [0;39m <==      Total: 32
2023-08-15 22:13:57.996 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921088377650fh  [0;39m SQL执行完成: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-08-15 22:13:57.997 INFO  com.jktickets.service.ConfirmOrderService         :385  [32m16921088377650fh  [0;39m 车厢1的座位数:32
2023-08-15 22:13:57.997 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:57.998 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位1在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:57.998 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:57.998 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位2在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:57.999 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:57.999 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位3在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.000 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.000 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位4在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.000 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.001 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位5在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.001 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.001 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位6在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.001 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.001 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位7在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.002 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.002 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位8在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.002 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.002 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位9在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.002 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.003 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位10在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.003 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.003 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位11在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.003 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.004 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位12在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.004 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.004 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位13在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.004 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.005 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位14在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.005 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.005 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位15在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.005 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.005 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位16在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.006 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.006 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位17在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.006 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.006 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位18在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.007 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.007 INFO  com.jktickets.service.ConfirmOrderService         :512  [32m16921088377650fh  [0;39m 座位19在本次车站区间1-2已售过票,不可选中该座位
2023-08-15 22:13:58.007 INFO  com.jktickets.service.ConfirmOrderService         :415  [32m16921088377650fh  [0;39m 无选座
2023-08-15 22:13:58.007 INFO  com.jktickets.service.ConfirmOrderService         :517  [32m16921088377650fh  [0;39m 座位20在本次车站区间1-2没有售过票,可选中该座位
2023-08-15 22:13:58.007 INFO  com.jktickets.service.ConfirmOrderService         :536  [32m16921088377650fh  [0;39m 座位20被选中，原售票信息:00,车站区间:1-2,即:01,最终售票信息:01
2023-08-15 22:13:58.008 INFO  com.jktickets.service.ConfirmOrderService         :428  [32m16921088377650fh  [0;39m 选中座位
2023-08-15 22:13:58.008 INFO  com.jktickets.service.ConfirmOrderService         :320  [32m16921088377650fh  [0;39m 最终选座:[DailyTrainSeat [Hash = 1170430502, id=1690630097280831488, date=Sun Aug 13 00:00:00 CST 2023, trainCode=01, carriageIndex=1, row=05, col=F, seatType=1, carriageSeatIndex=20, sell=01, createTime=Sun Aug 13 15:43:20 CST 2023, updateTime=Sun Aug 13 15:43:20 CST 2023]]
2023-08-15 22:13:58.042 INFO  io.seata.tm.api.DefaultGlobalTransaction          :117  [32m16921088377650fh  [0;39m Begin new global transaction [192.168.0.102:8091:7161148031162490920]
2023-08-15 22:13:58.042 INFO  com.jktickets.service.AfterConfirmOrderService    :74   [32m16921088377650fh  [0;39m Seata全局事务ID:192.168.0.102:8091:7161148031162490920
2023-08-15 22:13:58.043 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921088377650fh  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-08-15 22:13:58.043 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921088377650fh  [0;39m 参数值: DailyTrainSeat [Hash = 542893241, id=1690630097280831488, date=null, trainCode=null, carriageIndex=null, row=null, col=null, seatType=null, carriageSeatIndex=null, sell=01, createTime=null, updateTime=Tue Aug 15 22:13:58 CST 2023]
2023-08-15 22:13:58.045 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m16921088377650fh  [0;39m ==>  Preparing: update daily_train_seat SET sell = ?, update_time = ? where id = ?
2023-08-15 22:13:58.048 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m16921088377650fh  [0;39m ==> Parameters: 01(String), 2023-08-15 22:13:58.043(Timestamp), 1690630097280831488(Long)
2023-08-15 22:13:58.219 INFO  io.seata.rm.AbstractResourceManager               :73   [32m16921088377650fh  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490920, branchId:7161148031162490923, lockKeys:daily_train_seat:1690630097280831488
2023-08-15 22:13:58.258 DEBUG c.j.m.D.updateByPrimaryKeySelective               :137  [32m16921088377650fh  [0;39m <==    Updates: 1
2023-08-15 22:13:58.259 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921088377650fh  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-08-15 22:13:58.259 INFO  com.jktickets.service.AfterConfirmOrderService    :105  [32m16921088377650fh  [0;39m 影响出发站区间:0-1
2023-08-15 22:13:58.259 INFO  com.jktickets.service.AfterConfirmOrderService    :117  [32m16921088377650fh  [0;39m 影响到达站区间:2-2
2023-08-15 22:13:58.260 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m16921088377650fh  [0;39m ==>  Preparing: update daily_train_ticket set ydz = ydz -1 where `date` = ? and train_code = ? and start_index >= ? and ? >=start_index and end_index >= ? and ? >= end_index
2023-08-15 22:13:58.262 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m16921088377650fh  [0;39m ==> Parameters: 2023-08-13 00:00:00.0(Timestamp), 01(String), 0(Integer), 1(Integer), 2(Integer), 2(Integer)
2023-08-15 22:13:58.452 INFO  io.seata.rm.AbstractResourceManager               :73   [32m16921088377650fh  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490920, branchId:7161148031162490925, lockKeys:daily_train_ticket:1690630103169634304,1690630103735865344
2023-08-15 22:13:58.498 DEBUG c.j.m.c.D.updateCountBySell                       :137  [32m16921088377650fh  [0;39m <==    Updates: 2
2023-08-15 22:13:58.777 INFO  com.jktickets.service.AfterConfirmOrderService    :144  [32m16921088377650fh  [0;39m 调用member接口，返回CommonRes(success=true, code=0, message=, result=添加Ticket成功)
2023-08-15 22:13:58.777 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16921088377650fh  [0;39m 执行SQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-15 22:13:58.778 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16921088377650fh  [0;39m 参数值: ConfirmOrder [Hash = 1541671830, id=1691453177523736576, memberId=null, date=null, trainCode=null, start=null, end=null, dailyTrainTicketId=null, status=S, createTime=null, updateTime=Tue Aug 15 22:13:58 CST 2023, tickets=null]
2023-08-15 22:13:58.779 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m16921088377650fh  [0;39m ==>  Preparing: update confirm_order SET `status` = ?, update_time = ? where id = ?
2023-08-15 22:13:58.779 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m16921088377650fh  [0;39m ==> Parameters: S(String), 2023-08-15 22:13:58.777(Timestamp), 1691453177523736576(Long)
2023-08-15 22:13:58.919 INFO  io.seata.rm.AbstractResourceManager               :73   [32m16921088377650fh  [0;39m branch register success, xid:192.168.0.102:8091:7161148031162490920, branchId:7161148031162490929, lockKeys:confirm_order:1691453177523736576
2023-08-15 22:13:58.957 DEBUG c.j.m.C.updateByPrimaryKeySelective               :137  [32m16921088377650fh  [0;39m <==    Updates: 1
2023-08-15 22:13:58.958 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16921088377650fh  [0;39m SQL执行完成: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.ConfirmOrderMapper.updateByPrimaryKeySelective(ConfirmOrder))
2023-08-15 22:13:58.958 INFO  io.seata.tm.api.DefaultGlobalTransaction          :133  [32m16921088377650fh  [0;39m transaction 192.168.0.102:8091:7161148031162490920 will be commit
2023-08-15 22:13:59.012 INFO  io.seata.tm.api.DefaultGlobalTransaction          :209  [32m16921088377650fh  [0;39m transaction end, xid = 192.168.0.102:8091:7161148031162490920
2023-08-15 22:13:59.013 INFO  io.seata.tm.api.DefaultGlobalTransaction          :155  [32m16921088377650fh  [0;39m [192.168.0.102:8091:7161148031162490920] commit status: Committed
2023-08-15 22:13:59.014 INFO  com.jktickets.service.ConfirmOrderService         :344  [32m16921088377650fh  [0;39m 购票流程结束，释放锁
2023-08-15 22:13:59.041 INFO  com.jktickets.aspect.LogAspect                    :94   [32m16921088377650fh  [0;39m 返回结果: {"code":0,"message":"","success":true}
2023-08-15 22:13:59.041 INFO  com.jktickets.aspect.LogAspect                    :95   [32m16921088377650fh  [0;39m ------------- 结束 耗时：1272 ms -------------
2023-08-15 22:13:59.083 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490920', branchId=7161148031162490923, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 22:13:59.084 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490920 7161148031162490923 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 22:13:59.084 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 22:13:59.104 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490920', branchId=7161148031162490925, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 22:13:59.105 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490920 7161148031162490925 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 22:13:59.105 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
2023-08-15 22:13:59.158 INFO  i.s.c.rpc.processor.client.RmBranchCommitProcessor:56   [32m                  [0;39m rm client handle branch commit process:BranchCommitRequest{xid='192.168.0.102:8091:7161148031162490920', branchId=7161148031162490929, branchType=AT, resourceId='jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business', applicationData='null'}
2023-08-15 22:13:59.159 INFO  io.seata.rm.AbstractRMHandler                     :96   [32m                  [0;39m Branch committing: 192.168.0.102:8091:7161148031162490920 7161148031162490929 jdbc:mysql://rm-cn-uax39xxd10011clo.rwlb.rds.aliyuncs.com/train-business null
2023-08-15 22:13:59.159 INFO  io.seata.rm.AbstractRMHandler                     :104  [32m                  [0;39m Branch commit result: PhaseTwo_Committed
