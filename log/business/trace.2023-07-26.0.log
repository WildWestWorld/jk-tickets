2023-07-26 22:52:06.239 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-07-26 22:52:06.303 INFO  com.jktickets.BusinessApplication                 :51   [32m                  [0;39m Starting BusinessApplication using Java 17.0.3 with PID 17128 (D:\Project\java\jk-tickets\business-service\target\classes started by Administrator in D:\Project\java\jk-tickets)
2023-07-26 22:52:06.305 INFO  com.jktickets.BusinessApplication                 :630  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2023-07-26 22:52:06.365 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-07-26 22:52:06.366 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-07-26 22:52:08.027 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=71b4ceae-fc8f-3922-845a-d1426d10be57
2023-07-26 22:52:08.877 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :114  [32m                  [0;39m Tomcat initialized with port(s): 8002 (http)
2023-07-26 22:52:08.888 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8002"]
2023-07-26 22:52:08.889 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-07-26 22:52:08.889 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-07-26 22:52:08.960 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-07-26 22:52:08.961 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :291  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2593 ms
2023-07-26 22:52:10.426 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.github.pagehelper.autoconfigure.PageHelperStandardProperties
2023-07-26 22:52:10.810 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :62   [32m                  [0;39m Unable to start LiveReload server
2023-07-26 22:52:11.276 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8002"]
2023-07-26 22:52:11.305 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :226  [32m                  [0;39m Tomcat started on port(s): 8002 (http) with context path '/business'
2023-07-26 22:52:11.694 INFO  com.jktickets.BusinessApplication                 :57   [32m                  [0;39m Started BusinessApplication in 6.868 seconds (process running for 7.982)
2023-07-26 22:52:11.698 INFO  com.jktickets.BusinessApplication                 :21   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-07-26 22:52:11.699 INFO  com.jktickets.BusinessApplication                 :23   [32m                  [0;39m æµ‹è¯•åœ°å€: 	http://127.0.0.1:8002/business/hello
2023-07-26 22:54:34.597 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-26 22:54:34.598 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-07-26 22:54:34.599 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-07-26 22:54:34.632 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1690383274624zjf  [0;39m è·å–ä¼šå‘˜ç™»å½•tokenï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTAzODMyNjQsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MDQ2OTY2NCwiaWF0IjoxNjkwMzgzMjY0fQ.48VDaoJA-5rbFeMUX7MpYb7gwu7gTOW423LQ953khZs
2023-07-26 22:54:34.902 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1690383274624zjf  [0;39m æ ¹æ®tokenè·å–åŸå§‹å†…å®¹ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:54:34.906 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1690383274624zjf  [0;39m å½“å‰ç™»å½•ä¼šå‘˜ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:54:34.993 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1690383274624zjf  [0;39m ------------- å¼€å§‹ -------------
2023-07-26 22:54:34.994 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1690383274624zjf  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8002/business/station/queryAll GET
2023-07-26 22:54:34.995 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1690383274624zjf  [0;39m ç±»åæ–¹æ³•: com.jktickets.controller.StationController.queryAllStationList
2023-07-26 22:54:34.995 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1690383274624zjf  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-07-26 22:54:35.045 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1690383274624zjf  [0;39m è¯·æ±‚å‚æ•°: []
2023-07-26 22:54:35.046 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383274624zjf  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-07-26 22:54:35.047 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383274624zjf  [0;39m å‚æ•°å€¼: com.jktickets.domain.StationExample@52809b9b
2023-07-26 22:54:35.101 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m1690383274624zjf  [0;39m HikariPool-1 - Starting...
2023-07-26 22:54:35.463 INFO  com.zaxxer.hikari.pool.HikariPool                 :565  [32m1690383274624zjf  [0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7f0b3b24
2023-07-26 22:54:35.465 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m1690383274624zjf  [0;39m HikariPool-1 - Start completed.
2023-07-26 22:54:35.577 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383274624zjf  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-07-26 22:54:35.614 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1690383274624zjf  [0;39m è¿”å›ç»“æœ: {"code":0,"message":"","result":[{"createTime":1689430602268,"id":1680219843401486336,"name":"æ­å·","namePinyin":"hangzhou","namePy":"hz","updateTime":1689430602268},{"createTime":1689427282591,"id":1680205919650189312,"name":"ä¸Šæµ·","namePinyin":"shanghai","namePy":"sh","updateTime":1689427282591},{"createTime":1689427268871,"id":1680205862385356800,"name":"æ¸©å·","namePinyin":"wenzhou","namePy":"wz","updateTime":1689427268871}],"success":true}
2023-07-26 22:54:35.615 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1690383274624zjf  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š623 ms -------------
2023-07-26 22:54:35.728 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1690383275728xn7  [0;39m è·å–ä¼šå‘˜ç™»å½•tokenï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTAzODMyNjQsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MDQ2OTY2NCwiaWF0IjoxNjkwMzgzMjY0fQ.48VDaoJA-5rbFeMUX7MpYb7gwu7gTOW423LQ953khZs
2023-07-26 22:54:35.730 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1690383275728xn7  [0;39m æ ¹æ®tokenè·å–åŸå§‹å†…å®¹ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:54:35.730 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1690383275728xn7  [0;39m å½“å‰ç™»å½•ä¼šå‘˜ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:54:35.731 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1690383275728xn7  [0;39m ------------- å¼€å§‹ -------------
2023-07-26 22:54:35.731 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1690383275728xn7  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8002/business/station/queryAll GET
2023-07-26 22:54:35.731 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1690383275728xn7  [0;39m ç±»åæ–¹æ³•: com.jktickets.controller.StationController.queryAllStationList
2023-07-26 22:54:35.731 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1690383275728xn7  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-07-26 22:54:35.731 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1690383275728xn7  [0;39m è¯·æ±‚å‚æ•°: []
2023-07-26 22:54:35.732 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383275728xn7  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-07-26 22:54:35.732 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383275728xn7  [0;39m å‚æ•°å€¼: com.jktickets.domain.StationExample@42ca2941
2023-07-26 22:54:35.751 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383275728xn7  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.StationMapper.selectByExample(StationExample))
2023-07-26 22:54:35.752 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1690383275728xn7  [0;39m è¿”å›ç»“æœ: {"code":0,"message":"","result":[{"createTime":1689430602268,"id":1680219843401486336,"name":"æ­å·","namePinyin":"hangzhou","namePy":"hz","updateTime":1689430602268},{"createTime":1689427282591,"id":1680205919650189312,"name":"ä¸Šæµ·","namePinyin":"shanghai","namePy":"sh","updateTime":1689427282591},{"createTime":1689427268871,"id":1680205862385356800,"name":"æ¸©å·","namePinyin":"wenzhou","namePy":"wz","updateTime":1689427268871}],"success":true}
2023-07-26 22:54:35.753 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1690383275728xn7  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-07-26 22:54:42.682 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1690383282682qcs  [0;39m è·å–ä¼šå‘˜ç™»å½•tokenï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTAzODMyNjQsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MDQ2OTY2NCwiaWF0IjoxNjkwMzgzMjY0fQ.48VDaoJA-5rbFeMUX7MpYb7gwu7gTOW423LQ953khZs
2023-07-26 22:54:42.683 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1690383282682qcs  [0;39m æ ¹æ®tokenè·å–åŸå§‹å†…å®¹ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:54:42.683 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1690383282682qcs  [0;39m å½“å‰ç™»å½•ä¼šå‘˜ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:54:42.817 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1690383282682qcs  [0;39m ------------- å¼€å§‹ -------------
2023-07-26 22:54:42.817 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1690383282682qcs  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8002/business/dailyTrainTicket/queryList GET
2023-07-26 22:54:42.818 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1690383282682qcs  [0;39m ç±»åæ–¹æ³•: com.jktickets.controller.DailyTrainTicketController.queryDailyTrainTicketList
2023-07-26 22:54:42.818 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1690383282682qcs  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-07-26 22:54:42.823 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1690383282682qcs  [0;39m è¯·æ±‚å‚æ•°: [{"date":1690214400000,"end":"æ­å·","page":1,"size":10,"start":"æ¸©å·"}]
2023-07-26 22:54:42.830 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383282682qcs  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 22:54:42.831 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383282682qcs  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainTicketExample@10dfe0ff
2023-07-26 22:54:43.025 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383282682qcs  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 22:54:43.027 INFO  com.jktickets.service.DailyTrainTicketService     :110  [32m1690383282682qcs  [0;39m æ€»è¡Œæ•°ï¼š1
2023-07-26 22:54:43.027 INFO  com.jktickets.service.DailyTrainTicketService     :111  [32m1690383282682qcs  [0;39m æ€»é¡µæ•°ï¼š1
2023-07-26 22:54:43.065 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1690383282682qcs  [0;39m è¿”å›ç»“æœ: {"code":0,"message":"","result":{"list":[{"createTime":1690291411619,"date":1690214400000,"edz":25,"edzPrice":3.96,"end":"æ­å·","endIndex":2,"endPinyin":"hangzhou","endTime":25200000,"id":1683830340080242688,"rw":-1,"rwPrice":7.92,"start":"æ¸©å·","startIndex":1,"startPinyin":"wenzhou","startTime":51303000,"trainCode":"01","updateTime":1690291411619,"ydz":12,"ydzPrice":5.28,"yw":-1,"ywPrice":6.60}],"total":1},"success":true}
2023-07-26 22:54:43.065 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1690383282682qcs  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š248 ms -------------
2023-07-26 22:55:03.701 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1690383303701lxg  [0;39m è·å–ä¼šå‘˜ç™»å½•tokenï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTAzODMyNjQsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MDQ2OTY2NCwiaWF0IjoxNjkwMzgzMjY0fQ.48VDaoJA-5rbFeMUX7MpYb7gwu7gTOW423LQ953khZs
2023-07-26 22:55:03.701 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1690383303701lxg  [0;39m æ ¹æ®tokenè·å–åŸå§‹å†…å®¹ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:55:03.702 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1690383303701lxg  [0;39m å½“å‰ç™»å½•ä¼šå‘˜ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:55:03.753 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1690383303701lxg  [0;39m ------------- å¼€å§‹ -------------
2023-07-26 22:55:03.753 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1690383303701lxg  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8002/business/confirmOrder/doConfirm POST
2023-07-26 22:55:03.753 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1690383303701lxg  [0;39m ç±»åæ–¹æ³•: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-07-26 22:55:03.753 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1690383303701lxg  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-07-26 22:55:03.759 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1690383303701lxg  [0;39m è¯·æ±‚å‚æ•°: [{"dailyTrainTicketId":1683830340080242688,"date":1690214400000,"end":"æ­å·","start":"æ¸©å·","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}],"trainCode":"01"}]
2023-07-26 22:55:03.805 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383303701lxg  [0;39m æ‰§è¡ŒSQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 22:55:03.809 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383303701lxg  [0;39m å‚æ•°å€¼: ConfirmOrder [Hash = 1303508987, id=1684215763138908160, memberId=1680932902797447168, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, end=æ­å·, dailyTrainTicketId=1683830340080242688, status=I, createTime=2023-07-26 22:55:03, updateTime=2023-07-26 22:55:03, tickets=[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}]]
2023-07-26 22:55:03.864 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383303701lxg  [0;39m SQLæ‰§è¡Œå®Œæˆ: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 22:55:03.865 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383303701lxg  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 22:55:03.866 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383303701lxg  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainTicketExample@4125aad9
2023-07-26 22:55:03.884 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383303701lxg  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 22:55:03.885 INFO  com.jktickets.service.ConfirmOrderService         :157  [32m1690383303701lxg  [0;39m æŸ¥å‡ºä½™ç¥¨è®°å½•:DailyTrainTicket [Hash = 1015308176, id=1683830340080242688, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=æ­å·, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=12, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023]
2023-07-26 22:55:03.890 INFO  com.jktickets.service.ConfirmOrderService         :176  [32m1690383303701lxg  [0;39m æœ¬æ¬¡è´­ç¥¨æœ‰é€‰åº§
2023-07-26 22:55:03.891 INFO  com.jktickets.service.ConfirmOrderService         :180  [32m1690383303701lxg  [0;39m æœ¬æ¬¡é€‰åº§ åº§ä½ç±»å‹åŒ…å«çš„åˆ—:[EDZ_A, EDZ_B, EDZ_C, EDZ_D, EDZ_F]
2023-07-26 22:55:03.892 INFO  com.jktickets.service.ConfirmOrderService         :192  [32m1690383303701lxg  [0;39m ç”¨äºä½œå‚ç…§çš„ä¸¤æ’åº§ä½,[A1, B1, C1, D1, F1, A2, B2, C2, D2, F2]
2023-07-26 22:55:03.892 INFO  com.jktickets.service.ConfirmOrderService         :203  [32m1690383303701lxg  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„çš„ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 22:55:03.892 INFO  com.jktickets.service.ConfirmOrderService         :216  [32m1690383303701lxg  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„ ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 22:55:03.897 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383303701lxg  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 22:55:03.897 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383303701lxg  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainCarriageExample@43c30f24
2023-07-26 22:55:03.919 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383303701lxg  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 22:55:03.920 INFO  com.jktickets.service.ConfirmOrderService         :258  [32m1690383303701lxg  [0;39m å…±æŸ¥å‡º1ä¸ªç¬¦åˆæ¡ä»¶çš„è½¦å¢
2023-07-26 22:55:03.920 INFO  com.jktickets.service.ConfirmOrderService         :263  [32m1690383303701lxg  [0;39m ä»è½¦å¢2é€‰åº§
2023-07-26 22:55:03.924 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383303701lxg  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 22:55:03.924 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383303701lxg  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainSeatExample@7c110d58
2023-07-26 22:55:03.954 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383303701lxg  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 22:55:03.955 INFO  com.jktickets.service.ConfirmOrderService         :271  [32m1690383303701lxg  [0;39m è½¦å¢2çš„åº§ä½æ•°:25
2023-07-26 22:55:03.955 INFO  com.jktickets.service.ConfirmOrderService         :395  [32m1690383303701lxg  [0;39m åº§ä½1åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2å·²å”®è¿‡ç¥¨,ä¸å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 22:55:03.956 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690383303701lxg  [0;39m åº§ä½2åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:B,ç›®æ ‡åˆ—å€¼:A
2023-07-26 22:55:03.956 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690383303701lxg  [0;39m åº§ä½3åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:C,ç›®æ ‡åˆ—å€¼:A
2023-07-26 22:55:03.957 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690383303701lxg  [0;39m åº§ä½4åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:D,ç›®æ ‡åˆ—å€¼:A
2023-07-26 22:55:03.957 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690383303701lxg  [0;39m åº§ä½5åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:F,ç›®æ ‡åˆ—å€¼:A
2023-07-26 22:55:03.957 INFO  com.jktickets.service.ConfirmOrderService         :400  [32m1690383303701lxg  [0;39m åº§ä½6åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2æ²¡æœ‰å”®è¿‡ç¥¨,å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 22:55:03.958 INFO  com.jktickets.service.ConfirmOrderService         :419  [32m1690383303701lxg  [0;39m åº§ä½6è¢«é€‰ä¸­ï¼ŒåŸå”®ç¥¨ä¿¡æ¯:00,è½¦ç«™åŒºé—´:1-2,å³:01,æœ€ç»ˆå”®ç¥¨ä¿¡æ¯:1
2023-07-26 22:55:03.959 INFO  com.jktickets.service.ConfirmOrderService         :311  [32m1690383303701lxg  [0;39m é€‰ä¸­åº§ä½
2023-07-26 22:55:03.959 INFO  com.jktickets.service.ConfirmOrderService         :325  [32m1690383303701lxg  [0;39m æœ‰åç§»å€¼:[0, 6]ï¼Œæ ¡éªŒåç§»çš„åº§ä½æ˜¯å¦å¯é€‰
2023-07-26 22:55:03.959 INFO  com.jktickets.service.ConfirmOrderService         :400  [32m1690383303701lxg  [0;39m åº§ä½12åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2æ²¡æœ‰å”®è¿‡ç¥¨,å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 22:55:03.959 INFO  com.jktickets.service.ConfirmOrderService         :419  [32m1690383303701lxg  [0;39m åº§ä½12è¢«é€‰ä¸­ï¼ŒåŸå”®ç¥¨ä¿¡æ¯:00,è½¦ç«™åŒºé—´:1-2,å³:01,æœ€ç»ˆå”®ç¥¨ä¿¡æ¯:1
2023-07-26 22:55:03.959 INFO  com.jktickets.service.ConfirmOrderService         :349  [32m1690383303701lxg  [0;39m åº§ä½12è¢«é€‰ä¸­
2023-07-26 22:55:03.960 INFO  com.jktickets.service.ConfirmOrderService         :230  [32m1690383303701lxg  [0;39m æœ€ç»ˆé€‰åº§:[DailyTrainSeat [Hash = 1817990547, id=1683830336691245056, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, carriageIndex=2, row=02, col=A, seatType=2, carriageSeatIndex=6, sell=1, createTime=Tue Jul 25 21:23:30 CST 2023, updateTime=Tue Jul 25 21:23:30 CST 2023], DailyTrainSeat [Hash = 1741319433, id=1683830337312002048, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, carriageIndex=2, row=03, col=B, seatType=2, carriageSeatIndex=12, sell=1, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023]]
2023-07-26 22:55:03.984 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383303701lxg  [0;39m æ‰§è¡ŒSQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 22:55:03.985 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383303701lxg  [0;39m å‚æ•°å€¼: DailyTrainSeat [Hash = 1853548211, id=1683830336691245056, date=null, trainCode=null, carriageIndex=null, row=null, col=null, seatType=null, carriageSeatIndex=null, sell=1, createTime=null, updateTime=Wed Jul 26 22:55:03 CST 2023]
2023-07-26 22:55:04.020 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383303701lxg  [0;39m SQLæ‰§è¡Œå®Œæˆ: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 22:55:04.050 ERROR c.jktickets.exception.ControllerExceptionHandler  :32   [32m1690383303701lxg  [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1
	at com.jktickets.service.impl.AfterConfirmOrderServiceImpl.afterDoConfirm(AfterConfirmOrderServiceImpl.java:78)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.jktickets.service.impl.AfterConfirmOrderServiceImpl$$SpringCGLIB$$0.afterDoConfirm(<generated>)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.doConfirm(ConfirmOrderServiceImpl.java:243)
	at com.jktickets.controller.ConfirmOrderController.doConfirm(ConfirmOrderAdminController.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jktickets.aspect.LogAspect.doAround(LogAspect.java:88)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.jktickets.controller.ConfirmOrderController$$SpringCGLIB$$0.doConfirm(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-07-26 22:55:04.070 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m1690383303701lxg  [0;39m Resolved [java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1]
2023-07-26 22:59:15.639 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-07-26 22:59:15.655 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-07-26 22:59:22.004 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-07-26 22:59:22.059 INFO  com.jktickets.BusinessApplication                 :51   [32m                  [0;39m Starting BusinessApplication using Java 17.0.3 with PID 14912 (D:\Project\java\jk-tickets\business-service\target\classes started by Administrator in D:\Project\java\jk-tickets)
2023-07-26 22:59:22.061 INFO  com.jktickets.BusinessApplication                 :630  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2023-07-26 22:59:22.116 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-07-26 22:59:22.116 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-07-26 22:59:23.093 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=71b4ceae-fc8f-3922-845a-d1426d10be57
2023-07-26 22:59:23.935 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :114  [32m                  [0;39m Tomcat initialized with port(s): 8002 (http)
2023-07-26 22:59:23.944 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8002"]
2023-07-26 22:59:23.946 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-07-26 22:59:23.946 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-07-26 22:59:24.019 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-07-26 22:59:24.019 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :291  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1903 ms
2023-07-26 22:59:25.322 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.github.pagehelper.autoconfigure.PageHelperStandardProperties
2023-07-26 22:59:25.631 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :62   [32m                  [0;39m Unable to start LiveReload server
2023-07-26 22:59:26.074 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8002"]
2023-07-26 22:59:26.101 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :226  [32m                  [0;39m Tomcat started on port(s): 8002 (http) with context path '/business'
2023-07-26 22:59:26.471 INFO  com.jktickets.BusinessApplication                 :57   [32m                  [0;39m Started BusinessApplication in 5.555 seconds (process running for 6.79)
2023-07-26 22:59:26.475 INFO  com.jktickets.BusinessApplication                 :21   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-07-26 22:59:26.475 INFO  com.jktickets.BusinessApplication                 :23   [32m                  [0;39m æµ‹è¯•åœ°å€: 	http://127.0.0.1:8002/business/hello
2023-07-26 22:59:48.857 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-26 22:59:48.857 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-07-26 22:59:48.858 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-07-26 22:59:48.889 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1690383588880y4l  [0;39m è·å–ä¼šå‘˜ç™»å½•tokenï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTAzODMyNjQsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MDQ2OTY2NCwiaWF0IjoxNjkwMzgzMjY0fQ.48VDaoJA-5rbFeMUX7MpYb7gwu7gTOW423LQ953khZs
2023-07-26 22:59:49.206 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1690383588880y4l  [0;39m æ ¹æ®tokenè·å–åŸå§‹å†…å®¹ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:59:49.210 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1690383588880y4l  [0;39m å½“å‰ç™»å½•ä¼šå‘˜ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 22:59:49.399 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1690383588880y4l  [0;39m ------------- å¼€å§‹ -------------
2023-07-26 22:59:49.401 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1690383588880y4l  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8002/business/confirmOrder/doConfirm POST
2023-07-26 22:59:49.401 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1690383588880y4l  [0;39m ç±»åæ–¹æ³•: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-07-26 22:59:49.401 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1690383588880y4l  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-07-26 22:59:49.483 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1690383588880y4l  [0;39m è¯·æ±‚å‚æ•°: [{"dailyTrainTicketId":1683830340080242688,"date":1690214400000,"end":"æ­å·","start":"æ¸©å·","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}],"trainCode":"01"}]
2023-07-26 22:59:49.492 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383588880y4l  [0;39m æ‰§è¡ŒSQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 22:59:49.497 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383588880y4l  [0;39m å‚æ•°å€¼: ConfirmOrder [Hash = 445563895, id=1684216961392840704, memberId=1680932902797447168, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, end=æ­å·, dailyTrainTicketId=1683830340080242688, status=I, createTime=2023-07-26 22:59:49, updateTime=2023-07-26 22:59:49, tickets=[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}]]
2023-07-26 22:59:49.522 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m1690383588880y4l  [0;39m HikariPool-1 - Starting...
2023-07-26 22:59:49.844 INFO  com.zaxxer.hikari.pool.HikariPool                 :565  [32m1690383588880y4l  [0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@66da4f1d
2023-07-26 22:59:49.847 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m1690383588880y4l  [0;39m HikariPool-1 - Start completed.
2023-07-26 22:59:49.918 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383588880y4l  [0;39m SQLæ‰§è¡Œå®Œæˆ: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 22:59:49.923 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383588880y4l  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 22:59:49.924 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383588880y4l  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainTicketExample@47bdaa35
2023-07-26 22:59:49.997 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383588880y4l  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 22:59:49.998 INFO  com.jktickets.service.ConfirmOrderService         :157  [32m1690383588880y4l  [0;39m æŸ¥å‡ºä½™ç¥¨è®°å½•:DailyTrainTicket [Hash = 2116386120, id=1683830340080242688, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=æ­å·, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=12, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023]
2023-07-26 22:59:50.003 INFO  com.jktickets.service.ConfirmOrderService         :176  [32m1690383588880y4l  [0;39m æœ¬æ¬¡è´­ç¥¨æœ‰é€‰åº§
2023-07-26 22:59:50.004 INFO  com.jktickets.service.ConfirmOrderService         :180  [32m1690383588880y4l  [0;39m æœ¬æ¬¡é€‰åº§ åº§ä½ç±»å‹åŒ…å«çš„åˆ—:[EDZ_A, EDZ_B, EDZ_C, EDZ_D, EDZ_F]
2023-07-26 22:59:50.005 INFO  com.jktickets.service.ConfirmOrderService         :192  [32m1690383588880y4l  [0;39m ç”¨äºä½œå‚ç…§çš„ä¸¤æ’åº§ä½,[A1, B1, C1, D1, F1, A2, B2, C2, D2, F2]
2023-07-26 22:59:50.005 INFO  com.jktickets.service.ConfirmOrderService         :203  [32m1690383588880y4l  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„çš„ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 22:59:50.005 INFO  com.jktickets.service.ConfirmOrderService         :216  [32m1690383588880y4l  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„ ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 22:59:50.008 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383588880y4l  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 22:59:50.008 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383588880y4l  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainCarriageExample@6e5466fd
2023-07-26 22:59:50.024 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383588880y4l  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 22:59:50.025 INFO  com.jktickets.service.ConfirmOrderService         :258  [32m1690383588880y4l  [0;39m å…±æŸ¥å‡º1ä¸ªç¬¦åˆæ¡ä»¶çš„è½¦å¢
2023-07-26 22:59:50.025 INFO  com.jktickets.service.ConfirmOrderService         :263  [32m1690383588880y4l  [0;39m ä»è½¦å¢2é€‰åº§
2023-07-26 22:59:50.029 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383588880y4l  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 22:59:50.030 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383588880y4l  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainSeatExample@76104be6
2023-07-26 22:59:50.059 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383588880y4l  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 22:59:50.060 INFO  com.jktickets.service.ConfirmOrderService         :271  [32m1690383588880y4l  [0;39m è½¦å¢2çš„åº§ä½æ•°:25
2023-07-26 22:59:50.061 INFO  com.jktickets.service.ConfirmOrderService         :395  [32m1690383588880y4l  [0;39m åº§ä½1åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2å·²å”®è¿‡ç¥¨,ä¸å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 22:59:50.061 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690383588880y4l  [0;39m åº§ä½2åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:B,ç›®æ ‡åˆ—å€¼:A
2023-07-26 22:59:50.061 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690383588880y4l  [0;39m åº§ä½3åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:C,ç›®æ ‡åˆ—å€¼:A
2023-07-26 22:59:50.061 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690383588880y4l  [0;39m åº§ä½4åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:D,ç›®æ ‡åˆ—å€¼:A
2023-07-26 22:59:50.062 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690383588880y4l  [0;39m åº§ä½5åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:F,ç›®æ ‡åˆ—å€¼:A
2023-07-26 22:59:50.062 INFO  com.jktickets.service.ConfirmOrderService         :400  [32m1690383588880y4l  [0;39m åº§ä½6åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2æ²¡æœ‰å”®è¿‡ç¥¨,å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 22:59:50.063 INFO  com.jktickets.service.ConfirmOrderService         :419  [32m1690383588880y4l  [0;39m åº§ä½6è¢«é€‰ä¸­ï¼ŒåŸå”®ç¥¨ä¿¡æ¯:00,è½¦ç«™åŒºé—´:1-2,å³:01,æœ€ç»ˆå”®ç¥¨ä¿¡æ¯:1
2023-07-26 22:59:50.063 INFO  com.jktickets.service.ConfirmOrderService         :311  [32m1690383588880y4l  [0;39m é€‰ä¸­åº§ä½
2023-07-26 22:59:50.063 INFO  com.jktickets.service.ConfirmOrderService         :325  [32m1690383588880y4l  [0;39m æœ‰åç§»å€¼:[0, 6]ï¼Œæ ¡éªŒåç§»çš„åº§ä½æ˜¯å¦å¯é€‰
2023-07-26 22:59:50.064 INFO  com.jktickets.service.ConfirmOrderService         :400  [32m1690383588880y4l  [0;39m åº§ä½12åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2æ²¡æœ‰å”®è¿‡ç¥¨,å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 22:59:50.064 INFO  com.jktickets.service.ConfirmOrderService         :419  [32m1690383588880y4l  [0;39m åº§ä½12è¢«é€‰ä¸­ï¼ŒåŸå”®ç¥¨ä¿¡æ¯:00,è½¦ç«™åŒºé—´:1-2,å³:01,æœ€ç»ˆå”®ç¥¨ä¿¡æ¯:1
2023-07-26 22:59:50.064 INFO  com.jktickets.service.ConfirmOrderService         :349  [32m1690383588880y4l  [0;39m åº§ä½12è¢«é€‰ä¸­
2023-07-26 22:59:50.065 INFO  com.jktickets.service.ConfirmOrderService         :230  [32m1690383588880y4l  [0;39m æœ€ç»ˆé€‰åº§:[DailyTrainSeat [Hash = 680081817, id=1683830336691245056, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, carriageIndex=2, row=02, col=A, seatType=2, carriageSeatIndex=6, sell=1, createTime=Tue Jul 25 21:23:30 CST 2023, updateTime=Tue Jul 25 21:23:30 CST 2023], DailyTrainSeat [Hash = 1731606890, id=1683830337312002048, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, carriageIndex=2, row=03, col=B, seatType=2, carriageSeatIndex=12, sell=1, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023]]
2023-07-26 22:59:50.091 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383588880y4l  [0;39m æ‰§è¡ŒSQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 22:59:50.091 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383588880y4l  [0;39m å‚æ•°å€¼: DailyTrainSeat [Hash = 705574448, id=1683830336691245056, date=null, trainCode=null, carriageIndex=null, row=null, col=null, seatType=null, carriageSeatIndex=null, sell=1, createTime=null, updateTime=Wed Jul 26 22:59:50 CST 2023]
2023-07-26 22:59:50.119 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383588880y4l  [0;39m SQLæ‰§è¡Œå®Œæˆ: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 22:59:50.120 INFO  com.jktickets.service.AfterConfirmOrderService    :84   [32m1690383588880y4l  [0;39m å½±å“å‡ºå‘ç«™åŒºé—´:1-1
2023-07-26 22:59:50.120 INFO  com.jktickets.service.AfterConfirmOrderService    :97   [32m1690383588880y4l  [0;39m å½±å“åˆ°è¾¾ç«™åŒºé—´:0-0
2023-07-26 22:59:50.120 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690383588880y4l  [0;39m æ‰§è¡ŒSQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 22:59:50.121 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690383588880y4l  [0;39m å‚æ•°å€¼: DailyTrainSeat [Hash = 1929898656, id=1683830337312002048, date=null, trainCode=null, carriageIndex=null, row=null, col=null, seatType=null, carriageSeatIndex=null, sell=1, createTime=null, updateTime=Wed Jul 26 22:59:50 CST 2023]
2023-07-26 22:59:50.144 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690383588880y4l  [0;39m SQLæ‰§è¡Œå®Œæˆ: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 22:59:50.145 INFO  com.jktickets.service.AfterConfirmOrderService    :84   [32m1690383588880y4l  [0;39m å½±å“å‡ºå‘ç«™åŒºé—´:1-1
2023-07-26 22:59:50.145 INFO  com.jktickets.service.AfterConfirmOrderService    :97   [32m1690383588880y4l  [0;39m å½±å“åˆ°è¾¾ç«™åŒºé—´:0-0
2023-07-26 22:59:50.174 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1690383588880y4l  [0;39m è¿”å›ç»“æœ: {"code":0,"message":"","success":true}
2023-07-26 22:59:50.174 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1690383588880y4l  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š776 ms -------------
2023-07-26 23:02:18.803 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-07-26 23:02:18.813 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-07-26 23:02:26.889 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-07-26 23:02:26.942 INFO  com.jktickets.BusinessApplication                 :51   [32m                  [0;39m Starting BusinessApplication using Java 17.0.3 with PID 15572 (D:\Project\java\jk-tickets\business-service\target\classes started by Administrator in D:\Project\java\jk-tickets)
2023-07-26 23:02:26.944 INFO  com.jktickets.BusinessApplication                 :630  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2023-07-26 23:02:27.004 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-07-26 23:02:27.005 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-07-26 23:02:28.078 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=71b4ceae-fc8f-3922-845a-d1426d10be57
2023-07-26 23:02:28.922 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :114  [32m                  [0;39m Tomcat initialized with port(s): 8002 (http)
2023-07-26 23:02:28.932 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8002"]
2023-07-26 23:02:28.934 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-07-26 23:02:28.935 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-07-26 23:02:29.006 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-07-26 23:02:29.006 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :291  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2000 ms
2023-07-26 23:02:30.329 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.github.pagehelper.autoconfigure.PageHelperStandardProperties
2023-07-26 23:02:30.642 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :62   [32m                  [0;39m Unable to start LiveReload server
2023-07-26 23:02:31.134 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8002"]
2023-07-26 23:02:31.159 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :226  [32m                  [0;39m Tomcat started on port(s): 8002 (http) with context path '/business'
2023-07-26 23:02:31.549 INFO  com.jktickets.BusinessApplication                 :57   [32m                  [0;39m Started BusinessApplication in 5.784 seconds (process running for 6.721)
2023-07-26 23:02:31.552 INFO  com.jktickets.BusinessApplication                 :21   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-07-26 23:02:31.553 INFO  com.jktickets.BusinessApplication                 :23   [32m                  [0;39m æµ‹è¯•åœ°å€: 	http://127.0.0.1:8002/business/hello
2023-07-26 23:02:35.465 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-26 23:02:35.466 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-07-26 23:02:35.467 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-07-26 23:02:35.505 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m16903837554981zd  [0;39m è·å–ä¼šå‘˜ç™»å½•tokenï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTAzODMyNjQsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MDQ2OTY2NCwiaWF0IjoxNjkwMzgzMjY0fQ.48VDaoJA-5rbFeMUX7MpYb7gwu7gTOW423LQ953khZs
2023-07-26 23:02:35.839 INFO  com.jktickets.utils.JwtUtil                       :64   [32m16903837554981zd  [0;39m æ ¹æ®tokenè·å–åŸå§‹å†…å®¹ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 23:02:35.844 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m16903837554981zd  [0;39m å½“å‰ç™»å½•ä¼šå‘˜ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 23:02:36.041 INFO  com.jktickets.aspect.LogAspect                    :57   [32m16903837554981zd  [0;39m ------------- å¼€å§‹ -------------
2023-07-26 23:02:36.042 INFO  com.jktickets.aspect.LogAspect                    :58   [32m16903837554981zd  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8002/business/confirmOrder/doConfirm POST
2023-07-26 23:02:36.043 INFO  com.jktickets.aspect.LogAspect                    :59   [32m16903837554981zd  [0;39m ç±»åæ–¹æ³•: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-07-26 23:02:36.044 INFO  com.jktickets.aspect.LogAspect                    :60   [32m16903837554981zd  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-07-26 23:02:36.137 INFO  com.jktickets.aspect.LogAspect                    :82   [32m16903837554981zd  [0;39m è¯·æ±‚å‚æ•°: [{"dailyTrainTicketId":1683830340080242688,"date":1690214400000,"end":"æ­å·","start":"æ¸©å·","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}],"trainCode":"01"}]
2023-07-26 23:02:36.146 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16903837554981zd  [0;39m æ‰§è¡ŒSQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 23:02:36.151 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16903837554981zd  [0;39m å‚æ•°å€¼: ConfirmOrder [Hash = 2098398030, id=1684217660390379520, memberId=1680932902797447168, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, end=æ­å·, dailyTrainTicketId=1683830340080242688, status=I, createTime=2023-07-26 23:02:36, updateTime=2023-07-26 23:02:36, tickets=[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}]]
2023-07-26 23:02:36.174 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m16903837554981zd  [0;39m HikariPool-1 - Starting...
2023-07-26 23:02:36.491 INFO  com.zaxxer.hikari.pool.HikariPool                 :565  [32m16903837554981zd  [0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26468ad6
2023-07-26 23:02:36.494 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m16903837554981zd  [0;39m HikariPool-1 - Start completed.
2023-07-26 23:02:36.547 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16903837554981zd  [0;39m SQLæ‰§è¡Œå®Œæˆ: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 23:02:36.552 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16903837554981zd  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 23:02:36.552 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16903837554981zd  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainTicketExample@4deafe9b
2023-07-26 23:02:36.619 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16903837554981zd  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 23:02:36.619 INFO  com.jktickets.service.ConfirmOrderService         :157  [32m16903837554981zd  [0;39m æŸ¥å‡ºä½™ç¥¨è®°å½•:DailyTrainTicket [Hash = 626324758, id=1683830340080242688, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=æ­å·, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=12, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023]
2023-07-26 23:02:36.625 INFO  com.jktickets.service.ConfirmOrderService         :176  [32m16903837554981zd  [0;39m æœ¬æ¬¡è´­ç¥¨æœ‰é€‰åº§
2023-07-26 23:02:36.626 INFO  com.jktickets.service.ConfirmOrderService         :180  [32m16903837554981zd  [0;39m æœ¬æ¬¡é€‰åº§ åº§ä½ç±»å‹åŒ…å«çš„åˆ—:[EDZ_A, EDZ_B, EDZ_C, EDZ_D, EDZ_F]
2023-07-26 23:02:36.626 INFO  com.jktickets.service.ConfirmOrderService         :192  [32m16903837554981zd  [0;39m ç”¨äºä½œå‚ç…§çš„ä¸¤æ’åº§ä½,[A1, B1, C1, D1, F1, A2, B2, C2, D2, F2]
2023-07-26 23:02:36.626 INFO  com.jktickets.service.ConfirmOrderService         :203  [32m16903837554981zd  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„çš„ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 23:02:36.627 INFO  com.jktickets.service.ConfirmOrderService         :216  [32m16903837554981zd  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„ ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 23:02:36.629 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16903837554981zd  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 23:02:36.630 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16903837554981zd  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainCarriageExample@50acc0d7
2023-07-26 23:02:36.872 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16903837554981zd  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 23:02:36.873 INFO  com.jktickets.service.ConfirmOrderService         :258  [32m16903837554981zd  [0;39m å…±æŸ¥å‡º1ä¸ªç¬¦åˆæ¡ä»¶çš„è½¦å¢
2023-07-26 23:02:36.873 INFO  com.jktickets.service.ConfirmOrderService         :263  [32m16903837554981zd  [0;39m ä»è½¦å¢2é€‰åº§
2023-07-26 23:02:36.878 INFO  com.jktickets.aspect.LogAspect                    :106  [32m16903837554981zd  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 23:02:36.878 INFO  com.jktickets.aspect.LogAspect                    :111  [32m16903837554981zd  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainSeatExample@62a8703d
2023-07-26 23:02:36.901 INFO  com.jktickets.aspect.LogAspect                    :120  [32m16903837554981zd  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 23:02:36.902 INFO  com.jktickets.service.ConfirmOrderService         :271  [32m16903837554981zd  [0;39m è½¦å¢2çš„åº§ä½æ•°:25
2023-07-26 23:02:36.902 INFO  com.jktickets.service.ConfirmOrderService         :395  [32m16903837554981zd  [0;39m åº§ä½1åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2å·²å”®è¿‡ç¥¨,ä¸å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 23:02:36.902 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m16903837554981zd  [0;39m åº§ä½2åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:B,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:02:36.902 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m16903837554981zd  [0;39m åº§ä½3åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:C,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:02:36.902 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m16903837554981zd  [0;39m åº§ä½4åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:D,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:02:36.902 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m16903837554981zd  [0;39m åº§ä½5åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:F,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:02:36.904 ERROR c.jktickets.exception.ControllerExceptionHandler  :32   [32m16903837554981zd  [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
java.lang.StringIndexOutOfBoundsException: begin 1, end 2, length 1
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4604)
	at java.base/java.lang.String.substring(String.java:2707)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.checkSeatSellState(ConfirmOrderServiceImpl.java:391)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.selectSeat(ConfirmOrderServiceImpl.java:308)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.doConfirm(ConfirmOrderServiceImpl.java:218)
	at com.jktickets.controller.ConfirmOrderController.doConfirm(ConfirmOrderAdminController.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jktickets.aspect.LogAspect.doAround(LogAspect.java:88)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.jktickets.controller.ConfirmOrderController$$SpringCGLIB$$0.doConfirm(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-07-26 23:02:36.935 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m16903837554981zd  [0;39m Resolved [java.lang.StringIndexOutOfBoundsException: begin 1, end 2, length 1]
2023-07-26 23:12:03.080 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-07-26 23:12:03.090 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-07-26 23:12:09.888 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-07-26 23:12:09.937 INFO  com.jktickets.BusinessApplication                 :51   [32m                  [0;39m Starting BusinessApplication using Java 17.0.3 with PID 13776 (D:\Project\java\jk-tickets\business-service\target\classes started by Administrator in D:\Project\java\jk-tickets)
2023-07-26 23:12:09.939 INFO  com.jktickets.BusinessApplication                 :630  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2023-07-26 23:12:09.990 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-07-26 23:12:09.990 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-07-26 23:12:10.952 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=71b4ceae-fc8f-3922-845a-d1426d10be57
2023-07-26 23:12:11.815 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :114  [32m                  [0;39m Tomcat initialized with port(s): 8002 (http)
2023-07-26 23:12:11.825 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8002"]
2023-07-26 23:12:11.826 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-07-26 23:12:11.826 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-07-26 23:12:11.895 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-07-26 23:12:11.895 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :291  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1904 ms
2023-07-26 23:12:13.262 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.github.pagehelper.autoconfigure.PageHelperStandardProperties
2023-07-26 23:12:13.588 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :62   [32m                  [0;39m Unable to start LiveReload server
2023-07-26 23:12:14.085 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8002"]
2023-07-26 23:12:14.114 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :226  [32m                  [0;39m Tomcat started on port(s): 8002 (http) with context path '/business'
2023-07-26 23:12:14.504 INFO  com.jktickets.BusinessApplication                 :57   [32m                  [0;39m Started BusinessApplication in 5.688 seconds (process running for 6.554)
2023-07-26 23:12:14.507 INFO  com.jktickets.BusinessApplication                 :21   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-07-26 23:12:14.508 INFO  com.jktickets.BusinessApplication                 :23   [32m                  [0;39m æµ‹è¯•åœ°å€: 	http://127.0.0.1:8002/business/hello
2023-07-26 23:12:19.438 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-26 23:12:19.439 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-07-26 23:12:19.440 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-07-26 23:12:19.472 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1690384339464gdo  [0;39m è·å–ä¼šå‘˜ç™»å½•tokenï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTAzODMyNjQsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MDQ2OTY2NCwiaWF0IjoxNjkwMzgzMjY0fQ.48VDaoJA-5rbFeMUX7MpYb7gwu7gTOW423LQ953khZs
2023-07-26 23:12:19.749 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1690384339464gdo  [0;39m æ ¹æ®tokenè·å–åŸå§‹å†…å®¹ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 23:12:19.753 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1690384339464gdo  [0;39m å½“å‰ç™»å½•ä¼šå‘˜ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 23:12:19.944 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1690384339464gdo  [0;39m ------------- å¼€å§‹ -------------
2023-07-26 23:12:19.946 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1690384339464gdo  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8002/business/confirmOrder/doConfirm POST
2023-07-26 23:12:19.947 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1690384339464gdo  [0;39m ç±»åæ–¹æ³•: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-07-26 23:12:19.948 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1690384339464gdo  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-07-26 23:12:20.020 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1690384339464gdo  [0;39m è¯·æ±‚å‚æ•°: [{"dailyTrainTicketId":1683830340080242688,"date":1690214400000,"end":"æ­å·","start":"æ¸©å·","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}],"trainCode":"01"}]
2023-07-26 23:12:20.029 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384339464gdo  [0;39m æ‰§è¡ŒSQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 23:12:20.033 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384339464gdo  [0;39m å‚æ•°å€¼: ConfirmOrder [Hash = 1023527794, id=1684220109373181952, memberId=1680932902797447168, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, end=æ­å·, dailyTrainTicketId=1683830340080242688, status=I, createTime=2023-07-26 23:12:20, updateTime=2023-07-26 23:12:20, tickets=[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}]]
2023-07-26 23:12:20.053 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m1690384339464gdo  [0;39m HikariPool-1 - Starting...
2023-07-26 23:12:20.365 INFO  com.zaxxer.hikari.pool.HikariPool                 :565  [32m1690384339464gdo  [0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d282e2b
2023-07-26 23:12:20.368 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m1690384339464gdo  [0;39m HikariPool-1 - Start completed.
2023-07-26 23:12:20.423 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384339464gdo  [0;39m SQLæ‰§è¡Œå®Œæˆ: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 23:12:20.428 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384339464gdo  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 23:12:20.429 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384339464gdo  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainTicketExample@24e3ae08
2023-07-26 23:12:20.494 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384339464gdo  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 23:12:20.494 INFO  com.jktickets.service.ConfirmOrderService         :157  [32m1690384339464gdo  [0;39m æŸ¥å‡ºä½™ç¥¨è®°å½•:DailyTrainTicket [Hash = 54665773, id=1683830340080242688, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=æ­å·, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=12, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023]
2023-07-26 23:12:20.498 INFO  com.jktickets.service.ConfirmOrderService         :176  [32m1690384339464gdo  [0;39m æœ¬æ¬¡è´­ç¥¨æœ‰é€‰åº§
2023-07-26 23:12:20.499 INFO  com.jktickets.service.ConfirmOrderService         :180  [32m1690384339464gdo  [0;39m æœ¬æ¬¡é€‰åº§ åº§ä½ç±»å‹åŒ…å«çš„åˆ—:[EDZ_A, EDZ_B, EDZ_C, EDZ_D, EDZ_F]
2023-07-26 23:12:20.500 INFO  com.jktickets.service.ConfirmOrderService         :192  [32m1690384339464gdo  [0;39m ç”¨äºä½œå‚ç…§çš„ä¸¤æ’åº§ä½,[A1, B1, C1, D1, F1, A2, B2, C2, D2, F2]
2023-07-26 23:12:20.500 INFO  com.jktickets.service.ConfirmOrderService         :203  [32m1690384339464gdo  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„çš„ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 23:12:20.500 INFO  com.jktickets.service.ConfirmOrderService         :216  [32m1690384339464gdo  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„ ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 23:12:20.503 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384339464gdo  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 23:12:20.504 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384339464gdo  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainCarriageExample@156d52ab
2023-07-26 23:12:20.520 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384339464gdo  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 23:12:20.520 INFO  com.jktickets.service.ConfirmOrderService         :258  [32m1690384339464gdo  [0;39m å…±æŸ¥å‡º1ä¸ªç¬¦åˆæ¡ä»¶çš„è½¦å¢
2023-07-26 23:12:20.520 INFO  com.jktickets.service.ConfirmOrderService         :263  [32m1690384339464gdo  [0;39m ä»è½¦å¢2é€‰åº§
2023-07-26 23:12:20.523 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384339464gdo  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 23:12:20.524 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384339464gdo  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainSeatExample@574c4d2f
2023-07-26 23:12:20.553 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384339464gdo  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 23:12:20.554 INFO  com.jktickets.service.ConfirmOrderService         :271  [32m1690384339464gdo  [0;39m è½¦å¢2çš„åº§ä½æ•°:25
2023-07-26 23:12:20.554 INFO  com.jktickets.service.ConfirmOrderService         :395  [32m1690384339464gdo  [0;39m åº§ä½1åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2å·²å”®è¿‡ç¥¨,ä¸å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 23:12:20.554 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384339464gdo  [0;39m åº§ä½2åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:B,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:12:20.554 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384339464gdo  [0;39m åº§ä½3åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:C,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:12:20.554 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384339464gdo  [0;39m åº§ä½4åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:D,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:12:20.555 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384339464gdo  [0;39m åº§ä½5åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:F,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:12:20.556 ERROR c.jktickets.exception.ControllerExceptionHandler  :32   [32m1690384339464gdo  [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
java.lang.StringIndexOutOfBoundsException: begin 1, end 2, length 1
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4604)
	at java.base/java.lang.String.substring(String.java:2707)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.checkSeatSellState(ConfirmOrderServiceImpl.java:391)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.selectSeat(ConfirmOrderServiceImpl.java:308)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.doConfirm(ConfirmOrderServiceImpl.java:218)
	at com.jktickets.controller.ConfirmOrderController.doConfirm(ConfirmOrderAdminController.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jktickets.aspect.LogAspect.doAround(LogAspect.java:88)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.jktickets.controller.ConfirmOrderController$$SpringCGLIB$$0.doConfirm(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-07-26 23:12:20.590 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m1690384339464gdo  [0;39m Resolved [java.lang.StringIndexOutOfBoundsException: begin 1, end 2, length 1]
2023-07-26 23:15:42.891 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-07-26 23:15:42.898 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-07-26 23:15:51.251 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-07-26 23:15:51.313 INFO  com.jktickets.BusinessApplication                 :51   [32m                  [0;39m Starting BusinessApplication using Java 17.0.3 with PID 3240 (D:\Project\java\jk-tickets\business-service\target\classes started by Administrator in D:\Project\java\jk-tickets)
2023-07-26 23:15:51.314 INFO  com.jktickets.BusinessApplication                 :630  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2023-07-26 23:15:51.381 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-07-26 23:15:51.381 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-07-26 23:15:52.541 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=71b4ceae-fc8f-3922-845a-d1426d10be57
2023-07-26 23:15:53.491 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :114  [32m                  [0;39m Tomcat initialized with port(s): 8002 (http)
2023-07-26 23:15:53.504 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8002"]
2023-07-26 23:15:53.505 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-07-26 23:15:53.505 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-07-26 23:15:53.614 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-07-26 23:15:53.616 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :291  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2233 ms
2023-07-26 23:15:55.222 WARN  o.s.core.LocalVariableTableParameterNameDiscoverer:123  [32m                  [0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.github.pagehelper.autoconfigure.PageHelperStandardProperties
2023-07-26 23:15:55.640 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :62   [32m                  [0;39m Unable to start LiveReload server
2023-07-26 23:15:56.128 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8002"]
2023-07-26 23:15:56.159 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :226  [32m                  [0;39m Tomcat started on port(s): 8002 (http) with context path '/business'
2023-07-26 23:15:56.544 INFO  com.jktickets.BusinessApplication                 :57   [32m                  [0;39m Started BusinessApplication in 6.546 seconds (process running for 10.326)
2023-07-26 23:15:56.549 INFO  com.jktickets.BusinessApplication                 :21   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-07-26 23:15:56.550 INFO  com.jktickets.BusinessApplication                 :23   [32m                  [0;39m æµ‹è¯•åœ°å€: 	http://127.0.0.1:8002/business/hello
2023-07-26 23:20:47.329 INFO  o.a.c.c.C.[Tomcat].[localhost].[/business]        :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-26 23:20:47.329 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-07-26 23:20:47.331 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-07-26 23:20:47.367 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1690384847360xr9  [0;39m è·å–ä¼šå‘˜ç™»å½•tokenï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTAzODMyNjQsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MDQ2OTY2NCwiaWF0IjoxNjkwMzgzMjY0fQ.48VDaoJA-5rbFeMUX7MpYb7gwu7gTOW423LQ953khZs
2023-07-26 23:20:47.698 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1690384847360xr9  [0;39m æ ¹æ®tokenè·å–åŸå§‹å†…å®¹ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 23:20:47.703 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1690384847360xr9  [0;39m å½“å‰ç™»å½•ä¼šå‘˜ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 23:20:47.964 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1690384847360xr9  [0;39m ------------- å¼€å§‹ -------------
2023-07-26 23:20:47.965 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1690384847360xr9  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8002/business/confirmOrder/doConfirm POST
2023-07-26 23:20:47.966 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1690384847360xr9  [0;39m ç±»åæ–¹æ³•: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-07-26 23:20:47.966 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1690384847360xr9  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-07-26 23:20:48.059 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1690384847360xr9  [0;39m è¯·æ±‚å‚æ•°: [{"dailyTrainTicketId":1683830340080242688,"date":1690214400000,"end":"æ­å·","start":"æ¸©å·","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}],"trainCode":"01"}]
2023-07-26 23:20:48.074 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384847360xr9  [0;39m æ‰§è¡ŒSQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 23:20:48.078 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384847360xr9  [0;39m å‚æ•°å€¼: ConfirmOrder [Hash = 1860482978, id=1684222240255774720, memberId=1680932902797447168, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, end=æ­å·, dailyTrainTicketId=1683830340080242688, status=I, createTime=2023-07-26 23:20:48, updateTime=2023-07-26 23:20:48, tickets=[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}]]
2023-07-26 23:20:48.103 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m1690384847360xr9  [0;39m HikariPool-1 - Starting...
2023-07-26 23:20:48.708 INFO  com.zaxxer.hikari.pool.HikariPool                 :565  [32m1690384847360xr9  [0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4be99a3a
2023-07-26 23:20:48.711 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m1690384847360xr9  [0;39m HikariPool-1 - Start completed.
2023-07-26 23:20:48.767 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384847360xr9  [0;39m SQLæ‰§è¡Œå®Œæˆ: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 23:20:48.773 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384847360xr9  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 23:20:48.773 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384847360xr9  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainTicketExample@597805b
2023-07-26 23:20:48.848 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384847360xr9  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 23:20:48.849 INFO  com.jktickets.service.ConfirmOrderService         :157  [32m1690384847360xr9  [0;39m æŸ¥å‡ºä½™ç¥¨è®°å½•:DailyTrainTicket [Hash = 316656675, id=1683830340080242688, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=æ­å·, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=12, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023]
2023-07-26 23:20:48.857 INFO  com.jktickets.service.ConfirmOrderService         :176  [32m1690384847360xr9  [0;39m æœ¬æ¬¡è´­ç¥¨æœ‰é€‰åº§
2023-07-26 23:20:48.860 INFO  com.jktickets.service.ConfirmOrderService         :180  [32m1690384847360xr9  [0;39m æœ¬æ¬¡é€‰åº§ åº§ä½ç±»å‹åŒ…å«çš„åˆ—:[EDZ_A, EDZ_B, EDZ_C, EDZ_D, EDZ_F]
2023-07-26 23:20:48.861 INFO  com.jktickets.service.ConfirmOrderService         :192  [32m1690384847360xr9  [0;39m ç”¨äºä½œå‚ç…§çš„ä¸¤æ’åº§ä½,[A1, B1, C1, D1, F1, A2, B2, C2, D2, F2]
2023-07-26 23:20:48.861 INFO  com.jktickets.service.ConfirmOrderService         :203  [32m1690384847360xr9  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„çš„ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 23:20:48.862 INFO  com.jktickets.service.ConfirmOrderService         :216  [32m1690384847360xr9  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„ ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 23:20:48.866 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384847360xr9  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 23:20:48.866 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384847360xr9  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainCarriageExample@278c117d
2023-07-26 23:20:48.883 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384847360xr9  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 23:20:48.884 INFO  com.jktickets.service.ConfirmOrderService         :258  [32m1690384847360xr9  [0;39m å…±æŸ¥å‡º1ä¸ªç¬¦åˆæ¡ä»¶çš„è½¦å¢
2023-07-26 23:20:48.884 INFO  com.jktickets.service.ConfirmOrderService         :263  [32m1690384847360xr9  [0;39m ä»è½¦å¢2é€‰åº§
2023-07-26 23:20:48.888 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384847360xr9  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 23:20:48.888 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384847360xr9  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainSeatExample@14429bea
2023-07-26 23:20:48.924 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384847360xr9  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 23:20:48.925 INFO  com.jktickets.service.ConfirmOrderService         :271  [32m1690384847360xr9  [0;39m è½¦å¢2çš„åº§ä½æ•°:25
2023-07-26 23:21:04.466 INFO  com.jktickets.service.ConfirmOrderService         :395  [32m1690384847360xr9  [0;39m åº§ä½1åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2å·²å”®è¿‡ç¥¨,ä¸å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 23:21:04.466 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384847360xr9  [0;39m åº§ä½2åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:B,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:21:04.467 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384847360xr9  [0;39m åº§ä½3åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:C,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:21:04.467 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384847360xr9  [0;39m åº§ä½4åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:D,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:21:04.467 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384847360xr9  [0;39m åº§ä½5åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:F,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:21:14.404 ERROR c.jktickets.exception.ControllerExceptionHandler  :32   [32m1690384847360xr9  [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
java.lang.StringIndexOutOfBoundsException: begin 1, end 2, length 1
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4604)
	at java.base/java.lang.String.substring(String.java:2707)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.checkSeatSellState(ConfirmOrderServiceImpl.java:391)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.selectSeat(ConfirmOrderServiceImpl.java:308)
	at com.jktickets.service.impl.ConfirmOrderServiceImpl.doConfirm(ConfirmOrderServiceImpl.java:218)
	at com.jktickets.controller.ConfirmOrderController.doConfirm(ConfirmOrderAdminController.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jktickets.aspect.LogAspect.doAround(LogAspect.java:88)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.jktickets.controller.ConfirmOrderController$$SpringCGLIB$$0.doConfirm(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-07-26 23:21:14.487 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m1690384847360xr9  [0;39m Resolved [java.lang.StringIndexOutOfBoundsException: begin 1, end 2, length 1]
2023-07-26 23:23:18.208 INFO  com.jktickets.interceptor.MemberInterceptor       :32   [32m1690384998208jnu  [0;39m è·å–ä¼šå‘˜ç™»å½•tokenï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYmYiOjE2OTAzODMyNjQsIm1vYmlsZSI6IjEzMDAwMDAwMDAwIiwiaWQiOjE2ODA5MzI5MDI3OTc0NDcxNjgsImV4cCI6MTY5MDQ2OTY2NCwiaWF0IjoxNjkwMzgzMjY0fQ.48VDaoJA-5rbFeMUX7MpYb7gwu7gTOW423LQ953khZs
2023-07-26 23:23:18.209 INFO  com.jktickets.utils.JwtUtil                       :64   [32m1690384998208jnu  [0;39m æ ¹æ®tokenè·å–åŸå§‹å†…å®¹ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 23:23:18.209 INFO  com.jktickets.interceptor.MemberInterceptor       :35   [32m1690384998208jnu  [0;39m å½“å‰ç™»å½•ä¼šå‘˜ï¼š{"mobile":"13000000000","id":1680932902797447168}
2023-07-26 23:23:18.212 INFO  com.jktickets.aspect.LogAspect                    :57   [32m1690384998208jnu  [0;39m ------------- å¼€å§‹ -------------
2023-07-26 23:23:18.212 INFO  com.jktickets.aspect.LogAspect                    :58   [32m1690384998208jnu  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8002/business/confirmOrder/doConfirm POST
2023-07-26 23:23:18.213 INFO  com.jktickets.aspect.LogAspect                    :59   [32m1690384998208jnu  [0;39m ç±»åæ–¹æ³•: com.jktickets.controller.ConfirmOrderController.doConfirm
2023-07-26 23:23:18.214 INFO  com.jktickets.aspect.LogAspect                    :60   [32m1690384998208jnu  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-07-26 23:23:18.215 INFO  com.jktickets.aspect.LogAspect                    :82   [32m1690384998208jnu  [0;39m è¯·æ±‚å‚æ•°: [{"dailyTrainTicketId":1683830340080242688,"date":1690214400000,"end":"æ­å·","start":"æ¸©å·","tickets":[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}],"trainCode":"01"}]
2023-07-26 23:23:18.216 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384998208jnu  [0;39m æ‰§è¡ŒSQL:  insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 23:23:18.217 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384998208jnu  [0;39m å‚æ•°å€¼: ConfirmOrder [Hash = 1312838477, id=1684222870013743104, memberId=1680932902797447168, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, end=æ­å·, dailyTrainTicketId=1683830340080242688, status=I, createTime=2023-07-26 23:23:18, updateTime=2023-07-26 23:23:18, tickets=[{"passengerId":1681265704667582464,"passengerIdCard":"1","passengerName":"æµ‹è¯•","passengerType":"1","seat":"A1","seatTypeCode":"2"},{"passengerId":1681265759105454080,"passengerIdCard":"123","passengerName":"æµ‹è¯•33","passengerType":"2","seat":"B2","seatTypeCode":"2"}]]
2023-07-26 23:23:18.256 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384998208jnu  [0;39m SQLæ‰§è¡Œå®Œæˆ: insert | execution(int com.jktickets.mapper.ConfirmOrderMapper.insert(ConfirmOrder))
2023-07-26 23:23:18.257 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384998208jnu  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 23:23:18.257 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384998208jnu  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainTicketExample@1f5ad147
2023-07-26 23:23:18.276 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384998208jnu  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainTicketMapper.selectByExample(DailyTrainTicketExample))
2023-07-26 23:23:18.276 INFO  com.jktickets.service.ConfirmOrderService         :157  [32m1690384998208jnu  [0;39m æŸ¥å‡ºä½™ç¥¨è®°å½•:DailyTrainTicket [Hash = 454306492, id=1683830340080242688, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, start=æ¸©å·, startPinyin=wenzhou, startTime=Thu Jan 01 22:15:03 CST 1970, startIndex=1, end=æ­å·, endPinyin=hangzhou, endTime=Thu Jan 01 15:00:00 CST 1970, endIndex=2, ydz=12, ydzPrice=5.28, edz=25, edzPrice=3.96, rw=-1, rwPrice=7.92, yw=-1, ywPrice=6.60, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023]
2023-07-26 23:23:18.277 INFO  com.jktickets.service.ConfirmOrderService         :176  [32m1690384998208jnu  [0;39m æœ¬æ¬¡è´­ç¥¨æœ‰é€‰åº§
2023-07-26 23:23:18.277 INFO  com.jktickets.service.ConfirmOrderService         :180  [32m1690384998208jnu  [0;39m æœ¬æ¬¡é€‰åº§ åº§ä½ç±»å‹åŒ…å«çš„åˆ—:[EDZ_A, EDZ_B, EDZ_C, EDZ_D, EDZ_F]
2023-07-26 23:23:18.277 INFO  com.jktickets.service.ConfirmOrderService         :192  [32m1690384998208jnu  [0;39m ç”¨äºä½œå‚ç…§çš„ä¸¤æ’åº§ä½,[A1, B1, C1, D1, F1, A2, B2, C2, D2, F2]
2023-07-26 23:23:18.277 INFO  com.jktickets.service.ConfirmOrderService         :203  [32m1690384998208jnu  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„çš„ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 23:23:18.277 INFO  com.jktickets.service.ConfirmOrderService         :216  [32m1690384998208jnu  [0;39m è®¡ç®—å¾—åˆ°æ‰€æœ‰åº§ä½çš„ ç»å¯¹åç§»é‡:[0, 6]
2023-07-26 23:23:18.278 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384998208jnu  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 23:23:18.278 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384998208jnu  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainCarriageExample@776ad829
2023-07-26 23:23:18.294 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384998208jnu  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainCarriageMapper.selectByExample(DailyTrainCarriageExample))
2023-07-26 23:23:18.294 INFO  com.jktickets.service.ConfirmOrderService         :258  [32m1690384998208jnu  [0;39m å…±æŸ¥å‡º1ä¸ªç¬¦åˆæ¡ä»¶çš„è½¦å¢
2023-07-26 23:23:18.295 INFO  com.jktickets.service.ConfirmOrderService         :263  [32m1690384998208jnu  [0;39m ä»è½¦å¢2é€‰åº§
2023-07-26 23:23:18.295 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384998208jnu  [0;39m æ‰§è¡ŒSQL:  selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 23:23:18.295 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384998208jnu  [0;39m å‚æ•°å€¼: com.jktickets.domain.DailyTrainSeatExample@5a953081
2023-07-26 23:23:18.312 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384998208jnu  [0;39m SQLæ‰§è¡Œå®Œæˆ: selectByExample | execution(List com.jktickets.mapper.DailyTrainSeatMapper.selectByExample(DailyTrainSeatExample))
2023-07-26 23:23:18.313 INFO  com.jktickets.service.ConfirmOrderService         :271  [32m1690384998208jnu  [0;39m è½¦å¢2çš„åº§ä½æ•°:25
2023-07-26 23:23:28.905 INFO  com.jktickets.service.ConfirmOrderService         :395  [32m1690384998208jnu  [0;39m åº§ä½1åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2å·²å”®è¿‡ç¥¨,ä¸å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 23:23:28.905 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384998208jnu  [0;39m åº§ä½2åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:B,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:23:28.906 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384998208jnu  [0;39m åº§ä½3åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:C,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:23:28.906 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384998208jnu  [0;39m åº§ä½4åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:D,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:23:28.906 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384998208jnu  [0;39m åº§ä½5åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:F,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:23:30.787 INFO  com.jktickets.service.ConfirmOrderService         :395  [32m1690384998208jnu  [0;39m åº§ä½6åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2å·²å”®è¿‡ç¥¨,ä¸å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 23:23:30.788 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384998208jnu  [0;39m åº§ä½7åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:B,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:23:30.788 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384998208jnu  [0;39m åº§ä½8åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:C,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:23:30.788 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384998208jnu  [0;39m åº§ä½9åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:D,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:23:30.788 INFO  com.jktickets.service.ConfirmOrderService         :302  [32m1690384998208jnu  [0;39m åº§ä½10åˆ—å€¼ä¸å¯¹,ç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªåº§ä½,å½“å‰åˆ—æ”¯:F,ç›®æ ‡åˆ—å€¼:A
2023-07-26 23:23:31.551 INFO  com.jktickets.service.ConfirmOrderService         :400  [32m1690384998208jnu  [0;39m åº§ä½11åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2æ²¡æœ‰å”®è¿‡ç¥¨,å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 23:23:31.552 INFO  com.jktickets.service.ConfirmOrderService         :419  [32m1690384998208jnu  [0;39m åº§ä½11è¢«é€‰ä¸­ï¼ŒåŸå”®ç¥¨ä¿¡æ¯:00,è½¦ç«™åŒºé—´:1-2,å³:01,æœ€ç»ˆå”®ç¥¨ä¿¡æ¯:01
2023-07-26 23:23:31.552 INFO  com.jktickets.service.ConfirmOrderService         :311  [32m1690384998208jnu  [0;39m é€‰ä¸­åº§ä½
2023-07-26 23:23:31.553 INFO  com.jktickets.service.ConfirmOrderService         :325  [32m1690384998208jnu  [0;39m æœ‰åç§»å€¼:[0, 6]ï¼Œæ ¡éªŒåç§»çš„åº§ä½æ˜¯å¦å¯é€‰
2023-07-26 23:23:32.136 INFO  com.jktickets.service.ConfirmOrderService         :400  [32m1690384998208jnu  [0;39m åº§ä½17åœ¨æœ¬æ¬¡è½¦ç«™åŒºé—´1-2æ²¡æœ‰å”®è¿‡ç¥¨,å¯é€‰ä¸­è¯¥åº§ä½
2023-07-26 23:23:32.136 INFO  com.jktickets.service.ConfirmOrderService         :419  [32m1690384998208jnu  [0;39m åº§ä½17è¢«é€‰ä¸­ï¼ŒåŸå”®ç¥¨ä¿¡æ¯:00,è½¦ç«™åŒºé—´:1-2,å³:01,æœ€ç»ˆå”®ç¥¨ä¿¡æ¯:01
2023-07-26 23:23:32.137 INFO  com.jktickets.service.ConfirmOrderService         :349  [32m1690384998208jnu  [0;39m åº§ä½17è¢«é€‰ä¸­
2023-07-26 23:23:32.137 INFO  com.jktickets.service.ConfirmOrderService         :230  [32m1690384998208jnu  [0;39m æœ€ç»ˆé€‰åº§:[DailyTrainSeat [Hash = 1633463299, id=1683830337207144448, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, carriageIndex=2, row=03, col=A, seatType=2, carriageSeatIndex=11, sell=01, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023], DailyTrainSeat [Hash = 1255530786, id=1683830338079559680, date=Tue Jul 25 00:00:00 CST 2023, trainCode=01, carriageIndex=2, row=04, col=B, seatType=2, carriageSeatIndex=17, sell=01, createTime=Tue Jul 25 21:23:31 CST 2023, updateTime=Tue Jul 25 21:23:31 CST 2023]]
2023-07-26 23:23:32.174 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384998208jnu  [0;39m æ‰§è¡ŒSQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 23:23:32.175 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384998208jnu  [0;39m å‚æ•°å€¼: DailyTrainSeat [Hash = 1395106422, id=1683830337207144448, date=null, trainCode=null, carriageIndex=null, row=null, col=null, seatType=null, carriageSeatIndex=null, sell=01, createTime=null, updateTime=Wed Jul 26 23:23:32 CST 2023]
2023-07-26 23:23:32.204 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384998208jnu  [0;39m SQLæ‰§è¡Œå®Œæˆ: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 23:23:32.204 INFO  com.jktickets.service.AfterConfirmOrderService    :84   [32m1690384998208jnu  [0;39m å½±å“å‡ºå‘ç«™åŒºé—´:0-1
2023-07-26 23:23:32.205 INFO  com.jktickets.service.AfterConfirmOrderService    :97   [32m1690384998208jnu  [0;39m å½±å“åˆ°è¾¾ç«™åŒºé—´:1-0
2023-07-26 23:23:32.205 INFO  com.jktickets.aspect.LogAspect                    :106  [32m1690384998208jnu  [0;39m æ‰§è¡ŒSQL:  updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 23:23:32.205 INFO  com.jktickets.aspect.LogAspect                    :111  [32m1690384998208jnu  [0;39m å‚æ•°å€¼: DailyTrainSeat [Hash = 2105033504, id=1683830338079559680, date=null, trainCode=null, carriageIndex=null, row=null, col=null, seatType=null, carriageSeatIndex=null, sell=01, createTime=null, updateTime=Wed Jul 26 23:23:32 CST 2023]
2023-07-26 23:23:32.230 INFO  com.jktickets.aspect.LogAspect                    :120  [32m1690384998208jnu  [0;39m SQLæ‰§è¡Œå®Œæˆ: updateByPrimaryKeySelective | execution(int com.jktickets.mapper.DailyTrainSeatMapper.updateByPrimaryKeySelective(DailyTrainSeat))
2023-07-26 23:23:32.231 INFO  com.jktickets.service.AfterConfirmOrderService    :84   [32m1690384998208jnu  [0;39m å½±å“å‡ºå‘ç«™åŒºé—´:0-1
2023-07-26 23:23:32.231 INFO  com.jktickets.service.AfterConfirmOrderService    :97   [32m1690384998208jnu  [0;39m å½±å“åˆ°è¾¾ç«™åŒºé—´:1-0
2023-07-26 23:23:32.257 INFO  com.jktickets.aspect.LogAspect                    :94   [32m1690384998208jnu  [0;39m è¿”å›ç»“æœ: {"code":0,"message":"","success":true}
2023-07-26 23:23:32.258 INFO  com.jktickets.aspect.LogAspect                    :95   [32m1690384998208jnu  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14047 ms -------------
2023-07-26 23:25:36.235 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-07-26 23:25:36.243 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
